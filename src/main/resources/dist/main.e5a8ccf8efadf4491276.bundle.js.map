{"version":3,"sources":["webpack://lib_alpha_prototype/WeakMap.ts","webpack://lib_alpha_prototype/Set.ts","webpack://lib_alpha_prototype/object.ts","webpack://lib_alpha_prototype/Map.ts","webpack://lib_alpha_prototype/util.ts","webpack://lib_alpha_prototype/array.ts","webpack://lib_alpha_prototype/Destroyable.ts","webpack://lib_alpha_prototype/Evented.ts","webpack://lib_alpha_prototype/Registry.ts","webpack://lib_alpha_prototype/diff.ts","webpack://lib_alpha_prototype/RegistryHandler.ts","webpack://lib_alpha_prototype/vdom.ts","webpack://lib_alpha_prototype/icache.ts","webpack://lib_alpha_prototype/injector.ts","webpack://lib_alpha_prototype/Injector.ts","webpack://lib_alpha_prototype/ThemeInjector.ts","webpack://lib_alpha_prototype/theme.ts","webpack://lib_alpha_prototype/theme.tsx","webpack://lib_alpha_prototype/index.tsx","webpack://lib_alpha_prototype/./src/widgets/Menu.ts","webpack://lib_alpha_prototype/NodeHandler.ts","webpack://lib_alpha_prototype/WidgetBase.ts","webpack://lib_alpha_prototype/handleDecorator.ts","webpack://lib_alpha_prototype/diffProperty.ts","webpack://lib_alpha_prototype/DgridWrapper.ts","webpack://lib_alpha_prototype/./src/icons/IconInterface.ts","webpack://lib_alpha_prototype/./src/icons/ArrowRight.ts","webpack://lib_alpha_prototype/./src/icons/SuccessScroll.ts","webpack://lib_alpha_prototype/./src/icons/FailedScroll.ts","webpack://lib_alpha_prototype/focus.ts","webpack://lib_alpha_prototype/./src/icons/SuccessCircle.ts","webpack://lib_alpha_prototype/./src/icons/FailedCircle.ts","webpack://lib_alpha_prototype/./src/icons/Pluss.ts","webpack://lib_alpha_prototype/resources.ts","webpack://lib_alpha_prototype/validity.ts","webpack://lib_alpha_prototype/dimensions.ts","webpack://lib_alpha_prototype/ResizeObserver.ts","webpack://lib_alpha_prototype/resize.ts","webpack://lib_alpha_prototype/./src/icons/IconCloceDialogHeader.tsx","webpack://lib_alpha_prototype/./src/widgets/CustomDialog.tsx","webpack://lib_alpha_prototype/./src/resource/SQLHistoryResource.ts","webpack://lib_alpha_prototype/./src/widgets/SQLPrepareDialog.tsx","webpack://lib_alpha_prototype/./src/widgets/SQLStateDialog.tsx","webpack://lib_alpha_prototype/./src/widgets/DGrid.ts","webpack://lib_alpha_prototype/./src/services/History.ts","webpack://lib_alpha_prototype/./src/widgets/CustomInput.ts","webpack://lib_alpha_prototype/./src/widgets/CustomButton.ts","webpack://lib_alpha_prototype/./src/widgets/CustomTextReverser.tsx","webpack://lib_alpha_prototype/./src/App.ts","webpack://lib_alpha_prototype/./src/main.ts","webpack://lib_alpha_prototype/wrapper.ts","webpack://lib_alpha_prototype/./src/widgets/styles/DGrid.m.css","webpack://lib_alpha_prototype/./src/widgets/styles/CustomDialog.m.css","webpack://lib_alpha_prototype/./src/App.m.css","webpack://lib_alpha_prototype/index.ts","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/accordion.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/avatar.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/breadcrumb-group.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/button.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/calendar.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/card.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/checkbox-group.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/checkbox.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/chip-typeahead.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/chip.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/date-input.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/dialog.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/floating-action-button.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/form.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/grid-body.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/grid-cell.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/grid-footer.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/grid-header.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/grid-paginated-footer.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/grid-placeholder-row.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/grid-row.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/grid.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/header-card.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/header.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/helper-text.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/icon.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/label.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/list-item.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/list.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/loading-indicator.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/menu-item.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/native-select.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/outlined-button.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/pagination.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/password-input.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/popup.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/progress.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/radio-group.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/radio.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/raised-button.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/range-slider.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/result.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/select.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/slide-pane.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/slider.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/snackbar.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/speed-dial.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/switch.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/tab-container.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/text-area.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/text-input.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/three-column-layout.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/time-picker.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/title-pane.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/tooltip.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/two-column-layout.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/typeahead.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/variants/dark.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/dojo/variants/default.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/default/header.m.css.js","webpack://lib_alpha_prototype/./src/widgets/styles/Menu.m.css","webpack://lib_alpha_prototype/./src/icons/crervon-right.svg","webpack://lib_alpha_prototype/./src/icons/success-scroll.png","webpack://lib_alpha_prototype/./src/icons/failed-scroll.png","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/default/button.m.css.js","webpack://lib_alpha_prototype/./src/icons/success-circle.svg","webpack://lib_alpha_prototype/./src/icons/failed-circle.svg","webpack://lib_alpha_prototype/./src/icons/pluss.svg","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/default/helper-text.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/common/styles/base.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/default/label.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/default/text-input.m.css.js","webpack://lib_alpha_prototype/./node_modules/@dojo/widgets/theme/default/icon.m.css.js","webpack://lib_alpha_prototype/./src/icons/style/IconCloseDialogHeader.m.css","webpack://lib_alpha_prototype/./src/icons/question.png","webpack://lib_alpha_prototype/./src/widgets/styles/SQLStateDialog.m.css","webpack://lib_alpha_prototype/./src/widgets/styles/CustomButton.m.css"],"names":["shim_WeakMap","global","WeakMap","shim_Set","Set","object_assign","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","is","object_keys","getOwnPropertyDescriptors","entries","values","Object","assign","keys","Map","shim_Map","wrapNative","nativeFunction","target","args","apply","from","of","copyWithin","fill","array_find","findIndex","includes","flat","flatMap","Array","prototype","find","noop","shim_Promise","resolve","destroyed","Error","Destroyable_Destroyable","[object Object]","this","handles","handle","_handles","push","splice","indexOf","destroy","forEach","own","regexMap","Evented_Evented","listenersMap","event","methods","type","globString","targetString","regex","has","get","RegExp","replace","set","test","isGlobMatch","method","call","listener","isArray","map","_addListener","listeners","WIDGET_BASE_TYPE","isWidgetBaseConstructor","item","Boolean","_type","isWidgetFunction","isWidget","isWNodeFactory","node","isFactory","Registry_Registry","widgetLabel","emit","action","label","undefined","_widgetRegistry","toString","then","widgetCtor","emitLoadedEvent","error","injectorFactory","_injectorRegistry","invalidator","injectorItem","injector","promise","hasOwnProperty","default","isWidgetConstructorDefaultExport","hasInjector","isObjectOrArray","value","reference","previousProperty","newProperty","changed","auto","depth","result","ignore","validOldProperty","validNewProperty","previousKeys","newKeys","length","some","key","diff_shallow","core_RegistryHandler","super","_registry","_registryWidgetLabelMap","_registryInjectorLabelMap","baseRegistry","delete","base","widget","define","defineInjector","globalPrecedence","_get","getFunctionName","labelMap","registries","i","registry","registeredLabels","on","EMPTY_ARRAY","nodeOperations","NAMESPACE_SVG","NAMESPACE_W3","NAMESPACE_XLINK","WNODE","VNODE","DOMVNODE","scope","setRendering","rendering","isTextNode","nodeType","isWNodeWrapper","child","isWNode","isVNodeWrapper","isVNode","isVirtualWrapper","tag","isBodyWrapper","wrapper","isHeadWrapper","isSpecialWrapper","isDomVNode","isElementNode","tagName","w","widgetConstructorOrNode","properties","children","__children__","widgetConstructor","v","propertiesOrChildren","deferredPropertiesCallback","classes","styles","newProperties","__rest","_a","nodeClasses","nodeStyles","nodeProperties","REGISTRY_ITEM","FromRegistry","__properties__","tsx","Infinity","__autoRegistryItem","name","buildPreviousProperties","domNode","current","diffType","attributes","deferredProperties","events","propName","attrName","getAttribute","reduce","props","property","same","dnode1","dnode2","widgetConstructor1","registryItem","widgetConstructor2","props1","props2","instance","every","findIndexOfChild","sameAs","start","createClassPropValue","classNames","className","updateAttribute","attrValue","namespace","setAttributeNS","removeAttribute","setAttribute","arrayFrom","arr","slice","createFactory","callback","middlewares","factory","middlewareName","middleware","withType","create","returns","widgetInstanceMap","widgetMetaMap","requestedDomNodes","wrapperId","metaId","addNodeToMap","id","widgetMeta","nodeMap","destroyHandles","meta","destroyMap","middlewareIds","size","clear","vdom_invalidator","widgetId","split","vdom_node","mountNode","contains","document","body","add","vdom_diffProperty","propertyName","propertiesOrDiff","diff","customDiffMap","customDiffProperties","propertyDiffMap","originalProperties","vdom_destroy","destroyFunction","vdom_getRegistry","registryHandler","isDeferred","deferRefs","wrapFunctionProperties","propertyNames","unwrap","vdom","renderer","_renderScheduled","parentInvalidate","_appWrapperId","_mountOptions","sync","merge","transition","_invalidationQueue","_processQueue","_deferredProcessQueue","_applicationQueue","_eventMap","_idToWrapperMap","_wrapperSiblingMap","_idToChildrenWrappers","_insertBeforeMap","_nodeToWrapperMap","_deferredRenderCallbacks","_allMergedNodes","_deferredProcessIds","nodeOperation","propValue","previousValue","updateEvent","eventName","currentValue","previousEvent","removeEventListener","evt","addEventListener","removeOrphanedEvents","previousProperties","onlyEvents","isEvent","substr","eventCallback","resolveRegistryItem","owningNode","instanceData","registryLabel","isLazyDefine","renderedToWrapper","rendered","parent","currentParent","requiresInsertBefore","hasPreviousSiblings","wrappedRendered","hasParentWNode","hasVirtualParentNode","hasCurrentParentChildren","insertBefore","previousItem","nodes","pop","mapNodeToInstance","renderedItem","text","order","parentId","exitAnimation","hasAnimations","nextParent","owningId","runDeferredProperties","next","processProperties","findInsertBefore","searchNode","nextSibling","childDomWrapperId","findDomNodeOnParentWrapper","childWrapper","parentNode","setValue","domValue","onInputValue","onSelectValue","setProperties","currentProperties","nextWrapper","includesEventsAndAttributes","propNames","propCount","previousClassString","currentClassString","merged","domClasses","styleNames","styleCount","j","styleName","newStyleValue","style","lastIndexOf","_createDeferredRenderCallback","callbacks","shift","_scheduleDeferredRenderCallbacks","run","requestAnimationFrame","previousAttributes","attrNames","attrCount","updateAttributes","_schedule","_runInvalidationQueue","getWNodeWrapper","invalidationQueue","previouslyRendered","sort","a","b","_runProcessQueue","sibling","_updateWidget","_runDomInstructionQueue","_cleanUpMergedNodes","mergedNode","removeChild","_process","reverse","parentDomNode","onAttach","parentElement","enterAnimation","enterAnimationActive","enter","owningWrapper","nodeHandler","inserted","currentDomNode","replaceChild","exitAnimationActive","exit","attached","addRoot","onDetach","createKeyMap","wrappers","mergeNodes","oldIndex","newIndex","currentLength","nextLength","instructions","currentKeys","nextKeys","currentWrapper","domElement","toUpperCase","mergeNodeIndex","_processMergeNodes","_processOne","dom","currentNode","parentWrapper","findParentDomNode","isVirtual","isBody","isHead","data","createTextNode","childNodes","head","createElementNS","createElement","_createDom","invalidate","Constructor","dirty","__setProperties__","__setChildren__","__render__","widgetName","propertiesCalled","ids","resolveMiddleware","results","uniqueId","payload","createWidgetOptions","resolvedMiddleware","_createWidget","currentChildren","_updateDom","isSpecial","remove","specialIds","wrapperChildren","_removeDom","processResult","_removeWidget","didRender","customProperties","diffMap","runDiffs","ignoreProperties","propertiesDiff","childId","mount","mountOptions","renderResult","wrapNodes","siblingId","unmount","cancelAnimationFrame","icacheFactory","icache_factory","cacheMap","api","cachedValue","status","getOrSet","createICacheMiddleware","icache_icache","middleware_icache","injector_injector","getRegistry","injector_injectorFactory","getInjector","index","core_Injector","_payload","_invalidator","isThemeWithVariant","theme","isThemeWithVariants","isThemeInjectorPayloadWithVariant","createThemeInjectorPayload","variant","variants","isVariantModule","ThemeInjector_ThemeInjector","INJECTED_THEME_KEY","middleware_theme","icache","diffProperty","theme_factory","themeKeys","getTheme","themeInjector","themePayload","themeRegistry","setInvalidator","registerThemeInjector","subscribe","css","cachedTheme","theme_rest","currentClasses","currentTheme","classKeys","classKey","join","root","middleware_theme_factory","coreTheme","uppercaseFirstChar","charAt","theme_isThemeWithVariant","middleware_theme_theme","compose","baseCss","prefix","baseKey","variantKey","virtualCss"," _key","virtualTheme","variantTheme","baseTheme","prefixedCss","prefixCss","toLowerCase","lowercaseFirstChar","trim","constructedTheme","variantComposesClass","widgets_middleware_theme","header","header_factory","header_m_css","sticky","actions","leading","title","trailing","spacer","row","primary","secondary","extraClasses","@dojo/widgets/header","Menu_m","widgets_Menu","util_hasOwnProperty","shouldDeepCopyObject","copyArray","array","inherited","_mixin","deep","sources","kwArgs","copied","copiedClone","source","targetValue","NodeEventType","core_NodeHandler","_nodeMap","element","Widget","Projector","decoratorMap","builtDecoratorMap","boundAuto","bind","IGNORE_LIST","getPrototypeOf","autoBindCache","WidgetBase_WidgetBase","_initialProperties","_changedPropertyKeys","_nodeHandler","_children","_decoratorCache","_properties","_boundRenderFunc","render","_boundInvalidate","inputProperties","_runAfterConstructors","MetaType","_metaMap","cached","changedPropertyKeys","_runBeforeProperties","registeredDiffPropertyNames","getDecorator","constructor","ownKeys","descriptors","getterKeys","filter","filteredKeys","k","boundFunc","defineProperty","configurable","autoBind","allProperties","checkedProperties","diffPropertyResults","runReactions","diffFunctions","reactionFunctions","executedReactions","reaction","propertyChanged","reactionRun","_runBeforeRenders","_runAfterRenders","decoratorKey","decoratorList","specificDecoratorList","decorators","allDecorators","instanceMap","unshift","buildDecorators","decoratorCache","_buildDecoratorList","beforeProperties","beforePropertiesFunction","beforeRenders","beforeRenderFunction","updatedRender","console","warn","dNode","afterRenders","afterRenderFunction","afterRender","isDomMeta","afterConstructors","afterConstructor","core_WidgetBase","handleDecorator","handler","propertyKey","descriptor","diffProperty_diffProperty","diffFunction","reactionFunction","addDecorator","SelectionMode","constructionKeys","SelectionType","duplicate","deepMixin","buildSelectEvent","selectionType","rows","cell","rowData","cells","cellData","field","column","buildCellFocus","parentType","DgridWrapper_DgridInnerWrapper","grid","_grid","setChangedGridProperites","initGrid","registerGridEvents","attrs","vdom_dom","restoreGridState","startup","onGridState","currentPage","_currentPage","emitGridState","pagination","keyboard","selection","selector","tree","columnHider","columnReorder","columnResizer","compoundColumns","columnSet","features","mixins","overrides","Grid_","Pagination_","_updateNavigation","total","arguments","OnDemandGrid_","Tree_","Keyboard_","Selection_","CellSelection_","Selector_","ColumnHider_","ColumnReorder_","ColumnResizer_","CompoundColumns_","ColumnSet_","declare_","buildConstructor","filterProperties","gridState","gotoPage","DgridWrapper_rest","columnsSpec","collection","treeEnabled","Memory_","Trackable_","external_dstore_Tree_","getRootCollection","buildCollection","columnSets","subRows","subRow","columns","columnSpec","changeProperties","onSelect","onDeselect","onColumnStateChange","hidden","buildColumnStateChange","onColumnReorder","buildColumnReorder","onColumnResize","width","columnId","buildColumnResize","onCellFocusIn","onCellFocusOut","onSort","onError","buildSort","buildError","DgridWrapper_DgridWrapper","_gridState","__decorate","prevColumnSpec","newColumnSpec","prevIsArray","prevColumnArray","newColumnArray","previousColumnDef","IconInterface","el","iconLocation","getIcon","getSizedIcon","src","failedScroll","__webpack_require__","ArrowRight","SuccessScroll_failedScroll","SuccessScroll","FailedScroll_failedScroll","icons_FailedScroll","focus_focus","focus_factory","currentElement","initialized","previous","nodeSet","onFocusChange","activeElement","_","focus","shouldFocus","Keys","middleware_focus","formatAriaProperties","aria","widgets_button","button_factory","disabled","pressed","onClick","onOut","onOver","onDown","onUp","onBlur","onFocus","themeCss","button_m_css","idBase","onblur","onclick","stopPropagation","onfocus","onpointerenter","onpointerleave","onpointerdown","onpointerup","aria-pressed","SuccessCircle_failedScroll","SuccessCircle","FailedCircle_failedScroll","FailedCircle","Pluss_failedScroll","Pluss","defaultFilter","query","queryKeys","queryKey","freeze","init","put","offset","read","request","filteredData","options","found","getMetaKey","JSON","stringify","getFindKey","findOptions","getFindOptions","resources_rest","getReadKey","page","getDataKey","isFindOptions","isFindRequest","isFindResponse","transformData","transformConfig","transformedItem","sourceKeys","sourceKey","transformQuery","transformedQuery","transformOptions","isTemplateWithInit","diffInitOptions","initKey","createResource","template","initOptions","dataMap","metaMap","statusMap","findMap","requestPageMap","invalidatorMaps","failed","loading","dataKey","response","cachedData","maxItem","clearStatus","Math","floor","setMeta","setData","pageIndex","setFind","invalidatorSet","keyedInvalidatorMap","releaseResource","isStatus","statusType","setStatus","isLoading","isFailed","metaKey","getCachedPageData","requestedPages","requestedCachedData","getOrRead","pages","getOrReadResponse","requestKey","promises","statusKey","catch","Promise","all","requireDiff","reset","subscribeMeta","subscribeRead","subscribeFind","subscribeFailed","subscribeLoading","unsubscribe","resourceMap","templateToResourceMap","optionInvalidatorMap","idToResourceMap","createOptionsWrapper","setOptions","newOptions","calculatedOptions","isTemplate","isResource","getResource","templateOrWrapper","templateId","resource","registeredResources","ownerId","substring","isOwner","ownerResources","resourceMiddlewareFactory","resources_factory","middlewareId","optionsMap","resources","currentInitOptions","nextInitOptions","nextOptions","currOptions","transform","rest","createOptions","optionsWrapper","resourceOptions","items","createResourceMiddleware","middleware_validity","validity_factory","setTimeout","valid","validity","message","validationMessage","helper_text","themedCss","helper_text_m_css","invalid","aria-hidden","widgets_label","label_factory","active","focused","forId","readOnly","required","label_m_css","readonly","base_m_css","for","formatAutocomplete","autocomplete","text_input_TextInput","text_input_factory","pattern","text_input_m_css","customValidator","helperText","labelHidden","max","maxLength","min","minLength","onKeyDown","onKeyUp","onValidate","onValue","patternValue","placeholder","step","themeProp","initialValue","validValue","_callOnValidate","previousMessage","previousValid","customValid","computedHelperText","inputFocused","isFocused","role","hasLeading","hasTrailing","noLabel","inputWrapper","inputWrapperFocused","aria-invalid","input","maxlength","minlength","aria-readonly","oninput","onkeydown","which","preventDefault","onkeyup","addonFactory","filled","addonRoot","addonFilled","text_input","icon","icon_factory","altText","icon_m_css","sizeClass","aria-label","dimensions_factory","defaultDimensions","height","left","top","bottom","right","middleware_dimensions","client","position","scroll","boundingDimensions","getBoundingClientRect","clientHeight","clientLeft","clientTop","clientWidth","offsetHeight","offsetLeft","offsetTop","offsetWidth","scrollHeight","scrollLeft","scrollTop","scrollWidth","ResizeObserver","util_wrapper","middleware_resize","resize_factory","resizeObserver","entry","contentRect","observe","disconnect","IconCloceDialogHeader","IconCloseDialogHeader_m","onmouseenter","onmouseleave","CustomDialog","dimensions","resize","state","maxWidth","headerTitle","classesHeader","classesRoot","myChildren","reactiveDom","dialogDim","offsetDialog","round","styleBoxPosition","isDialogOpen","CustomDialog_m","openCloseDialogClasses","e","resourceAddressPost","SQLHistoryResource_template","async","controls","fetch","headers","Headers","Content-Type","json","list","histroryTokenList","tokens","history","executedSuccess","exeDate","Date","executionDate","exeTime","executionTime","statement","postQuery","queryString","success","log","errors","postQueryJson","buttonCss","@dojo/widgets/button","@dojo/widgets/icon","SQLPrepareDialog_factory","questionPng","prevQuery","Result","SQLPrepareDialog","openResult","alt","SQLStateDialog_StateDialog","resultHeader","getCol","Success","Fail","SQLStateDialog_m","buttonClassInActive","DGrid_m","buttonClassActive","DGrid_query","choosenButtonIndex","buttonsState","createCustomColumn","innerText","columnTitle","renderCell","object","image","exeSQl","DGrid_data","deialogResultOpen","dialogOpen","doFilter","DGrid","Number","MAX_VALUE","filtterCount","isNaN","getTime","Intl","DateTimeFormat","year","month","day","hour","minute","second","format","String","vi","CustomInput","disabledCustom","onValFunc","initValue","CustomButton_extraClasses","CustomButton_m","CustomButton","func","CustomTextReverser_factory","sentence","setSentence","CustomTextReverser","App_m","src_App","dojo_default","r","main_domNode","getElementById","d","__webpack_exports__","_global__WEBPACK_IMPORTED_MODULE_0__","nameOnGlobal","module","exports","rootCell","rootTh","rootThSmall","tabRoot","tabTab","tabActive","buttonRoot","buttonPressed","buttonLabel","buttonLabelText","buttonLabelImg","buttonGroup","content","background","contentImg","contentText","iconHeader","iconHeaderOnMove","closedWrapper","iconHeaderOnLeave","main","accordionPane","avatar","breadcrumbGroup","button","calendar","card","checkboxGroup","checkbox","chipTypeahead","chip","dateInput","dialog","floatingActionButton","form","gridBody","gridCell","gridFooter","gridHeader","gridPaginatedFooter","gridPlaceholderRow","gridRow","headerCard","listItem","loadingIndicator","menuItem","nativeSelect","outlinedButton","passwordInput","popup","progress","radioGroup","radio","raisedButton","rangeSlider","select","slidePane","slider","snackbar","speedDial","switchControl","tabContainer","textArea","textInput","threeColumnLayout","timePicker","titlePane","tooltip","twoColumnLayout","typeahead","darkVariant","defaultVariant","@dojo/widgets/accordion","@dojo/widgets/avatar","@dojo/widgets/breadcrumb-group","@dojo/widgets/calendar","@dojo/widgets/card","@dojo/widgets/checkbox-group","@dojo/widgets/checkbox","@dojo/widgets/chip","@dojo/widgets/date-input","@dojo/widgets/dialog","@dojo/widgets/floating-action-button","@dojo/widgets/form","@dojo/widgets/grid-body","@dojo/widgets/grid-cell","@dojo/widgets/grid-footer","@dojo/widgets/grid-header","@dojo/widgets/grid-placeholder-row","@dojo/widgets/grid-paginated-footer","@dojo/widgets/grid-row","@dojo/widgets/grid","@dojo/widgets/header-card","@dojo/widgets/helper-text","@dojo/widgets/label","@dojo/widgets/list-item","@dojo/widgets/loading-indicator","@dojo/widgets/menu-item","@dojo/widgets/chip-typeahead","@dojo/widgets/list","@dojo/widgets/outlined-button","@dojo/widgets/native-select","@dojo/widgets/pagination","@dojo/widgets/password-input","@dojo/widgets/popup","@dojo/widgets/progress","@dojo/widgets/radio-group","@dojo/widgets/radio","@dojo/widgets/raised-button","@dojo/widgets/range-slider","@dojo/widgets/result","@dojo/widgets/select","@dojo/widgets/slide-pane","@dojo/widgets/slider","@dojo/widgets/snackbar","@dojo/widgets/speed-dial","@dojo/widgets/switch","@dojo/widgets/tab-container","@dojo/widgets/text-area","@dojo/widgets/text-input","@dojo/widgets/three-column-layout","@dojo/widgets/time-picker","@dojo/widgets/title-pane","@dojo/widgets/tooltip","@dojo/widgets/two-column-layout","@dojo/widgets/typeahead","dark","avatarColor","avatarColorSecondary","small","medium","large","circle","square","rounded","dateGrid","weekday","date","abbr","todayDate","inactiveDate","selectedDate","topMatter","monthTrigger","yearTrigger","monthTriggerActive","yearTriggerActive","calendarPagingIcon","monthGrid","yearGrid","monthFields","yearFields","monthRadio","yearRadio","monthRadioLabel","yearRadioLabel","monthRadioChecked","yearRadioChecked","monthRadioInput","yearRadioInput","actionButtons","actionIcons","media","mediaSquare","media16by9","titleWrapper","contentWrapper","subtitle","legend","checked","onLabel","offLabel","selectedIcon","closeIcon","clickable","toggleCalendarButton","underlayVisible","close","extended","groupRoot","fieldRoot","edit","sortable","sorted","-webkit-filter","details","more","pageNav","pageNumber","spin","filterGroup","headerContent","clockIcon","eyeIcon","eyeSlashIcon","plusIcon","minusIcon","checkIcon","leftIcon","rightIcon","upIcon","downIcon","upAltIcon","downAltIcon","searchIcon","barsIcon","settingsIcon","alertIcon","helpIcon","infoIcon","cancelIcon","checkedBoxIcon","phoneIcon","editIcon","dateIcon","linkIcon","locationIcon","secureIcon","mailIcon","starIcon","selected","menu","divider","buffer","bar","inner","arrow","linksWrapper","prev","link","selectWrapper","toggleButton","output","radioBackground","radioOuter","radioInner","thumb","hasOutput","outputTooltip","iconWrapper","statusIcon","iconIcon","alert","info","trigger","menuWrapper","pane","open","slideIn","slideOut","track","vertical","stacked","up","down","actionTransition","underlay","nativeControl","tabButtons","tabButton","disabledTabButton","activeTabButton","closeable","tab","alignLeft","tabs","alignRight","alignBottom","toggleMenuButton","titleButton","contentTransition","triggerWrapper","p","visuallyHidden","focusable","onenter","onleave"],"mappings":";;;;;;;;yKAgNe,IAAAA,EAvI0BC,EAAA,QAAOC,QC+GjC,IAAAC,EAhFkBF,EAAA,QAAOG,IChCjC,IAAIC,EASAC,EAOAC,EAMAC,EAOAC,EAMAC,EAIAC,EAEAC,EAEAC,EAoEXR,EAASS,OAAOC,OAChBT,EAA2BQ,OAAOR,yBAClCC,EAAsBO,OAAOP,oBAC7BC,EAAwBM,OAAON,sBAC/BC,EAAKK,OAAOL,GACZC,EAAOI,OAAOE,KACdL,EAA4BG,OAAOH,0BACnCC,EAAUE,OAAOF,QACjBC,EAASC,OAAOD,WCjELI,EAAsBhB,EAAA,QAAOgB,IA0GzB,IAAAC,EAAA,EChMR,SAASC,EAAWC,GAC1B,OAAO,SAASC,KAAgBC,GAC/B,OAAOF,EAAeG,MAAMF,EAAQC,IC+G/B,IAAIE,EAQAC,EAaAC,EAWAC,EAUAC,EAWAC,EAYAC,EAQAC,EAEAC,EA6NXR,EAAOS,MAAMT,KACbC,EAAKQ,MAAMR,GACXC,EAAaP,EAAWc,MAAMC,UAAUR,YACxCC,EAAOR,EAAWc,MAAMC,UAAUP,MAClCC,EAAOT,EAAWc,MAAMC,UAAUC,MAClCJ,EAAOZ,EAAWc,MAAMC,UAAUH,MAClCC,EAAUb,EAAWc,MAAMC,UAAUF,SACrCH,EAAYV,EAAWc,MAAMC,UAAUL,WACvCC,EAAWX,EAAWc,MAAMC,UAAUJ,UAEvB,WC3bf,SAASM,IACR,OAAOC,EAAA,QAAQC,SAAQ,GAMxB,SAASC,IACR,MAAM,IAAIC,MAAM,iCAGV,MAAMC,EASZC,cACCC,KAAKC,QAAU,GAUhBF,IAAIG,GACH,MAAQD,QAASE,GAAaH,KAE9B,OADAG,EAASC,KAAKF,GACP,CACNH,UACCI,EAASE,OAAOF,EAASG,QAAQJ,IACjCA,EAAOK,YAUVR,UACC,OAAO,IAAIL,EAAA,QAASC,IACnBK,KAAKC,QAAQO,QAASN,IACrBA,GAAUA,EAAOK,SAAWL,EAAOK,YAEpCP,KAAKO,QAAUd,EACfO,KAAKS,IAAMb,EACXD,GAAQ,MChEX,MAAMe,EAAW,IAAInC,EA4Df,MAAOoC,UAIHb,EAJVC,kCAYWC,KAAAY,aAA0D,IAAIrC,EASxEwB,KAAKc,GACJb,KAAKY,aAAaJ,QAAQ,CAACM,EAASC,MA/DhC,SAAsBC,EAA6BC,GACxD,GAA4B,iBAAjBA,GAAmD,iBAAfD,IAAwD,IAA7BA,EAAWV,QAAQ,KAAa,CACzG,IAAIY,EAOJ,OANIR,EAASS,IAAIH,GAChBE,EAAQR,EAASU,IAAIJ,IAErBE,EAAQ,IAAIG,WAAWL,EAAWM,QAAQ,MAAO,UACjDZ,EAASa,IAAIP,EAAYE,IAEnBA,EAAMM,KAAKP,GAElB,OAAOD,IAAeC,GAqDjBQ,CAAYV,EAAaF,EAAME,OAClC,IAAID,GAASN,QAASkB,IACrBA,EAAOC,KAAK3B,KAAMa,OA0BtBd,GAAGgB,EAAWa,GACb,GAAItC,MAAMuC,QAAQD,GAAW,CAC5B,MAAM3B,EAAU2B,EAASE,IAAKF,GAAa5B,KAAK+B,aAAahB,EAAMa,IACnE,MAAO,CACN7B,UACCE,EAAQO,QAASN,GAAWA,EAAOK,aAItC,OAAOP,KAAK+B,aAAahB,EAAMa,GAGxB7B,aAAagB,EAAmBa,GACvC,MAAMI,EAAYhC,KAAKY,aAAaQ,IAAIL,IAAS,GAGjD,OAFAiB,EAAU5B,KAAKwB,GACf5B,KAAKY,aAAaW,IAAIR,EAAMiB,GACrB,CACNzB,QAAS,KACR,MAAMyB,EAAYhC,KAAKY,aAAaQ,IAAIL,IAAS,GACjDiB,EAAU3B,OAAO2B,EAAU1B,QAAQsB,GAAW,MCvG3C,MAAMK,EAAmB,qBAyE1B,SAAUC,EAA6DC,GAC5E,OAAOC,QAAQD,GAAQA,EAAKE,QAAUJ,GAGjC,SAAUK,EAAiBH,GAChC,OAAOC,QAAQD,GAAQA,EAAKI,UAGvB,SAAUC,EAA0CC,GACzD,QAAoB,mBAATA,IAAuBA,EAAKC,WAMlC,SAAUH,EACfJ,GAEA,OAAOD,EAAwBC,IAASG,EAAiBH,GAiBpD,MAAOQ,UAAiBhC,EAWrBZ,gBACP6C,EACAT,GAOAnC,KAAK6C,KAAK,CACT9B,KAAM6B,EACNE,OAAQ,SACRX,SAIKpC,OAAOgD,EAAsBZ,GAKnC,QAJ6Ba,IAAzBhD,KAAKiD,kBACRjD,KAAKiD,gBAAkB,IAAI1E,GAGxByB,KAAKiD,gBAAgB9B,IAAI4B,GAC5B,MAAM,IAAIlD,iDAAiDkD,EAAMG,eAGlElD,KAAKiD,gBAAgB1B,IAAIwB,EAAOZ,GAE5BA,aAAgBzC,EAAA,QACnByC,EAAKgB,KACHC,IACApD,KAAKiD,gBAAiB1B,IAAIwB,EAAOK,GACjCpD,KAAKqD,gBAAgBN,EAAOK,GACrBA,GAEPE,IACA,MAAMA,IAGEpB,EAAwBC,IAClCnC,KAAKqD,gBAAgBN,EAAOZ,GAIvBpC,eAAegD,EAAsBQ,GAK3C,QAJ+BP,IAA3BhD,KAAKwD,oBACRxD,KAAKwD,kBAAoB,IAAIjF,GAG1ByB,KAAKwD,kBAAkBrC,IAAI4B,GAC9B,MAAM,IAAIlD,mDAAmDkD,EAAMG,eAGpE,MAAMO,EAAc,IAAI9C,EAElB+C,EAA6B,CAClCC,SAAUJ,EAAgB,IAAME,EAAYZ,KAAK,CAAE9B,KAAM,gBACzD0C,eAGDzD,KAAKwD,kBAAkBjC,IAAIwB,EAAOW,GAClC1D,KAAKqD,gBAAgBN,EAAOW,GAStB3D,IACNgD,GAEA,IAAK/C,KAAKiD,kBAAoBjD,KAAKmB,IAAI4B,GACtC,OAAO,KAGR,MAAMZ,EAAOnC,KAAKiD,gBAAgB7B,IAAI2B,GAEtC,GAAIR,EAAYJ,IAASK,EAAeL,GACvC,OAAOA,EAGR,GAAIA,aAAgBzC,EAAA,QACnB,OAAO,KAGR,MAAMkE,EAA0CzB,IAkBhD,OAjBAnC,KAAKiD,gBAAgB1B,IAAIwB,EAAOa,GAEhCA,EAAQT,KACNC,IAnHE,SACLjB,GAEA,OAAOC,QACND,GACCA,EAAK0B,eAAe,eACpB1B,EAAK0B,eAAe,aACnBtB,EAASJ,EAAK2B,UAAYtB,EAAeL,EAAK2B,WA6G1CC,CAAoCX,KACvCA,EAAaA,EAAWU,SAGzB9D,KAAKiD,gBAAiB1B,IAAIwB,EAAOK,GACjCpD,KAAKqD,gBAAgBN,EAAOK,GACrBA,GAEPE,IACA,MAAMA,IAID,KAGDvD,YAAegD,GACrB,OAAK/C,KAAKwD,mBAAsBxD,KAAKgE,YAAYjB,GAI1C/C,KAAKwD,kBAAkBpC,IAAI2B,GAH1B,KAMFhD,IAAIgD,GACV,OAAOX,QAAQpC,KAAKiD,iBAAmBjD,KAAKiD,gBAAgB9B,IAAI4B,IAG1DhD,YAAYgD,GAClB,OAAOX,QAAQpC,KAAKwD,mBAAqBxD,KAAKwD,kBAAkBrC,IAAI4B,KC7QtE,SAASkB,EAAgBC,GACxB,MAAiD,oBAA1C/F,OAAOoB,UAAU2D,SAASvB,KAAKuC,IAAgC5E,MAAMuC,QAAQqC,GAiB9E,SAASC,EAAUC,EAAuBC,GAChD,MAAO,CACNC,QAASF,IAAqBC,EAC9BH,MAAOG,GAoCF,SAASE,EAAKH,EAAuBC,EAAkBG,EAAQ,GACrE,IAAIC,EAYJ,OATEA,EAFyB,mBAAhBJ,EACNA,EAAYhC,QAAUJ,EAChBkC,EAAUC,EAAkBC,GAlDjC,SAAgBD,EAAuBC,GAC7C,MAAO,CACNC,SAAS,EACTJ,MAAOG,GAiDGK,CAAON,EAAkBC,GAEzBJ,EAAgBI,GAxCrB,SAAiBD,EAAuBC,EAAkBG,EAAQ,GACxE,IAAIF,GAAU,EAEd,MAAMK,EAAmBP,GAAoBH,EAAgBG,GACvDQ,EAAmBP,GAAeJ,EAAgBI,GAExD,IAAKM,IAAqBC,EACzB,MAAO,CACNN,SAAS,EACTJ,MAAOG,GAIT,MAAMQ,EAAe1G,OAAOE,KAAK+F,GAC3BU,EAAU3G,OAAOE,KAAKgG,GAY5B,MAAO,CACNC,QAVAA,EADGO,EAAaE,SAAWD,EAAQC,QAGzBD,EAAQE,KAAMC,GACnBT,EAAQ,EACJD,EAAKF,EAAYY,GAAMb,EAAiBa,GAAMT,EAAQ,GAAGF,QAE1DD,EAAYY,KAASb,EAAiBa,IAK9Cf,MAAOG,GAaEa,CAAQd,EAAkBC,EAAaG,GAEvCL,EAAUC,EAAkBC,GC6BxB,IAAAc,EA3FT,cAA+BxE,EAMpCZ,cACCqF,QANOpF,KAAAqF,UAAY,IAAI1C,EAChB3C,KAAAsF,wBAA0D,IAAIhH,EAC9D0B,KAAAuF,0BAA4D,IAAIjH,EAKvE0B,KAAKS,IAAIT,KAAKqF,WAQdrF,KAAKS,IAAI,CAAEF,QAPK,KACXP,KAAKwF,eACRxF,KAAKsF,wBAAwBG,OAAOzF,KAAKwF,cACzCxF,KAAKuF,0BAA0BE,OAAOzF,KAAKwF,cAC3CxF,KAAKwF,kBAAexC,MAMvB0C,SAAgBF,GACXxF,KAAKwF,eACRxF,KAAKsF,wBAAwBG,OAAOzF,KAAKwF,cACzCxF,KAAKuF,0BAA0BE,OAAOzF,KAAKwF,eAE5CxF,KAAKwF,aAAeA,EAGrBE,WACC,OAAO1F,KAAKwF,aAGNzF,OAAOgD,EAAsB4C,GACnC3F,KAAKqF,UAAUO,OAAO7C,EAAO4C,GAGvB5F,eAAegD,EAAsBY,GAC3C3D,KAAKqF,UAAUQ,eAAe9C,EAAOY,GAG/B5D,IAAIgD,GACV,OAAO/C,KAAKqF,UAAUlE,IAAI4B,IAAUX,QAAQpC,KAAKwF,cAAgBxF,KAAKwF,aAAarE,IAAI4B,IAGjFhD,YAAYgD,GAClB,OAAO/C,KAAKqF,UAAUrB,YAAYjB,IAAUX,QAAQpC,KAAKwF,cAAgBxF,KAAKwF,aAAaxB,YAAYjB,IAGjGhD,IACNgD,EACA+C,GAA4B,GAE5B,OAAO9F,KAAK+F,KAAKhD,EAAO+C,EAAkB,MAAO9F,KAAKsF,yBAGhDvF,YAAegD,EAAsB+C,GAA4B,GACvE,OAAO9F,KAAK+F,KAAKhD,EAAO+C,EAAkB,cAAe9F,KAAKuF,2BAGvDxF,KACPgD,EACA+C,EACAE,EACAC,GAEA,MAAMC,EAAaJ,EAAmB,CAAC9F,KAAKwF,aAAcxF,KAAKqF,WAAa,CAACrF,KAAKqF,UAAWrF,KAAKwF,cAClG,IAAK,IAAIW,EAAI,EAAGA,EAAID,EAAWnB,OAAQoB,IAAK,CAC3C,MAAMC,EAAgBF,EAAWC,GACjC,IAAKC,EACJ,SAED,MAAMjE,EAAOiE,EAASJ,GAAiBjD,GACjCsD,EAAmBJ,EAAS7E,IAAIgF,IAAa,GACnD,GAAIjE,EACH,OAAOA,EACD,IAAyC,IAArCkE,EAAiB/F,QAAQyC,GAAe,CAClD,MAAM7C,EAASkG,EAASE,GAAGvD,EAAQlC,IAEhB,WAAjBA,EAAMiC,QACL9C,KAAagG,GAAiBjD,EAAO+C,KAAsBjF,EAAMsB,MAElEnC,KAAK6C,KAAK,CAAE9B,KAAM,iBAGpBf,KAAKS,IAAIP,GACT+F,EAAS1E,IAAI6E,EAAU,IAAIC,EAAkBtD,KAG/C,OAAO,+RCqIT,MAAMwD,EAA8B,GAC9BC,EAAiB,CAAC,QAAS,OAAQ,iBAAkB,SAErDC,EAAgBC,6BAChBC,EAAkBD,+BAClBE,EAAQ,eACRC,EAAQ,eACRC,EAAW,kBAGXC,EAA2C,kBAM3C,SAAUC,EAAa9C,GAC5B5G,EAAA,QAAOyJ,GAAOE,UAAY/C,EAarB,SAAUgD,EAAW/E,GAC1B,OAAOA,GAA0B,IAAlBA,EAAKgF,SAOrB,SAASC,GAAeC,GACvB,OAAOA,GAASC,GAAQD,EAAM5E,MAG/B,SAAS8E,GAAeF,GACvB,QAASA,GAASG,GAAQH,EAAM5E,MAGjC,SAASgF,GAAiBJ,GACzB,OAAOE,GAAeF,IAA6B,YAAnBA,EAAM5E,KAAKiF,IAG5C,SAASC,GAAcC,GACtB,OAAOL,GAAeK,IAAiC,SAArBA,EAAQnF,KAAKiF,IAGhD,SAASG,GAAcD,GACtB,OAAOL,GAAeK,IAAiC,SAArBA,EAAQnF,KAAKiF,IAGhD,SAASI,GAAiBF,GACzB,OAAOC,GAAcD,IAAYD,GAAcC,IAAYH,GAAiBG,GAOvE,SAAUN,GAAyCD,GACxD,OAAOjF,QAAQiF,IAAmB,IAAVA,GAAmC,iBAAVA,GAAsBA,EAAMtG,OAAS6F,GAGjF,SAAUY,GAAQH,GACvB,OAAOjF,QACNiF,IAAmB,IAAVA,GAAmC,iBAAVA,IAAuBA,EAAMtG,OAAS8F,GAASQ,EAAMtG,OAAS+F,IAI5F,SAAUiB,GAAWV,GAC1B,OAAOjF,QAAQiF,IAAmB,IAAVA,GAAmC,iBAAVA,GAAsBA,EAAMtG,OAAS+F,GAGjF,SAAUkB,GAAc9D,GAC7B,QAASA,EAAM+D,QA2DV,SAAUC,GACfC,EAOAC,EACAC,GAMA,OAJKD,EAAmBE,qBACfF,EAAmBE,aAGxB9F,EAAkB2F,GACdA,EAAwBC,EAAYC,IAGxCf,GAAWa,KACdC,EAAUjK,OAAAC,OAAA,GAAS+J,EAAwBC,WAAwBA,GACnEC,EAAWA,GAAsBF,EAAwBE,SACzDF,EAA0BA,EAAwBI,mBAG5C,CACNF,SAAUA,GAAY,GACtBE,kBAAmBJ,EACnBC,aACArH,KAAM6F,IAiBF,SAAU4B,GACfd,EACAe,EAA8E,GAC9EJ,GAEA,IACIK,EADAN,EAA0DK,EAG9D,GAAgC,mBAApBf,EAAYA,IACvB,OAAQA,EAAYA,IAAIU,EAAYC,GAarC,GAVI/I,MAAMuC,QAAQ4G,KACjBJ,EAAWI,EACXL,EAAa,IAGY,mBAAfA,IACVM,EAA6BN,EAC7BA,EAAa,IAGVZ,GAAQE,GAAM,CACjB,IAAIiB,QAAEA,EAAU,GAAEC,OAAEA,EAAS,IAAyBR,EAArBS,EAAAC,EAAAV,EAAA,sBAC7BW,EAAArB,EAAAU,YAAEO,QAASK,EAAc,GAAIJ,OAAQK,EAAa,IAAEF,EAAEG,EAAAJ,EAAAC,EAAA,sBAC1DC,EAAc1J,MAAMuC,QAAQmH,GAAeA,EAAc,CAACA,GAC1DL,EAAUrJ,MAAMuC,QAAQ8G,GAAWA,EAAU,CAACA,GAC9CC,EAAMzK,OAAAC,OAAA,GAAQ6K,EAAeL,GAC7BR,EAAUjK,OAAAC,OAAA,GAAQ8K,EAAmBL,EAAa,CAAEF,QAAS,IAAIK,KAAgBL,GAAUC,WAC3FP,EAAWA,GAAsBX,EAAIW,SACrCX,EAAMA,EAAIA,IAGX,MAAO,CACNA,MACAgB,6BACAL,WACAD,aACArH,KAAM8F,GApNHvJ,EAAA,QAAOyJ,KACXzJ,EAAA,QAAOyJ,GAAS,IA4OV,MAAMoC,GAAgB,kBAEvB,MAAOC,GAAbrJ,cAGCC,KAAAqJ,eAAoB,IAYf,SAAUC,GAAI5B,EAAUU,EAAa,MAAOC,GAGjD,GAFAA,EAAWjJ,EAAKiJ,EAAUkB,KAC1BnB,EAA4B,OAAfA,EAAsB,GAAKA,EACrB,iBAARV,EACV,OAAOc,GAAEd,EAAKU,EAAYC,GACpB,GAAiB,aAAbX,EAAI3G,MAAwBqH,EAAmBoB,mBAAoB,CAC7E,MAAMC,EAAQrB,EAAmBoB,mBAEjC,cADQpB,EAAmBoB,mBACpBtB,GAAEuB,EAAMrB,EAAYC,GACrB,GAAIX,EAAI3G,OAASoI,GAAe,CAEtC,OAAOjB,IADc,IAAIR,GACH+B,KAAMrB,EAAYC,GAExC,OAAOH,GAAER,EAAKU,EAAYC,GAmB5B,SAASqB,GAAwBC,EAAcC,GAC9C,MACCnH,MAAMoH,SAAEA,EAAQzB,WAAEA,EAAU0B,WAAEA,IAC3BF,EACJ,IAAKC,GAAyB,SAAbA,EAChB,MAAO,CACNzB,WAAYwB,EAAQG,mBAClB5L,OAAAC,OAAA,GAAMwL,EAAQG,mBAAuBH,EAAQnH,KAAK2F,YACjDwB,EAAQnH,KAAK2F,WAChB0B,WAAYF,EAAQnH,KAAKqH,WACzBE,OAAQJ,EAAQnH,KAAKuH,QAEhB,GAAiB,SAAbH,EACV,MAAO,CACNzB,WAAY,GACZ0B,WAAYF,EAAQnH,KAAKqH,WAAa,QAAK9G,EAC3CgH,OAAQJ,EAAQnH,KAAKuH,QAGvB,IAAInB,EAAqB,CACxBT,WAAY,IAEb,OAAI0B,GACHjB,EAAciB,WAAa,GAC3BjB,EAAcmB,OAASJ,EAAQnH,KAAKuH,OACpC7L,OAAOE,KAAK+J,GAAY5H,QAASyJ,IAChCpB,EAAcT,WAAW6B,GAAYN,EAAQM,KAE9C9L,OAAOE,KAAKyL,GAAYtJ,QAAS0J,IAChCrB,EAAciB,WAAWI,GAAYP,EAAQQ,aAAaD,KAEpDrB,IAERA,EAAcT,WAAajK,OAAOE,KAAK+J,GAAYgC,OAClD,CAACC,EAAOC,KACPD,EAAMC,GAAYX,EAAQQ,aAAaG,IAAaX,EAAQW,GACrDD,GAER,IAEMxB,GAuCR,SAAS0B,GAAKC,EAAsBC,GACnC,GAAIlD,GAAeiD,IAAWjD,GAAekD,GAC5C,QAAI1C,GAAWyC,EAAO/H,QAASsF,GAAW0C,EAAOhI,OAC5C+H,EAAO/H,KAAKkH,UAAYc,EAAOhI,KAAKkH,WAIrCa,EAAO/H,KAAKiF,MAAQ+C,EAAOhI,KAAKiF,KAGhC8C,EAAO/H,KAAK2F,WAAWnD,MAAQwF,EAAOhI,KAAK2F,WAAWnD,KAIpD,GAAImC,GAAeoD,IAAWpD,GAAeqD,GAAS,CAC5D,MAAMC,EAAqBF,EAAOG,cAAgBH,EAAO/H,KAAK8F,kBACxDqC,EAAqBH,EAAOE,cAAgBF,EAAOhI,KAAK8F,mBAE7D9F,MAAQ2F,WAAYyC,IACjBL,GAEH/H,MAAQ2F,WAAY0C,IACjBL,EACJ,YAAwBzH,IAApBwH,EAAOO,UAAwD,iBAAvBH,KAGxCF,IAAuBE,IAGvBC,EAAO5F,MAAQ6F,EAAO7F,QAGnByF,EAA2BrM,MAAQ,IAAI2M,MAAO/F,GAAgB4F,EAAO5F,KAAS6F,EAAO7F,MAK7F,OAAO,EAGR,SAASgG,GAAiB5C,EAA0B6C,EAAsBC,GACzE,IAAK,IAAIhF,EAAIgF,EAAOhF,EAAIkC,EAAStD,OAAQoB,IACxC,GAAIoE,GAAKlC,EAASlC,GAAI+E,GACrB,OAAO/E,EAGT,OAAQ,EAGT,SAASiF,GAAqBzC,EAAqD,IAClF,IAAI0C,EAAa,GACjB,GAAI/L,MAAMuC,QAAQ8G,GAAU,CAC3B,IAAK,IAAIxC,EAAI,EAAGA,EAAIwC,EAAQ5D,OAAQoB,IAAK,CACxC,IAAImF,EAAY3C,EAAQxC,GACpBmF,IAA2B,IAAdA,IAChBD,EAAaA,KAAgBA,KAAcC,IAAcA,GAG3D,OAAOD,EAKR,OAHI1C,IAAuB,IAAZA,IACd0C,EAAa1C,GAEP0C,EAGR,SAASE,GAAgB5B,EAAkBO,EAAkBsB,EAA+BC,GACvFA,IAAchF,GAA8B,SAAbyD,GAAuBsB,EACzD7B,EAAQ+B,eAAe/E,EAAiBuD,EAAUsB,GAC1B,SAAbtB,GAAqC,KAAdsB,QAAmCxI,IAAdwI,EACvD7B,EAAQgC,gBAAgBzB,GAExBP,EAAQiC,aAAa1B,EAAUsB,GAIjC,SAASK,GAAUC,GAClB,OAAOxM,MAAMC,UAAUwM,MAAMpK,KAAKmK,GAGnC,SAASE,GAAcC,EAAeC,EAAkBjH,GACvD,MAAMkH,EAAU,CAAC/D,EAAiBC,KACjC,GAAID,EAAY,CACf,MAAM3D,EAASyD,GAAE+D,EAAU7D,EAAYC,GAGvC,OAFA4D,EAAS1J,UAAW,EACpB0J,EAASC,YAAcA,EAChBzH,EAER,MAAO,CACNyH,cACAD,aAGI5N,EAAOF,OAAOE,KAAK6N,GAAa9B,OAAO,CAAC/L,EAAgB+N,KAC7D,MAAMC,EAAaH,EAAYE,GAI/B,OAHIC,EAAWhO,OACdA,EAAO,IAAIA,KAASgO,EAAWhO,OAEzBA,GACL4G,EAAM,CAACA,GAAO,IAQjB,OANAkH,EAAQG,SAAW,KACXH,GAERF,EAAS5N,KAAOA,EAChB8N,EAAQ9N,KAAOA,EACf8N,EAAQzJ,WAAY,EACbyJ,EAKF,SAAUI,GACfL,EAAiB,IA6LjB,SAASM,EACRP,GAOA,OAAOD,GAAcC,EAAUC,GAIhC,OAFAM,EAAQnE,SA7FR,WA2DC,SAASmE,EACRP,GAiBA,OAAOD,GAAcC,EAAUC,GAGhC,OADAM,EAAQpE,WA9ER,WACC,SAASoE,EACRP,GAsBA,OAAOD,GAAcC,EAAUC,GA+BhC,OADAM,EAAQvH,IA5BR,SAAaA,GA0BZ,OAzBA,SACCgH,GAsBA,OAAOD,GAAcC,EAAUC,EAAajH,KAKvCuH,GAwBDA,GAcRA,EAAQpE,WAtMR,WACC,SAASoE,EACRP,GAYA,OAAOD,GAAcC,EAAUC,GAuFhC,OAFAM,EAAQnE,SA1DR,WACC,SAASmE,EACRP,GAsBA,OAAOD,GAAcC,EAAUC,GAgChC,OADAM,EAAQvH,IA5BR,SAAaA,GA0BZ,OAzBA,SACCgH,GAsBA,OAAOD,GAAcC,EAAUC,EAAajH,KAKvCuH,GAGRA,EAAQvH,IAnFR,SAAaA,GAqBZ,OApBA,SACCgH,GAiBA,OAAOD,GAAcC,EAAUC,EAAajH,KAiEvCuH,GAkGDA,EAvbApD,GAAArI,KAAOoI,GA0bf,MAAMgD,GAAUI,KAYT,MAAME,GAAoB,IAAIpP,EAC/BqP,GAAgB,IAAInO,EACpBoO,GAAoB,IAAInP,EAC9B,IAAIoP,GAAY,EACZC,GAAS,EAEb,SAASC,GAAaC,EAAY9H,EAAsBxC,GACvD,MAAMuK,EAAaN,GAActL,IAAI2L,GACjCC,IACHA,EAAWC,QAAUD,EAAWC,SAAW,IAAI1O,EAC/CyO,EAAWC,QAAQ1L,IAAI0D,EAAKxC,GACxBkK,GAAkBxL,OAAO4L,KAAM9H,OAClC+H,EAAWvJ,cACXkJ,GAAkBlH,UAAUsH,KAAM9H,OAKrC,SAASiI,GAAeC,GACvB,MAAMC,WAAEA,EAAUC,cAAEA,GAAkBF,EACtC,GAAKC,EAAL,CAGA,IAAK,IAAIjH,EAAI,EAAGA,EAAIkH,EAActI,OAAQoB,IAAK,CAC9C,MAAM4G,EAAKM,EAAclH,GACnB5F,EAAU6M,EAAWhM,IAAI2L,GAG/B,GAFAxM,GAAWA,IACX6M,EAAW3H,OAAOsH,GACM,IAApBK,EAAWE,KACd,MAGFF,EAAWG,SAmBL,MAAMC,GAAcrB,GAAQ,EAAGY,SACrC,MAAOU,GAAYV,EAAGW,MAAM,KAC5B,MAAO,KACN,MAAMV,EAAaN,GAActL,IAAIqM,GACrC,GAAIT,EACH,OAAOA,EAAWvJ,iBAKRkK,GAAOxB,GAAQ,EAAGY,SACvB,CACNhN,IAAIkF,GACH,MAAOwI,GAAYV,EAAGW,MAAM,KACtBV,EAAaN,GAActL,IAAIqM,GACrC,GAAIT,EAAY,CACfA,EAAWC,QAAUD,EAAWC,SAAW,IAAI1O,EAC/C,MAAMqP,EAAYZ,EAAWY,UACvBnL,EAAOuK,EAAWC,QAAQ7L,IAAI6D,GACpC,GACCxC,IACCmL,EAAUC,SAASpL,IAClBnF,EAAA,QAAOwQ,SAASC,OAASH,GAAatQ,EAAA,QAAOwQ,SAASC,KAAKF,SAASpL,IAEtE,OAAOA,EAERkK,GAAkBqB,OAAOP,KAAYxI,KAEtC,OAAO,SAKGgJ,GAAe9B,GAAQ,EAAGY,SAsCtC,OA/BA,SAAkBmB,EAAsBC,EAAuBC,GAC9D,MAAOX,GAAYV,EAAGW,MAAM,KACtBV,EAAaN,GAActL,IAAIqM,GAIrC,GAHKW,IACJA,EAAOD,GAEJnB,EAAY,CACfA,EAAWqB,cAAgBrB,EAAWqB,eAAiB,IAAI9P,EAC3DyO,EAAWsB,qBAAuBtB,EAAWsB,sBAAwB,IAAI9Q,EACzE,MAAM+Q,EAAkBvB,EAAWqB,cAAcjN,IAAI2L,IAAO,IAAIxO,EAChE,IAAKgQ,EAAgBpN,IAAI+M,GAAe,CACvC,MAAMzJ,EAAS2J,EAAK,GAAIpB,EAAWwB,yBACpBxL,IAAXyB,IAUHuI,EAAW5E,WAAUjK,OAAAC,OAAA,GAAQ4O,EAAW5E,WAAU,CAAErI,CAACmO,GAAezJ,KAErE8J,EAAgBhN,IAAI2M,EAAcE,GAClCpB,EAAWsB,qBAAqBN,IAAIE,GAErClB,EAAWqB,cAAc9M,IAAIwL,EAAIwB,OAOvBE,GAAUtC,GAAQ,EAAGY,QACzB2B,IACP,MAAOjB,GAAYV,EAAGW,MAAM,KACtBV,EAAaN,GAActL,IAAIqM,GACjCT,IACHA,EAAWI,WAAaJ,EAAWI,YAAc,IAAI7O,EAChDyO,EAAWI,WAAWjM,IAAI4L,IAC9BC,EAAWI,WAAW7L,IAAIwL,EAAI2B,MAMrBC,GAAcxC,GAAQ,EAAGY,SACrC,MAAOU,GAAYV,EAAGW,MAAM,KAC5B,MAAO,KACN,MAAMV,EAAaN,GAActL,IAAIqM,GACrC,OAAIT,GACEA,EAAW4B,kBACf5B,EAAW4B,gBAAkB,IAAIzJ,EACjC6H,EAAW4B,gBAAgBlJ,KAAOsH,EAAW5G,SAC7C4G,EAAW4B,gBAAgBtI,GAAG,aAAc0G,EAAWvJ,cAExDuJ,EAAW4B,gBAAkB5B,EAAW4B,iBAAmB,IAAIzJ,EACxD6H,EAAW4B,iBAEZ,QAIYzC,GAAQ,EAAGY,SAC/B,MAAOU,GAAYV,EAAGW,MAAM,KAC5B,IAAImB,GAAa,EACjB,MAAO,CACN9O,QACC,MAAMiN,EAAaN,GAActL,IAAIqM,IAChCoB,GAAc7B,IAClBA,EAAW8B,UAAY9B,EAAW8B,UAAY,EAC9CD,GAAa,IAGf9O,SACC,MAAMiN,EAAaN,GAActL,IAAIqM,GACjCoB,GAAc7B,IACjBA,EAAW8B,UAAY9B,EAAW8B,UAAY,EAC9CD,GAAa,OAMjB,SAASE,GAAuBhC,EAAY3E,GAC3C,MAAMiC,EAAa,GACb2E,EAAgB7Q,OAAOE,KAAK+J,GAClC,IAAK,IAAIjC,EAAI,EAAGA,EAAI6I,EAAcjK,OAAQoB,IAAK,CAC9C,MAAM+H,EAAec,EAAc7I,GACK,mBAA7BiC,EAAW8F,IACrB7D,EAAM6D,GAAgB,YAA4BvP,GACjD,MAAMqO,EAAaN,GAActL,IAAI2L,GACrC,OAAIC,EACIA,EAAWwB,mBAAmBN,MAAiBvP,GAEhDyJ,EAAW8F,MAAiBvP,IAEpC0L,EAAM6D,GAAce,OAAS,MAC5B,MAAMjC,EAAaN,GAActL,IAAI2L,GACrC,OAAIC,EACIA,EAAWwB,mBAAmBN,GAE/B9F,EAAW8F,MAGnB7D,EAAM6D,GAAgB9F,EAAW8F,GAGnC,OAAO7D,EAwzCO,IAAA6E,GArzCT,SAAmBC,GACxB,IAiBIC,EAEAC,EAEAC,EArBAC,EAAyD,CAC5DC,MAAM,EACNC,OAAO,EACPC,gBAAY1M,EACZ2G,QAASrM,EAAA,QAAOwQ,SAASC,KACzB3H,SAAU,IAAIzD,GAEXgN,EAA8C,GAC9CC,EAAyE,GACzEC,EAAiF,GACjFC,EAA8C,GAC9CC,EAAY,IAAI1S,EAChB2S,EAAkB,IAAIzR,EACtB0R,EAAqB,IAAI5S,EACzB6S,EAAwB,IAAI3R,EAC5B4R,EAA4D,IAAI9S,EAChE+S,EAAoB,IAAI/S,EAExBgT,EAAuC,GAEvCC,EAA0B,GAE1BC,EAAsB,IAAIhS,EAE9B,SAASiS,EACRvG,EACAwG,EACAC,EACA/G,GAEA,IAAIlF,EAASgM,IAAcC,EACF,mBAAdD,IACVhM,EAASgM,MAEK,IAAXhM,GACH4L,EAAyBjQ,KAAK,KAC7BuJ,EAAQM,OAKX,SAAS0G,EACRhH,EACAiH,EACAC,EACAH,GAEA,GAAIA,EAAe,CAClB,MAAMI,EAAgBf,EAAU3O,IAAIsP,GACpCI,GAAiBnH,EAAQoH,oBAAoBH,EAAWE,GAGzD,IAAI7E,EAAW4E,EAEG,UAAdD,IACH3E,EAAW,SAAoB+E,GAC9BH,EAAalP,KAAK3B,KAAMgR,GACvBA,EAAItS,OAAe,iBAAoBsS,EAAItS,OAA4BwF,QAI1EyF,EAAQsH,iBAAiBL,EAAW3E,GACpC8D,EAAUxO,IAAIsP,EAAc5E,GAG7B,SAASiF,EACRvH,EACAwH,EACA/I,EACAgJ,GAAsB,GAEtBjT,OAAOE,KAAK8S,GAAoB3Q,QAASyJ,IACxC,MAAMoH,EAAoC,OAA1BpH,EAASqH,OAAO,EAAG,IAAeF,EAC5CR,EAAYQ,EAAanH,EAAWA,EAASqH,OAAO,GAC1D,GAAID,IAAYjJ,EAAW6B,GAAW,CACrC,MAAMsH,EAAgBxB,EAAU3O,IAAI+P,EAAmBlH,IACnDsH,GACH5H,EAAQoH,oBAAoBH,EAAWW,MAM3C,SAASC,EAAoB5J,EAAuBmD,EAAgBgC,GACnE,IAAKxK,EAASqF,EAAQnF,KAAK8F,mBAAoB,CAC9C,MAAMkJ,EAAarB,EAAkBhP,IAAIwG,EAAQnF,MAQjD,IAAI2D,EACJ,GARIqL,IACCA,EAAW1G,SACdA,EAAW0G,EAAW1G,SAEtBgC,EAAK0E,EAAW1E,IAIdhC,EAAU,CACb,MAAM2G,EAAejF,GAAkBrL,IAAI2J,GACvC2G,IACHtL,EAAWsL,EAAatL,eAEnB,QAAWpD,IAAP+J,EAAkB,CAC5B,MAAMC,EAAaN,GAActL,IAAI2L,GACjCC,IACEA,EAAW4B,kBACf5B,EAAW4B,gBAAkB,IAAIzJ,EACjC6H,EAAW4B,gBAAgBlJ,KAAOsH,EAAW5G,SAC7C4G,EAAW4B,gBAAgBtI,GAAG,aAAc0G,EAAWvJ,cAExD2C,EAAW4G,EAAW4B,iBAIxB,GAAIxI,EAAU,CACb,IAAIuL,EACJ,GA79BJ,SAAsBxP,GACrB,OAAOC,QAAQD,GAAQA,EAAKY,OA49BrB6O,CAAahK,EAAQnF,KAAK8F,mBAAoB,CACjD,MAAMxF,MAAEA,EAAK4H,aAAEA,GAAiB/C,EAAQnF,KAAK8F,kBACxCnC,EAASjF,IAAI4B,IACjBqD,EAASR,OAAO7C,EAAO4H,GAExBgH,EAAgB5O,OAEhB4O,EAAgB/J,EAAQnF,KAAK8F,kBAE9B,IAAIpG,EAAOiE,EAAShF,IAAIuQ,GACxB,GAAInP,EAAeL,GAAO,CACzB,MAAMM,EAAON,EAAKyF,EAAQnF,KAAK2F,WAAYR,EAAQnF,KAAK4F,UACpD/F,EAAiBG,EAAK8F,qBACzBX,EAAQ+C,aAAelI,EAAK8F,wBAG7BX,EAAQ+C,aAAexI,IAoB3B,SAAS0P,EACRC,EACAC,EACAC,GAEA,MAAMC,qBAAEA,EAAoBC,oBAAEA,EAAmBzG,UAAEA,EAASjH,MAAEA,GAAUuN,EAClEI,EAAkC,GAClCC,EAAiBhL,GAAe2K,GAChCM,EAAuB5K,GAAiBsK,GAGxCO,GADJ/K,GAAeyK,IAAkB9B,EAAsB9O,IAAI4Q,EAAcjF,KAAQ,IAC5BhI,OAAS,EAC1DwN,GACHN,IAAgD,IAAxBC,KAAmCE,GAAkBC,IAC9EC,GAA4BR,EAAS/M,OAAS,EAChD,IAAIyN,EACApL,GAAe2K,IAAWD,EAAS/M,QA9BxC,SAA2B0N,EAAgB7K,GAC1C,KAAO6K,EAAM1N,QAAQ,CACpB,IAAItC,EAAOgQ,EAAMC,OACbpL,GAAQ7E,IAAS+E,GAAQ/E,MACvB2N,EAAkBjP,IAAIsB,KAC1B2N,EAAkB7O,IAAIkB,EAAMmF,GACxBnF,EAAK4F,UAAY5F,EAAK4F,SAAStD,SAClC0N,EAAQ,IAAIA,KAAUhQ,EAAK4F,cAwB9BsK,CAAkB,IAAIb,GAAWC,GAElC,IAAK,IAAI5L,EAAI,EAAGA,EAAI2L,EAAS/M,OAAQoB,IAAK,CACzC,IAAIyM,EAAed,EAAS3L,GAC5B,IAAKyM,IAAiC,IAAjBA,EACpB,SAE2B,iBAAjBA,IACVA,EAv+BI,CACNlL,IAAK,GACLU,WAAY,GACZC,cAAUrF,EACV6P,QAm+B6BD,IAl+B7B7R,KAAM8F,IAo+BL,MAAM4K,EAAarB,EAAkBhP,IAAIwR,GACnChL,EAAwB,CAC7BnF,KAAMmQ,EACNpO,MAAOA,EAAQ,EACfsO,MAAO3M,EACP4M,SAAUhB,EAAOhF,GACjBkF,qBAAsBM,EACtBH,iBACA3G,UAAWA,GAEZ,GAAIjE,GAAQoL,KACPA,EAAalK,6BACfd,EAAyBmC,mBAAqB6I,EAAalK,4BAA2B,IAEpFkK,EAAaxK,WAAW4K,eAAe,CAC1CjB,EAAOkB,eAAgB,EACvB,IAAIC,EAAalD,EAAgB5O,IAAI2Q,EAAOgB,UAC5C,KAAOG,IACFA,EAAWD,eAGfC,EAAWD,eAAgB,EAC3BC,EAAalD,EAAgB5O,IAAI8R,EAAWH,UAI3CtB,IACH7J,EAAQuL,SAAW1B,EAAW1E,IAE3BzF,GAAQsL,IACXpB,EAAoB5J,EAA0BmK,EAAehH,SAAWgH,EAAehF,IAEpFyF,GACHvC,EAAmB1O,IAAIiR,EAAc5K,GAEtCuK,EAAgB/R,KAAKwH,GACrB4K,EAAe5K,EAEhB,OAAOuK,EAqBR,SAASiB,EAAsBC,GAC9B,MAAM3K,2BAAEA,GAA+B2K,EAAK5Q,KAC5C,GAAIiG,EAA4B,CAC/B,MAAMN,EAAaiL,EAAK5Q,KAAK2F,WAC7BiI,EAAyBjQ,KAAK,KAC7B,GAAI4P,EAAgB7O,IAAIkS,EAAKF,UAAW,CACvC,MAAMpJ,EAAqBsJ,EAAKtJ,mBAChCsJ,EAAKtJ,mBAAqBrB,GAA2B,GACrD4K,EAAkBD,EAAM,CACvBjL,WAAUjK,OAAAC,OAAA,GAAO2L,EAAuB3B,SAO7C,SAASmL,EAAiBF,GACzB,IAAId,EAA4B,KAC5BiB,EAAuCH,EAC3C,MAAQd,GAAc,CACrB,MAAMkB,EAAcxD,EAAmB7O,IAAIoS,GAC3C,GAAIC,EAAJ,CACC,GAAI9L,GAAc8L,IAAgB5L,GAAc4L,GAAc,CAC7DD,EAAaC,EACb,SAED,IAAI9J,EAAU8J,EAAY9J,QAC1B,IAAIvC,GAAeqM,IAAgBhM,GAAiBgM,MAC9CA,EAAYC,oBAChBD,EAAYC,kBAAoBC,GAA2BF,EAAY1G,KAEpE0G,EAAYC,mBAAmB,CAClC,MAAME,EAAe5D,EAAgB5O,IAAIqS,EAAYC,oBACjDE,GAAiBjM,GAAciM,IAAkB/L,GAAc+L,KAClEjK,EAAUiK,EAAajK,SAI1B,GAAIA,GAAWA,EAAQkK,WAAY,CAClCtB,EAAe5I,EACf,MAED6J,EAAaC,OAId,KADAD,EAAaA,GAAcxD,EAAgB5O,IAAIoS,EAAWT,YACtCxL,GAAeiM,KAAgB/L,GAAiB+L,GACnE,MAGF,OAAOjB,EAGR,SAASuB,EAASnK,EAAc8G,EAAiBC,GAChD,MAAMqD,EAAWpK,EAAQzF,MACnB8P,EAAerK,EAAQ,iBACvBsK,EAAgBtK,EAAQ,gBAE1BsK,GAAiBF,IAAaE,GACjCtK,EAAQzF,MAAQ+P,EACZtK,EAAQzF,QAAU+P,IACrBtK,EAAQ,qBAAkB3G,KAEhBgR,GAAgBD,IAAaC,GAAiBvD,IAAcC,KACvE/G,EAAQzF,MAAQuM,EAChB9G,EAAQ,sBAAmB3G,GAI7B,SAASkR,EACRvK,EACAwK,EAAqC,GACrCC,EACAC,GAA8B,GAE9B,MAAMjM,EAAagM,EAAYrK,mBAC7B5L,OAAAC,OAAA,GAAMgW,EAAYrK,mBAAuBqK,EAAY3R,KAAK2F,YACzDgM,EAAY3R,KAAK2F,WACdkM,EAAYnW,OAAOE,KAAK+J,GACxBmM,EAAYD,EAAUvP,QACU,IAAlCuP,EAAUhU,QAAQ,YAAqB6T,EAAkBxL,SAC5DgB,EAAQgC,gBAAgB,SAGzB0I,GAA+BnD,EAAqBvH,EAASwK,EAAmB/L,GAEhF,IAAK,IAAIjC,EAAI,EAAGA,EAAIoO,EAAWpO,IAAK,CACnC,MAAM8D,EAAWqK,EAAUnO,GAC3B,IAAIsK,EAAYrI,EAAW6B,GAC3B,MAAMyG,EAAgByD,EAAkBlK,GACxC,GAAiB,YAAbA,EAAwB,CAC3B,MAAMuK,EAAsBpJ,GAAqBsF,GACjD,IAAI+D,EAAqBrJ,GAAqBqF,GAC9C,GAAI+D,IAAwBC,EAC3B,GAAIA,EAAoB,CACvB,GAAIL,EAAYM,OAAQ,CACvB,MAAMC,GAAchL,EAAQQ,aAAa,UAAY,IAAIuD,MAAM,KAC/D,IAAK,IAAIvH,EAAI,EAAGA,EAAIwO,EAAW5P,OAAQoB,KACa,IAA/CsO,EAAmBnU,QAAQqU,EAAWxO,MACzCsO,KAAwBE,EAAWxO,MAAMsO,KAI5C9K,EAAQiC,aAAa,QAAS6I,QAE9B9K,EAAQgC,gBAAgB,cAGpB,IAA0C,IAAtCnF,EAAelG,QAAQ2J,GACjCuG,EAAcvG,EAAUwG,EAAWC,EAAe/G,QAC5C,GAAiB,WAAbM,EAAuB,CACjC,MAAM2K,EAAazW,OAAOE,KAAKoS,GACzBoE,EAAaD,EAAW7P,OAC9B,IAAK,IAAI+P,EAAI,EAAGA,EAAID,EAAYC,IAAK,CACpC,MAAMC,EAAYH,EAAWE,GACvBE,EAAgBvE,EAAUsE,GAE5BC,KADkBtE,GAAiBA,EAAcqE,MAIpDpL,EAAQsL,MAAcF,GAAaC,GAAiB,UAMtD,GAHKvE,GAAsC,iBAAlBC,IACxBD,EAAY,IAEI,UAAbxG,EACsC,WAApCN,EAAwB1B,UAC3B0B,EAAgB,gBAAkB8G,GAEpCqD,EAASnK,EAAS8G,EAAWC,QACvB,GAAiB,QAAbzG,GAAsBwG,IAAcC,EAAe,CAC7D,MAAM3P,SAAc0P,EACP,aAAT1P,GAAyD,IAAlCkJ,EAASiL,YAAY,KAAM,IAAYb,EACjE1D,EAAYhH,EAASM,EAASqH,OAAO,GAAIb,EAAWC,GACjC,WAAT3P,GAAkC,cAAbkJ,GAA4BoK,EAC3D9I,GAAgB5B,EAASM,EAAUwG,EAAW2D,EAAY3I,WACnC,eAAbxB,GAA0C,cAAbA,EAClCN,EAAgBM,KAAcwG,IACjC9G,EAAgBM,GAAYwG,GAG7B9G,EAAgBM,GAAYwG,IAOlC,SAAS0E,IACR,MAAMC,EAAY/E,EAElB,GADAA,EAA2B,GACvB+E,EAAUrQ,OACb,MAAO,KACN,IAAIkH,EACJ,KAAQA,EAAWmJ,EAAUC,SAC5BpJ,KAMJ,SAASqJ,IACR,MAAM9F,KAAEA,GAASD,EACXgG,EAAMJ,IACZ,GAAII,EACH,GAAI/F,EACH+F,QACM,CACN,IAAIxI,EACJA,EAAKzP,EAAA,QAAOkY,sBAAsB,KACjCjF,EAAoB9K,OAAOsH,GAC3BwI,MAEDhF,EAAoBhP,IAAIwL,EAAIwI,IAK/B,SAASjC,EAAkBD,EAAoBlC,GAC9C,GAAIkC,EAAK5Q,KAAKqH,YAAcuJ,EAAK5Q,KAAKuH,OAAQ,EA/sChD,SACCL,EACA8L,EACA3L,EACA2B,GAEA,MAAMiK,EAAYvX,OAAOE,KAAKyL,GACxB6L,EAAYD,EAAU3Q,OAC5B,IAAK,IAAIoB,EAAI,EAAGA,EAAIwP,EAAWxP,IAAK,CACnC,MAAM+D,EAAWwL,EAAUvP,GACrBqF,EAAY1B,EAAWI,GAEzBsB,IADsBiK,EAAmBvL,IAE5CqB,GAAgB5B,EAASO,EAAUsB,EAAWC,IAmsC9CmK,CACCvC,EAAK1J,QACLwH,EAAmBrH,YAAc,GACjCuJ,EAAK5Q,KAAKqH,WACVuJ,EAAK5H,WAENyI,EAAcb,EAAK1J,QAAwBwH,EAAmB/I,WAAYiL,GAAM,GAChF,MAAMrJ,EAASqJ,EAAK5Q,KAAKuH,QAAU,GAC/BmH,EAAmBnH,QACtBkH,EACCmC,EAAK1J,QACLwH,EAAmBnH,QAAU,GAC7BqJ,EAAK5Q,KAAKuH,QACV,GAGFmH,EAAmBnH,OAASmH,EAAmBnH,QAAU,GACzD7L,OAAOE,KAAK2L,GAAQxJ,QAASK,IAC5B8P,EAAY0C,EAAK1J,QAAwB9I,EAAOmJ,EAAOnJ,GAAQsQ,EAAmBnH,OAAOnJ,WAG1FqT,EAAcb,EAAK1J,QAAwBwH,EAAmB/I,WAAYiL,GAoF5E,SAASwC,IACR,MAAMrG,KAAEA,GAASD,EACbC,EACHsG,IACW1G,IACXpI,GAAa,GACboI,EAAmB9R,EAAA,QAAOkY,sBAAsB,KAC/CM,OAKH,SAASC,EAAgBhJ,GACxB,MAAMnF,EAAUoI,EAAgB5O,IAAI2L,GACpC,GAAInF,GAAWR,GAAeQ,GAC7B,OAAOA,EAIT,SAASkO,IACR1G,OAAmBpM,EACnB,IAAIgT,EAAoB,IAAIrG,GAC5B,MAAMsG,EAAqB,GAkB3B,IAAI9T,EACJ,IAlBAwN,EAAqB,GACrBqG,EAAkBE,KAAK,CAACC,EAAGC,KAC1B,IAAI3R,EAAS2R,EAAE5R,MAAQ2R,EAAE3R,MAIzB,OAHe,IAAXC,IACHA,EAAS2R,EAAEtD,MAAQqD,EAAErD,OAEfrO,IAEJoL,EAAsB9K,SACzB6K,EAAgB,IAAIC,GACpBA,EAAwB,GACxBwG,IACIxG,EAAsB9K,SACzB4K,EAAqB,IAAIqG,GACzBA,EAAoB,KAId7T,EAAO6T,EAAkBtD,OAAQ,CACxC,IAAI3F,GAAEA,GAAO5K,EACb,MAAMyH,EAAUmM,EAAgBhJ,GAChC,IAAKnD,IAA+C,IAApCqM,EAAmB3V,QAAQyM,KAAeiD,EAAgB7O,IAAIyI,EAAQmJ,UACrF,SAEDkD,EAAmB7V,KAAK2M,GACxB,MAAMuJ,EAAUrG,EAAmB7O,IAAIwI,GACjCyJ,EAAO,CACZ5Q,KAAM,CACL1B,KAAM6F,EACN2B,kBAAmBqB,EAAQnH,KAAK8F,kBAChCH,WAAYwB,EAAQxB,YAAc,GAClCC,SAAUuB,EAAQnH,KAAK4F,UAAY,IAEpC0C,SAAUnB,EAAQmB,SAClBgC,GAAInD,EAAQmD,GACZ3E,WAAYwB,EAAQxB,WACpB5D,MAAOoF,EAAQpF,MACfsO,MAAOlJ,EAAQkJ,MACfK,SAAUvJ,EAAQuJ,SAClBJ,SAAUnJ,EAAQmJ,SAClBpI,aAAcf,EAAQe,cAGvB2L,GAAWrG,EAAmB1O,IAAI8R,EAAMiD,GACxC,MAAM7R,EAAS8R,GAAc,CAAE3M,UAASyJ,SACpC5O,GAAUA,EAAOtC,OACpByN,EAAcxP,KAAKqE,EAAOtC,MAC1B6N,EAAgBzO,IAAIwL,EAAIsG,GACxBgD,KAGFG,IACAC,IACAnB,IACKlG,GACJpI,GAAa,GAIf,SAASyP,IACR,GAAqC,IAAjC5G,EAAsB9K,OAAc,CACvC,IAAI2R,EACJ,KAAQA,EAAapG,EAAgBoC,OACpCgE,EAAW7C,YAAc6C,EAAW7C,WAAW8C,YAAYD,GAE5DnH,EAAcE,OAAQ,GAIxB,SAAS4G,IACR,IAAIlU,EACJ,KAAQA,EAAOyN,EAAc8C,OAC5B,GAAwBvQ,EAv7CXpB,KAw7CZoB,EAAK4I,UAAY+E,EAAkB1P,KAAK+B,OAClC,CACN,MAAMyH,QAAEA,EAAOyJ,KAAEA,EAAIlG,KAAEA,GAAShL,EAChCyU,GAAShN,GAAWrD,EAAa8M,GAAQ9M,EAAa4G,IAKzD,SAASqJ,IAER,IAAIrU,EACJ,IAFA2N,EAAkB+G,UAEV1U,EAAO2N,EAAkB4C,OAChC,GAAkB,WAAdvQ,EAAKpB,KAAmB,CAC3B,MAAM+V,cACLA,EAAazD,KACbA,EACAA,MAAM1J,QAAEA,EAAO+K,OAAEA,EAAMzC,qBAAEA,EAAoBxP,KAAEA,IAC5CN,EAIJ,GAFAmR,EAAkBD,EAAM,CAAEjL,WAAY,KACtCgL,EAAsBC,IACjBqB,EAAQ,CACZ,IAAInC,EACAN,EACHM,EAAegB,EAAiBF,GACtBlD,IACVoC,EAAepC,EAAiB/O,IAAIiS,IAErCyD,EAAcvE,aAAa5I,EAAU4I,GACjCxK,GAAWsL,EAAK5Q,OAAS4Q,EAAK5Q,KAAKsU,UACtC1D,EAAK5Q,KAAKsU,WAG6B,WAApCpN,EAAwB1B,SAAwB0B,EAASqN,eAC7DlD,EAASnK,EAASqN,eAEnB,MAAMC,eAAEA,EAAcC,qBAAEA,GAAyBzU,EAAK2F,WAClDmH,EAAcG,YAAcuH,IAAqC,IAAnBA,GACjD1H,EAAcG,WAAWyH,MAAMxN,EAAwBsN,EAAgBC,GAExE,MAAME,EAAgBhH,EAAkBhP,IAAIiS,EAAK5Q,MACjD,GAAI2U,GAAwC,MAAvB3U,EAAK2F,WAAWnD,IACpC,GAAImS,EAAcrM,SAAU,CAC3B,MAAM2G,EAAejF,GAAkBrL,IAAIgW,EAAcrM,UACzD2G,GAAgBA,EAAa2F,YAAYrJ,IAAIrE,KAA2BlH,EAAK2F,WAAWnD,YAExF6H,GAAasK,EAAcrK,GAAItK,EAAK2F,WAAWnD,IAAK0E,GAGtDxH,EAAKkR,KAAKiE,UAAW,OACf,GAAkB,WAAdnV,EAAKpB,KAAmB,CAClC,MAAMsS,KACLA,EACAA,MAAM1J,QAAEA,GAASC,QACjBA,EACAA,SAAWD,QAAS4N,IACjBpV,EACA+E,EAAWyC,IAAYzC,EAAWqQ,IAAmB5N,IAAY4N,EACpEA,EAAe1D,YAAc0D,EAAe1D,WAAW2D,aAAa7N,EAAS4N,IAG7EjE,EAAkBD,EADS3J,GAAwBC,EAASC,IAE5DwJ,EAAsBC,SAEjB,GAAkB,WAAdlR,EAAKpB,KAAmB,CAClC,MAAM6I,QAAEA,GAAYzH,GACd6Q,cAAEA,EAAayE,oBAAEA,GAAwB7N,EAAQnH,KAAK2F,WACxDmH,EAAcG,YAAcsD,IAAmC,IAAlBA,EAChDzD,EAAcG,WAAWgI,KAAK9N,EAAQD,QAAwBqJ,EAAeyE,GAE7E7N,EAAQD,QAASkK,WAAY8C,YAAY/M,EAAQD,cAE5C,GAAkB,WAAdxH,EAAKpB,KAAmB,CAClC,MAAMgK,SAAEA,EAAQ4M,SAAEA,GAAaxV,EACzBuP,EAAejF,GAAkBrL,IAAI2J,GACvC2G,IACHA,EAAa2F,YAAYO,UACzBD,GAAYjG,EAAaqF,iBAEpB,GAAkB,WAAd5U,EAAKpB,KAAmB,CAClC,GAAIoB,EAAKyH,QAAQmB,SAAU,CAC1B,MAAM2G,EAAejF,GAAkBrL,IAAIe,EAAKyH,QAAQmB,UACxD2G,GAAgBA,EAAamG,WAE9B1V,EAAKyH,QAAQmB,cAAW/H,EAGW,IAAjC6M,EAAsB9K,SACzBqL,EAAoB,IAAI/S,GAmC1B,SAASya,EAAaC,GACrB,MAAM1Z,EAA4B,GAClC,IAAK,IAAI8H,EAAI,EAAGA,EAAI4R,EAAShT,OAAQoB,IAAK,CACzC,MAAMyB,EAAUmQ,EAAS5R,GACzB,GAAmC,MAA/ByB,EAAQnF,KAAK2F,WAAWnD,IAG3B,OAAO,EAFP5G,EAAK+B,KAAKwH,EAAQnF,KAAK2F,WAAWnD,KAKpC,OAAO5G,EAGR,SAASuY,GAAShN,EAAyByJ,EAAsBlG,EAAoB,IACpF,IAAI6K,WAAEA,EAAa,GAAEC,SAAEA,EAAW,EAACC,SAAEA,EAAW,GAAM/K,EACtD,MAAMgL,EAAgBvO,EAAQ7E,OACxBqT,EAAa/E,EAAKtO,OAClBmN,EAAsBiG,EAAgB,GAAMA,EAAgB,GAAKA,EAAgBC,EACvF,IAAIC,EAA8B,GAC9B/W,GAAU,EACd,GAAiB,IAAb2W,GAA+B,IAAbC,GAAkBC,EAAe,CACtD,MAAMG,EAAcR,EAAalO,GACjC,GAAI0O,EAAa,CAChB,MAAMC,EAAWT,EAAazE,GAC9B,GAAIkF,EACH,IAAK,IAAIpS,EAAI,EAAGA,EAAImS,EAAYvT,OAAQoB,IAAK,CAC5C,IAA0C,IAAtCoS,EAASjY,QAAQgY,EAAYnS,IAAY,CAC5CkS,EAAe,GACf/W,GAAU,EACV,MAEDA,GAAU,EACV+W,EAAajY,KAAK,CAAEwJ,QAASA,EAAQzD,GAAIkN,UAAMrQ,MAMnD,GAAI1B,GAA8B,IAAlB6W,IAAwB5I,EAAcE,MACrD,IAAK,IAAItJ,EAAI,EAAGA,EAAIkN,EAAKtO,OAAQoB,IAChCkS,EAAajY,KAAK,CAAEwJ,aAAS5G,EAAWqQ,KAAMA,EAAKlN,SAE9C,CACN,GAAI+R,EAAWE,EAAY,CAC1B,IAAII,EAAiBP,EAAWE,EAAgBvO,EAAQqO,QAAYjV,EACpE,MAAMoR,EAAcf,EAAK6E,GACzB9D,EAAYlC,oBAAsBA,EA7ErC,SAA4BmB,EAAoB2E,GAC/C,MAAMvI,MAAEA,GAAUF,EAClB,GAAIE,GAASuI,EAAWjT,OACvB,GAAIwC,GAAe8L,GAAO,CACzB,IACC5Q,MAAMiF,IAAEA,IACL2L,EACJ,IAAK,IAAIlN,EAAI,EAAGA,EAAI6R,EAAWjT,OAAQoB,IAAK,CAC3C,MAAMsS,EAAaT,EAAW7R,GACxB8B,EAAUwQ,EAAWxQ,SAAW,GACtC,GAAIP,EAAIgR,gBAAkBzQ,EAAQyQ,cAAe,CAChD,MAAMC,EAAiBrI,EAAgBhQ,QAAQmY,IACvB,IAApBE,GACHrI,EAAgBjQ,OAAOsY,EAAgB,GAExCX,EAAW3X,OAAO8F,EAAG,GACrBkN,EAAK1J,QAAU8O,EACf,aAIFpF,EAAK2E,WAAaA,EA0DlBY,CAAmBxE,EAAa4D,GAE5BQ,GAAkBjO,GAAKiO,EAAgBpE,IAC1C6D,IACAC,IACI3Q,GAAeiR,IAAmBjR,GAAe6M,KACpDA,EAAYkD,SAAWkB,EAAelB,UAEvCe,EAAajY,KAAK,CAAEwJ,QAAS4O,EAAgBnF,KAAMe,KACxCoE,IAA4E,IAA1DvN,GAAiBrB,EAASwK,EAAa6D,EAAW,IAIX,IAA1DhN,GAAiBoI,EAAMmF,EAAgBN,EAAW,IAE5DG,EAAajY,KAAK,CAAEwJ,QAAS4O,EAAgBnF,UAAMrQ,IACnDiV,MAIAI,EAAajY,KAAK,CAAEwJ,QAAS4O,EAAgBnF,UAAMrQ,IACnDqV,EAAajY,KAAK,CAAEwJ,aAAS5G,EAAWqQ,KAAMe,IAC9C6D,IACAC,MAZAG,EAAajY,KAAK,CAAEwJ,aAAS5G,EAAWqQ,KAAMe,IAC9C8D,KAiBF,GAHIA,EAAWE,GACdxI,EAAcxP,KAAK,CAAEwJ,UAASyJ,OAAMlG,KAAM,CAAE6K,aAAYC,WAAUC,cAE/DC,EAAgBF,GAAYC,GAAYE,EAC3C,IAAK,IAAIjS,EAAI8R,EAAU9R,EAAIgS,EAAehS,IAEzCkS,EAAajY,KAAK,CAAEwJ,QAASA,EAAQzD,GAAIkN,UAAMrQ,IAKlD,IAAK,IAAImD,EAAI,EAAGA,EAAIkS,EAAatT,OAAQoB,IAAK,CAC7C,MAAM1B,EAASoU,GAAYR,EAAalS,IACxC,IAAe,IAAX1B,EAAkB,CACrB,GAAI8K,EAAcE,OAASuI,EAAWjT,OAAQ,CACzCmT,EAAWE,GACdxI,EAAc8C,MAEf9C,EAAcxP,KAAK,CAAEiT,OAAMzJ,UAASuD,SACpC0C,EAAwBD,EACxBA,EAAgB,GAChB,MAED,SAED,MAAMjK,OAAEA,EAAMxD,KAAEA,EAAI2W,IAAEA,GAAQrU,EAC9BkB,GAAUiK,EAAcxP,KAAKuF,GAC7BxD,GAAQyN,EAAcxP,KAAK+B,GAC3B2W,GAAOhJ,EAAkB1P,KAAK0Y,IAIhC,SAASD,IAAYjP,QAAEA,EAAOyJ,KAAEA,IAC/B,GAAIzJ,IAAYyJ,EAAM,CACrB,IAAKzJ,GAAWyJ,EACf,OAAI9L,GAAe8L,GAoTtB,UAAoBA,KAAEA,IACrB,MAAMyD,EA76BP,SAA2BiC,GAC1B,IAAIjC,EACAkC,EAAgBhJ,EAAgB5O,IAAI2X,EAAYhG,UAEpD,MAAQ+D,GAAiBkC,IAEtBlC,GACDvP,GAAeyR,KACdvR,GAAiBuR,IAClBA,EAAcrP,UAEdmN,EAAgBkC,EAAcrP,SAE/BqP,EAAgBhJ,EAAgB5O,IAAI4X,EAAcjG,UAEnD,OAAO+D,EA85BemC,CAAkB5F,GAClC6F,EAAYzR,GAAiB4L,GAC7B8F,EAASxR,GAAc0L,GACvB+F,EAASvR,GAAcwL,GAC7B,IA0CIhL,EA1CA2P,EAAqB,GACzB3E,EAAKtG,MAAQH,OACboD,EAAgBzO,IAAI8R,EAAKtG,GAAIsG,GACxBA,EAAK1J,QA0BC4F,EAAcE,QACxB4D,EAAKqB,QAAS,EACVxN,EAAWmM,EAAK1J,SACf0J,EAAK1J,QAAQ0P,OAAShG,EAAK5Q,KAAKoQ,OACnCvC,EAAkB,CAAC+C,EAAK1J,WAAY2G,GACpC+C,EAAK1J,QAAUrM,EAAA,QAAOwQ,SAASwL,eAAejG,EAAK5Q,KAAKoQ,MACxDQ,EAAKqB,QAAS,IAGfsD,EAAanM,GAAUwH,EAAK1J,QAAQ4P,YACpCjJ,EAAkB,IAAIA,KAAoB0H,MAnCtC3E,EAAK5Q,KAAakH,QACtB0J,EAAK1J,QAAW0J,EAAK5Q,KAAakH,SAEZ,QAAlB0J,EAAK5Q,KAAKiF,MACb2L,EAAK5H,UAAYhF,GAEd0S,EACH9F,EAAK1J,QAAUrM,EAAA,QAAOwQ,SAASC,KACrBqL,EACV/F,EAAK1J,QAAUrM,EAAA,QAAOwQ,SAAS0L,KACrBnG,EAAK5Q,KAAKiF,MAAQwR,EACxB7F,EAAK5H,UACR4H,EAAK1J,QAAUrM,EAAA,QAAOwQ,SAAS2L,gBAAgBpG,EAAK5H,UAAW4H,EAAK5Q,KAAKiF,KAEzE2L,EAAK1J,QAAUrM,EAAA,QAAOwQ,SAAS4L,cAAcrG,EAAK5Q,KAAKiF,KAE5B,MAAlB2L,EAAK5Q,KAAKoQ,OACpBQ,EAAK1J,QAAUrM,EAAA,QAAOwQ,SAASwL,eAAejG,EAAK5Q,KAAKoQ,QAGtD1C,GAAoBG,EAAgBvL,QACnC+R,IAAkBxG,EAAgB,GAAGuD,YACxC1D,EAAiB5O,IAAI8R,EAAM/C,EAAgB,MAiB1C+C,EAAK1J,SAAWuP,IACf7F,EAAK5Q,KAAK4F,UAAYgL,EAAK5Q,KAAK4F,SAAStD,SAC5CsD,EAAWwJ,EAAkBwB,EAAK5Q,KAAK4F,SAAUgL,EAAM,MACvDnD,EAAsB3O,IAAI8R,EAAKtG,GAAI1E,IAGrC,MAAMyQ,EAA0ChR,GAAiBuL,QAC9DrQ,EACA,CACAqQ,KAAMA,EACNyD,cAAeA,EACf/V,KAAM,UAET,OAAIsH,EACI,CACNlG,KAAM,CACLyH,QAAS,GACTyJ,KAAMhL,EACN8E,KAAM,CAAE6K,eAETc,MACAnT,OAAQuT,EAAY,CAAEnY,KAAM,SAAUgM,GAAKsG,EAAatG,GAAI4K,UAAU,QAAU3U,GAG3E,CAAE8V,OA3XCa,CAAW,CAAEtG,SAsExB,UAAuBA,KAAEA,IACxB,IAaIvB,EACA8H,GAbHnX,MAAM8F,kBAAEA,IACL8K,GACAjN,SAAEA,GAAamJ,EACfsK,EAAcxG,EAAK1I,cAAgBpC,EACvC,IAAKhG,EAASsX,GAAc,CAE3B,GADArI,EAAoB6B,IACfA,EAAK1I,aACT,OAAO,EAERkP,EAAcxG,EAAK1I,aAKpB0I,EAAKjL,WAAUjK,OAAAC,OAAA,GAAQiV,EAAK5Q,KAAK2F,YACjCiL,EAAKtG,GAAKsG,EAAKtG,OAASH,OACxBoD,EAAgBzO,IAAI8R,EAAKtG,GAAIsG,GAC7B,MAAMtG,GAAEA,EAAEvI,MAAEA,EAAKsO,MAAEA,GAAUO,EAC7B,GAAKnR,EAAwB2X,GA8CtB,CACN,IAAI9O,EAAW,IAAI8O,EAInB9O,EAAS3E,SAASV,KAAOU,EACzB,MAAMsL,EAAejF,GAAkBrL,IAAI2J,GAC3C6O,EAAa,MACZlI,EAAaoI,OAAQ,GAChBpI,EAAazK,WAAa+I,EAAgB7O,IAAI4L,KAClD4C,EAAmBvP,KAAK,CAAE2M,KAAIvI,QAAOsO,UACrC+C,OAGFnE,EAAakI,WAAaA,EAC1BlI,EAAazK,WAAY,EACzB8D,EAASgP,kBAAkB1G,EAAK5Q,KAAK2F,YACrC2C,EAASiP,gBAAgB3G,EAAK5Q,KAAK4F,UACnCgL,EAAKtI,SAAWA,EAChB+G,EAAW/G,EAASkP,aACpBvI,EAAazK,WAAY,MAlEiB,CAC1C,IAAI+F,EAAaN,GAActL,IAAI2L,GACnC,GAAKC,EAmCJ4M,EAAa5M,EAAWvJ,iBANxB,GA5BAmW,EAAa,MACZ,MAAM5M,EAAaN,GAActL,IAAI2L,GACjCC,IACHA,EAAW8M,OAAQ,GACd9M,EAAW/F,WAAa+I,EAAgB7O,IAAI4L,KAChD4C,EAAmBvP,KAAK,CAAE2M,KAAIvI,QAAOsO,UACrC+C,QAKH7I,EAAa,CACZkN,WAAYL,EAAYpQ,MAAQ,UAChCmE,UAAW2B,EAAc5F,QACzBmQ,OAAO,EACPrW,YAAamW,EACbxR,WAAY2G,GAAuBhC,EAAIsG,EAAK5Q,KAAK2F,YACjDoG,mBAAkBrQ,OAAAC,OAAA,GAAOiV,EAAK5Q,KAAK2F,YACnCC,SAAUgL,EAAK5Q,KAAK4F,SACpByG,UAAW,EACX7H,WAAW,EACXoF,WAAY,GACZgB,cAAe,GACfjH,SAAUmJ,EAAcnJ,SACxB+T,kBAAkB,GAGnBzN,GAAcnL,IAAI8R,EAAKtG,GAAIC,GACtB6M,EAAoB3N,aAAe/N,OAAOE,KAAMwb,EAAoB3N,aAAanH,OAAQ,CAC7F,MAAMmH,YAAEA,EAAWkO,IAAEA,GA/EzB,SAASC,EACRnO,EACAa,EACAM,EAA0B,IAE1B,MAAMhP,EAAOF,OAAOE,KAAK6N,GACnBoO,EAAe,GACfC,KAAcxN,KAAMF,OAC1B,IAAK,IAAI1G,EAAI,EAAGA,EAAI9H,EAAK0G,OAAQoB,IAAK,CACrC,MAAMkG,EAAaH,EAAY7N,EAAK8H,MAC9BqU,EAAUC,GAAoBF,EAAUxN,GAC9C,GAAIV,EAAWH,YAAa,CAC3B,MAAQA,YAAawO,GAAuBL,EAC3ChO,EAAWH,YACXa,EACAM,GAEDmN,EAAQnO,WAAaqO,EACrBJ,EAAQjc,EAAK8H,IAAMkG,EAAWJ,SAASuO,QAEvCF,EAAQjc,EAAK8H,IAAMkG,EAAWJ,SAASuO,GAIzC,OADAnN,EAAcjN,KAAKma,GACZ,CAAErO,YAAaoO,EAASF,IAAK/M,GAuDJgN,CAAmBR,EAAoB3N,YAAaa,GACjFC,EAAWX,WAAaH,EACxBc,EAAWK,cAAgB+M,EAS7B,GAHAtI,EAAW+H,EAAYY,GAAoB1N,EAAIA,EAAIC,EAAWX,aAC9DW,EAAW/F,WAAY,EACvB+F,EAAWmN,kBAAmB,EAC1BnN,EAAW8B,UAAY,EAC1B,OAAO,EAyBT,IAAIzG,EAWJ,OAVIyJ,IACHA,EAAWxS,MAAMuC,QAAQiQ,GAAYA,EAAW,CAACA,GACjDzJ,EAAWwJ,EAAkBC,EAAUuB,EAAM,MAC7CnD,EAAsB3O,IAAIwL,EAAI1E,IAG1BgH,GAAsBwK,EAAoBzS,iBAC9CiI,EAAmBuK,GAGb,CACNzX,KAAM,CACLkR,KAAMhL,EACN8E,KAAM,CAAE6K,WAAY3E,EAAK2E,aAE1BrS,OAAQ,CAAE5E,KAAM,SAAUgK,SAAUsI,EAAKtI,SAAUgC,KAAI4K,UAAU,IA7KxDgD,CAAc,CAAEtH,SAElB,GAAIzJ,GAAWyJ,EAAM,CAC3B,GAAI9L,GAAeqC,IAAYrC,GAAe8L,GAC7C,OAwXJ,UAAoBzJ,QAAEA,EAAOyJ,KAAEA,IAK9B,IAAIhL,EAJJgL,EAAK1J,QAAUC,EAAQD,QACvB0J,EAAK5H,UAAY7B,EAAQ6B,UACzB4H,EAAKtG,GAAKnD,EAAQmD,GAClBsG,EAAKK,kBAAoB9J,EAAQ8J,kBAEjC,IAAIkH,EAAkB1K,EAAsB9O,IAAIiS,EAAKtG,IASrD,OARsB,MAAlBsG,EAAK5Q,KAAKoQ,MAAgBQ,EAAK5Q,KAAKoQ,OAASjJ,EAAQnH,KAAKoQ,KAC7DQ,EAAK1J,QAAUrM,EAAA,QAAOwQ,SAASwL,eAAejG,EAAK5Q,KAAKoQ,MAC9CQ,EAAK5Q,KAAK4F,WACpBA,EAAWwJ,EAAkBwB,EAAK5Q,KAAK4F,SAAUgL,EAAMzJ,GACvDsG,EAAsB3O,IAAI8R,EAAKtG,GAAI1E,IAEpC4H,EAAmBxK,OAAOmE,GAC1BoG,EAAgBzO,IAAI8R,EAAKtG,GAAIsG,GACtB,CACNlR,KAAM,CACLyH,QAASgR,EACTvH,KAAMhL,EACN8E,KAAM,IAEP2L,IAAK,CAAE/X,KAAM,SAAUsS,OAAMzJ,YA7YpBiR,CAAW,CAAEjR,UAASyJ,SACvB,GAAIjM,GAAewC,IAAYxC,GAAeiM,GACpD,OAAOkD,GAAc,CAAE3M,UAASyJ,cAE3B,GAAIzJ,IAAYyJ,EAAM,CAC5B,GAAI9L,GAAeqC,GAClB,OA2YJ,UAAoBA,QAAEA,IACrB,MAAMkR,EAAYhT,GAAiB8B,GAC7BvB,EAAW6H,EAAsB9O,IAAIwI,EAAQmD,IAInD,GAHAmD,EAAsBzK,OAAOmE,EAAQmD,IACrCiD,EAAgBvK,OAAOmE,EAAQmD,IAC/BkD,EAAmBxK,OAAOmE,GACtBA,EAAQnH,KAAK2F,WAAWnD,IAAK,CAChC,MAAM+H,EAAaN,GAActL,IAAIwI,EAAQuJ,UACvC6F,EAAgBjD,EAAgBnM,EAAQuJ,UAC9C,GAAInG,EACHA,EAAWC,SAAWD,EAAWC,QAAQxH,OAAOmE,EAAQnH,KAAK2F,WAAWnD,UAClE,GAAI+T,GAAiBA,EAAcjO,SAAU,CACnD,MAAM2G,EAAejF,GAAkBrL,IAAI4X,EAAcjO,UACzD2G,GAAgBA,EAAa2F,YAAY0D,OAAOnR,EAAQnH,KAAK2F,WAAWnD,MAG1E,OAAI2E,EAAQqJ,eAAiB6H,EACrB,CACN3Y,KAAM,CAAEyH,QAASvB,EAAU8E,KAAM,IACjC2L,IAAKgC,OAAY9X,EAAY,CAAEjC,KAAM,SAAU6I,aAI7CvB,GACHgI,EAAyBjQ,KAAK,KAC7B,IACIwH,EADAmQ,EAAW1P,GAAY,GAEvB2S,EAAa,GACjB,KAAQpT,EAAUmQ,EAASrF,OAAQ,CAClC,GAAItL,GAAeQ,GAElB,IADAA,EAAUmO,EAAgBnO,EAAQmF,KAAOnF,GAC7BmD,SAAU,CACrB,MAAM2G,EAAejF,GAAkBrL,IAAIwG,EAAQmD,UACnD2G,GAAgBA,EAAamG,WAC7BjQ,EAAQmD,cAAW/H,MACb,CACN,MAAMmK,EAAOT,GAActL,IAAIwG,EAAQmF,IACnCI,IACHA,EAAKyB,iBAAmBzB,EAAKyB,gBAAgBrO,UAC7C2M,GAAeC,GACfT,GAAcjH,OAAOmC,EAAQmF,KAIhC,IAAIkO,EAAkB/K,EAAsB9O,IAAIwG,EAAQmF,IACpDkO,GACHlD,EAAS3X,QAAQ6a,GAEdtT,GAAcC,IAAYC,GAAcD,GAC3CoT,EAAW5a,KAAKwH,EAAQmF,KAC4B,IAA1CiO,EAAW1a,QAAQsH,EAAQmL,YACjC3L,GAAeQ,IAAYH,GAAiBG,GAC/CoT,EAAW5a,KAAKwH,EAAQmF,IACdnF,EAAQ+B,SAAW/B,EAAQ+B,QAAQkK,YAC7CjM,EAAQ+B,QAAQkK,WAAW8C,YAAY/O,EAAQ+B,UAGjDuG,EAAsBzK,OAAOmC,EAAQmF,IACrCiD,EAAgBvK,OAAOmC,EAAQmF,OAK3B,CACN+L,IAAK,CAAE/X,KAAM,SAAU6I,aA3cdsR,CAAW,CAAEtR,YACd,GAAIxC,GAAewC,GACzB,OA+PJ,UAAuBA,QAAEA,IACxBA,EAAUmM,EAAgBnM,EAAQmD,KAAOnD,EACzCoG,EAAgBvK,OAAOmE,EAAQmD,IAC/B,MAAMI,EAAOT,GAActL,IAAIwI,EAAQmD,IACvC,IAAI6N,EAAkB1K,EAAsB9O,IAAIwI,EAAQmD,IACxDmD,EAAsBzK,OAAOmE,EAAQmD,IACrCkD,EAAmBxK,OAAOmE,GAC1B,IAAIuR,EAA+B,CAClChZ,KAAM,CACLyH,QAASgR,EACTzN,KAAM,KAWR,OARIA,GACHA,EAAKyB,iBAAmBzB,EAAKyB,gBAAgBrO,UAC7C2M,GAAeC,GACfT,GAAcjH,OAAOmE,EAAQmD,KAE7BoO,EAAcxV,OAAS,CAAE5E,KAAM,SAAU6I,UAASmB,SAAUnB,EAAQmB,UAG9DoQ,EApRGC,CAAc,CAAExR,aAI1B,MAAO,GAGR,SAAS6Q,GAAoB1N,EAAYU,EAAkBpB,GAC1D,MAAO,CACNU,KACA3E,WAAY,KACX,MAAM4E,EAAaN,GAActL,IAAIqM,GACrC,OAAIT,GACHA,EAAWmN,kBAAmB,EAC9Bhc,OAAAC,OAAA,GAAY4O,EAAW5E,aAEjB,IAERC,SAAU,KACT,MAAM2E,EAAaN,GAActL,IAAIqM,GACrC,OAAIT,EACIA,EAAW3E,SAEZ,IAERgE,cA4IF,SAASkK,IAAc3M,QAAEA,EAAOyJ,KAAEA,IACjCzJ,EAAUmM,EAAgBnM,EAAQmD,KAAOnD,EACzC,MAAMmB,SAAEA,EAAQpB,QAAEA,EAAOsJ,cAAEA,EAAalG,GAAEA,GAAOnD,EACjD,IACCnH,MAAM8F,kBAAEA,IACL8K,EACJ,MAAMwG,EAAcxG,EAAK1I,cAAgBpC,EAEzC,IAAKhG,EAASsX,GACb,MAAO,GAER,IAAI/H,EA8DAzJ,EA7DA8S,EAA+B,GAC/BE,GAAY,EACZT,EAAkB1K,EAAsB9O,IAAIwI,EAAQmD,IASxD,GARAsG,EAAKJ,cAAgBA,EACrBI,EAAKtG,GAAKA,EACVsG,EAAKjL,WAAUjK,OAAAC,OAAA,GAAQiV,EAAK5Q,KAAK2F,YACjC6H,EAAmBxK,OAAOmE,GACtBD,GAAWA,EAAQkK,aACtBR,EAAK1J,QAAUA,GAGXzH,EAAwB2X,GAkCtB,CACN,MAAMnI,EAAejF,GAAkBrL,IAAI2J,GAC3CsI,EAAKtI,SAAWA,EAChB2G,EAAazK,WAAY,EACzB8D,EAAUgP,kBAAkB1G,EAAK5Q,KAAK2F,YACtC2C,EAAUiP,gBAAgB3G,EAAK5Q,KAAK4F,UAChCqJ,EAAaoI,QAChBuB,GAAY,EACZnL,EAAsBzK,OAAOsH,GAC7B+E,EAAW/G,EAAUkP,cAEtBvI,EAAazK,WAAY,MA7CiB,CAC1C,MAAM+F,EAAaN,GAActL,IAAI2L,GACrC,GAAIC,EAAY,CACfA,EAAWwB,mBAAkBrQ,OAAAC,OAAA,GAAQiV,EAAKjL,YAC1C4E,EAAW5E,WAAa2G,GAAuBhC,EAAIC,EAAWwB,oBAC9DxB,EAAW3E,SAAWgL,EAAK5Q,KAAK4F,SAChC2E,EAAW/F,WAAY,EACvB,MAAMqU,EA5sCV,SAAkBnO,EAAkBvD,EAAcyJ,GACjD,IAAIiI,EAAwB,GAY5B,OAXAnO,EAAKkB,cAAgBlB,EAAKkB,eAAiB,IAAI9P,EAC3C4O,EAAKkB,cAAcf,MACtBH,EAAKkB,cAAc7N,QAAS+a,IAC3BA,EAAQ/a,QAAQ,CAAC4N,EAAMF,KACtB,MAAMzJ,EAAS2J,EAAIjQ,OAAAC,OAAA,GAAMwL,GAAOzL,OAAAC,OAAA,GAASiV,IACrC5O,IACH6W,EAAiBpN,GAAgBzJ,OAK9B6W,EA+rCqBE,CAASxO,EAAYpD,EAAQxB,WAAY4E,EAAWwB,oBAC7ExB,EAAW5E,WAAUjK,OAAAC,OAAA,GAAQ4O,EAAW5E,WAAekT,IACnD1R,EAAQnH,KAAK4F,SAAStD,OAAS,GAAKsO,EAAK5Q,KAAK4F,SAAStD,OAAS,KACnEiI,EAAW8M,OAAQ,GAEf9M,EAAW8M,OA3pDd,SAAyBlQ,EAAcyJ,EAAW5P,EAAyBgY,GAChF,MAAMzM,EAAgB,IAAI7Q,OAAOE,KAAKuL,MAAazL,OAAOE,KAAKgV,IAC/D,IAAK,IAAIlN,EAAI,EAAGA,EAAI6I,EAAcjK,OAAQoB,IACzC,KAAIsV,EAAiBnb,QAAQ0O,EAAc7I,KAAO,GAAlD,CAIA,GADe5B,EAAKqF,EAAQoF,EAAc7I,IAAKkN,EAAKrE,EAAc7I,KACvD7B,QAAS,CACnBb,IACA,MAEDgY,EAAiBrb,KAAK4O,EAAc7I,KAipDjCuV,CACC9R,EAAQxB,WACRiL,EAAKjL,WACL,KACC4E,EAAW8M,OAAQ,GAEpB9M,EAAWsB,qBAAuB,IAAItB,EAAWsB,qBAAqBpQ,UAAY,IAGhF8O,EAAW8M,QACd5J,EAAsBzK,OAAOsH,GAC7BsO,GAAY,EACZvJ,EAAW+H,EAAYY,GAAoB1N,EAAIA,EAAIC,EAAWX,aAC9DW,EAAW8M,OAAQ,EACf9M,EAAW8B,UAAY,IAC1BgD,EAAW,OAGb9E,EAAW/F,WAAY,EACvB+F,EAAWmN,kBAAmB,GAgChC,OAjBAnK,EAAgBzO,IAAI8R,EAAKtG,GAAIsG,GAC7B8H,EAAcxV,OAAS,CAAE5E,KAAM,SAAUgK,WAAUgC,KAAI4K,UAAU,GAG7D7F,IAEHzJ,EAAWwJ,EADXC,EAAWxS,MAAMuC,QAAQiQ,GAAYA,EAAW,CAACA,GACVuB,EAAMzJ,GAC7CsG,EAAsB3O,IAAIwL,EAAI1E,IAG3BgT,IACHF,EAAchZ,KAAO,CACpByH,QAASgR,EACTvH,KAAMhL,EACN8E,KAAM,KAGDgO,EA2BR,SAASxH,GAA2B5G,GACnC,MAAM1E,EAAW6H,EAAsB9O,IAAI2L,IAAO,GAClD,IAAK,IAAI5G,EAAI,EAAGA,EAAIkC,EAAStD,OAAQoB,IAAK,CACzC,MAAMkB,EAAQgB,EAASlC,GACvB,GAAIkB,EAAMsC,QACT,OAAOtC,EAAM0F,GAEd,MAAM4O,EAAUhI,GAA2BtM,EAAM0F,IACjD,GAAI4O,EACH,OAAOA,GA6KV,MAAO,CACNC,MAt1BD,SAAeC,EAAsC,IACpD,IAAIlS,EAAUkS,EAAalS,QACtBA,IAIJA,EAAUrM,EAAA,QAAOwQ,SAASC,MAE3BwB,EAAapR,OAAAC,OAAA,GAAQmR,EAAkBsM,EAAY,CAAElS,YACrD,MAAMmS,EAvrBR,SAAmB3M,GAClB,MAAM1K,EAAS0K,IACT/H,EAAiBE,GAAQ7C,GACzBwH,EAAW,IACTxH,EAGR,OADAwH,EAAS7E,eAAiBA,EACnB+E,GAAQF,GAgrBO8P,CAAU5M,EAAV4M,CAAoB,GAAI,IAEvC3H,EAAc,CACnBrH,GAFDuC,KAAmB1C,OAGlBnK,KAAMqZ,EACNhJ,MAAO,EACPtO,MAAO,EACP2O,SAAU,KACVJ,SAAU,KACViJ,UAAW,KACX5T,WAAY,IAEb4H,EAAgBzO,IAAI,KAAM,CACzBwL,GAAI,KACJvI,MAAO,EACPsO,MAAO,EACPK,SAAU,GACVxJ,UACAlH,KAAM+F,GAAE,QACRuK,SAAU,OAEXnD,EAAcxP,KAAK,CAClBwJ,QAAS,GACTyJ,KAAM,CAACe,GACPjH,KAAM,CAAE6K,WAAYnM,GAAUlC,EAAQ4P,eAEvClD,IACAG,IACAC,IACAtG,OAAmBnN,EACnBsS,IACKlG,GACJpI,GAAa,IA8yBdiV,QAt3BD,WACCrM,EAAcxP,KAAK,CAClBwJ,QAAS,CAACoG,EAAgB5O,IAAIkO,IAC9B+D,KAAM,GACNlG,KAAM,KAEHiC,GACH9R,EAAA,QAAO4e,qBAAqB9M,GAE7BiH,IACAG,IACAjG,EAAoB/P,QAAQ,CAACyL,EAAUc,KACtCzP,EAAA,QAAO4e,qBAAqBnP,GAC5Bd,MAED,MAAMsJ,EAAMJ,IACZI,GAAOA,IACP5F,EAAqB,GACrBC,EAAgB,GAChBC,EAAwB,GACxBC,EAAoB,GACpBO,EAA2B,GAC3BC,EAAkB,GAClBP,EAAY,IAAI1S,EAChB2S,EAAgBzC,QAChB2C,EAAsB3C,QACtB0C,EAAqB,IAAI5S,EACzB+S,EAAoB,IAAI/S,EACxB8S,OAAmBnN,GA21BnB4W,WA3yBD,WACCvK,GAAoBA,OCrnDtB,MAkDM8M,GAlDU5P,GAAO,CAAE9I,YAAA+J,GAAajN,QAAAkO,IAkDhB2N,CACrB,EAAG/P,YAAc5I,cAAalD,eAC7B,MAAM8b,EAAW,IAAI9d,EACrBgC,EAAQ,KACP8b,EAAS9O,UAGV,MAAM+O,EAAW,CAChBlb,IAAM6D,IACL,MAAMsX,EAAcF,EAASjb,IAAI6D,GACjC,GAAKsX,GAAsC,YAAvBA,EAAYC,OAGhC,OAAOD,EAAYrY,OAIrB3C,IAAU,CAAC0D,EAAUf,EAAY0V,GAAsB,KACtD,MAAMhQ,EAAU0S,EAAIlb,IAAI6D,GACxB,MAAqB,mBAAVf,IACVA,EAAQA,EAAM0F,KACqB,mBAAf1F,EAAMf,MACzBkZ,EAAS9a,IAAI0D,EAAK,CACjBuX,OAAQ,UACRtY,eAEDA,EAAMf,KAAMsB,IACX,MAAM8X,EAAcF,EAASjb,IAAI6D,GAC7BsX,GAAeA,EAAYrY,QAAUA,IACxCmY,EAAS9a,IAAI0D,EAAK,CACjBuX,OAAQ,WACRtY,MAAOO,IAERmV,GAAcnW,SAMlB4Y,EAAS9a,IAAI0D,EAAK,CACjBuX,OAAQ,WACRtY,UAED0V,GAAcnW,IACPS,IAER/C,IAAW8D,GACHoX,EAASlb,IAAI8D,GAErBQ,OAAa,CAACR,EAAU2U,GAAsB,KAC7CyC,EAAS5W,OAAOR,GAChB2U,GAAcnW,KAEf8J,MAAY,CAACqM,GAAsB,KAClCyC,EAAS9O,QACTqM,GAAcnW,KAEfgZ,SAAe,CAACxX,EAAUf,EAAY0V,GAAsB,KAC3D,IAAI2C,EAAcF,EAASjb,IAAI6D,GAK/B,GAJKsX,GACJD,EAAI/a,IAAI0D,EAAKf,EAAO0V,IAErB2C,EAAcF,EAASjb,IAAI6D,KACgB,YAAvBsX,EAAYC,OAGhC,OAAOD,EAAYrY,QAEpB,OAAOoY,IAIII,GAAyB,IAAgBP,GAAc7P,WAEvDqQ,GAASD,KAEP,IAAAE,GAAA,GC9Hf,MAEaC,GAFWtQ,GAAO,CAAEuQ,YAAAnO,GAAalL,YAAA+J,GAAajN,QAAAkO,IAEnCsO,CAAgB,EAAG1Q,YAAcyQ,cAAarZ,cAAalD,eAClF,MAAMN,EAAoB,GAC1BM,EAAQ,KACP,IAAIL,EACJ,KAAQA,EAASD,EAAQyS,OACxBxS,EAAOK,YAGT,MAAM6F,EAAW0W,IACjB,MAAO,CACN/c,UAAUgD,EAAsBkJ,EAAqBxI,GACpD,GAAI2C,EAAU,CACb,MAAMjE,EAAOiE,EAAS4W,YAAYja,GAClC,GAAIZ,EAAM,CACT,MAAMjC,EAASiC,EAAKsB,YAAY6C,GAAG,aAAc,KAChD2F,MAGD,OADAhM,EAAQG,KAAKF,GACN,KACN,MAAM+c,EAAQhd,EAAQK,QAAQJ,IACf,IAAX+c,IACHhd,EAAQI,OAAO4c,EAAO,GACtB/c,EAAOK,eAMZR,IAAOgD,GACN,GAAIqD,EAAU,CACb,MAAMjE,EAAOiE,EAAS4W,YAAeja,GACrC,GAAIZ,EACH,OAAOA,EAAKwB,WAGd,OAAO,SCVK,IAAAuZ,GAzBR,cAAgCvc,EAItCZ,YAAYya,GACXpV,QACApF,KAAKmd,SAAW3C,EAGVza,eAAe0D,GACrBzD,KAAKod,aAAe3Z,EAGd1D,MACN,OAAOC,KAAKmd,SAGNpd,IAAIya,GACVxa,KAAKmd,SAAW3C,EACZxa,KAAKod,cACRpd,KAAKod,iBCNF,SAAUC,GAAmBC,GAClC,OAAOA,GAASA,EAAMzZ,eAAe,WAGhC,SAAU0Z,GAAoBD,GACnC,OAAOA,GAASA,EAAMzZ,eAAe,YAGhC,SAAU2Z,GACfF,GAEA,QAASA,GAASA,EAAMzZ,eAAe,WAkExC,SAAS4Z,GACRH,EACAI,GAEA,OAAIL,GAAmBC,GACO,iBAAlBA,EAAMI,QACT,CACNJ,MAAOA,EAAMA,MACbI,QAAS,CAAEjU,KAAM6T,EAAMI,QAASxZ,MAAOoZ,EAAMA,MAAMK,SAASL,EAAMI,WAG7D,CAAEJ,MAAOA,EAAMA,MAAOI,QAASJ,EAAMI,SAClCH,GAAoBD,GA7F1B,SAA0BI,GAC/B,MAA0B,iBAAZA,EA8FTE,CADJF,EAAUA,GAAW,WAKb,CAAEJ,QAAOI,WAMV,CAAEJ,MAAOA,EAAOI,QAAS,CAAEjU,KAAMiU,EAASxZ,MAAOoZ,EAAMK,SAASD,KAEjE,CAAEJ,SAGJ,MAAOO,WAAsBX,GAClCnd,YAAYud,GACXlY,MAAMkY,EAAQG,GAA2BH,GAASA,GAMnDvd,IAAIud,EAAqDI,GACxDtY,MAAM7D,IAAIkc,GAA2BH,EAAOI,IAG7C3d,MACC,OAAOqF,MAAMhE,OAIA,6RCxHR,MAEM0c,GAAqB,mBA0InB,IAAAC,GA/HCxR,GAAO,CAAE9I,YAAA+J,GAAawQ,OAAApB,GAAQqB,aAAAhQ,GAActK,SHU7C,GGVuDmZ,YAAAnO,KAAevG,YAEhE8V,CACpB,EAAG7R,YAAc5I,cAAaua,SAAQC,eAActa,WAAUmZ,eAAe1U,iBAC5E,IAAI+V,EAAY,IAAI3gB,EA6BpB,SAAS4gB,IACR,MAAMd,MAAEA,GAAUlV,IAClB,GAAIkV,EACH,OAAOA,EAER,MAAMe,EAAgB1a,EAASvC,IAAmB0c,IAClD,GAAIO,EAAe,CAClB,MAAMC,EAAeD,EAAcjd,MACnC,GAAIoc,GAAkCc,GACrC,MAAO,CAAEhB,MAAOgB,EAAahB,MAAOI,QAASY,EAAaZ,SACpD,GAAIY,EACV,OAAOA,EAAahB,OAMvB,GA5CAW,EAAa,QAAS7V,EAAY,CAACwB,EAASyJ,KAC3C,MAAM/O,QAAEA,GAAYC,EAAKqF,EAAQ0T,MAAOjK,EAAKiK,MAAO,GAChDhZ,IACH0Z,EAAOzQ,QACP9J,OAGFwa,EAAa,UAAW,CAACrU,EAA0ByJ,KAClD,IAAI5O,GAAS,EACb,GAAKmF,EAAQjB,UAAY0K,EAAK1K,UAAciB,EAAQjB,SAAW0K,EAAK1K,QACnElE,GAAS,OACH,GAAImF,EAAQjB,SAAW0K,EAAK1K,QAAS,CAC3C,MAAMtK,EAAO,IAAI8f,EAAUjgB,UAC3B,IAAK,IAAIiI,EAAI,EAAGA,EAAI9H,EAAK0G,OAAQoB,IAAK,CACrC,IAAIlB,EAAM5G,EAAK8H,GAEf,GADA1B,EAASF,EAAKqF,EAAQjB,QAAQ1D,GAAMoO,EAAK1K,QAAQ1D,GAAM,GAAGX,QAEzD,OAICG,IACHuZ,EAAOzQ,QACP9J,QAoBoBE,EAASvC,IAAI0c,IACf,CACnB,MAAM1X,EAAW0W,IACb1W,GA7DP,SAA+BkX,EAA6CiB,GAC3E,MAAMF,EAAgB,IAAIR,GAAcP,GACxCiB,EAAc1Y,eAAeiY,GAAqBra,IACjD4a,EAAcG,eAAe/a,GACtB,IAAM4a,IA0DXI,MAAsBzb,EAAWoD,EAASV,MAwB5C,OArBA/B,EAAS+a,UAAUZ,GAAoB,KACtCE,EAAOzQ,QACP9J,MAmBM,CACN1D,QAA8B4e,GAC7B,MAAMC,EAAcZ,EAAO5c,IAAOud,GAClC,GAAIC,EACH,OAAOA,EAER,MAAQ7V,EAhGa,QAgGb9D,EAAA0Z,EAAA5V,GAAkBJ,EAAAkW,GAAAF,EAAA,CAAA5V,EAAA,KAC1BoV,EAAUnQ,IAAI/I,GACd,IAAIqY,EAAQ3U,GACNA,QAASmW,GAAmB1W,IAC9B2W,EAAeX,IAWnB,GATIW,GAAgB1B,GAAmB0B,KACtCA,EAAexB,GAAoBwB,EAAazB,OAC7CyB,EAAazB,MAAMA,MACnByB,EAAazB,OAGbyB,GAAgBA,EAAa9Z,KAChCqY,EAAKnf,OAAAC,OAAA,GAAQkf,EAAUyB,EAAa9Z,KAEjC6Z,GAAkBA,EAAe7Z,GAAM,CAC1C,MAAM+Z,EAAY7gB,OAAOE,KAAKygB,EAAe7Z,IAC7C,IAAK,IAAIkB,EAAI,EAAGA,EAAI6Y,EAAUja,OAAQoB,IAAK,CAC1C,MAAM8Y,EAAWD,EAAU7Y,GACvBmX,EAAM2B,KACT3B,EAAM2B,MAAe3B,EAAM2B,MAAaH,EAAe7Z,GAAKga,GAAUC,KAAK,SAK9E,OADAlB,EAAOzc,IAAIod,EAAKrB,GAAO,GAChBA,GAERvd,UACC,MAAMud,EAAQc,IACd,GAAId,GAASD,GAAmBC,GAC/B,OAAOA,EAAMI,QAAQxZ,MAAMib,MAG7B5d,IArDD,SACC+b,EACAI,GAEA,MAAMqB,EAAepb,EAASvC,IAAmB0c,IAC7CiB,IACCxB,GAAoBD,GACvByB,EAAaxd,IAAI+b,EAAOI,GAExBqB,EAAaxd,IAAI+b,KA6CnBvd,MACC,MAAMgf,EAAepb,EAASvC,IAAmB0c,IACjD,GAAIiB,EACH,OAAOA,EAAa3d,wCCrJzB,MAAMge,GAAU7S,GAAO,CAAE8S,UAAAtB,KAGzB,SAASuB,GAAmBpb,GAC3B,SAAUA,EAAMqb,OAAO,GAAG7G,gBAAgBxU,EAAM6H,MAAM,KAOvD,SAASyT,GAAmBlC,GAC3B,OAAOA,GAASA,EAAMzZ,eAAe,WAK/B,MAAM4b,GAAQL,GAAQ,UAAW/S,YAAYgT,UAAEA,GAAWjX,WAAEA,IAelE,OAAAjK,OAAAC,OAAA,CACCshB,QAAS,CACRC,EACAhB,EACAiB,KAEA,MAAMtC,EApBR,WACC,MAAMA,MAAEA,GAAUlV,IAClB,GAAIkV,EACH,OAAOA,EAGR,MAAMgB,EAAee,EAAUje,MAC/B,OAAIoc,GAAkCc,GAC9B,CAAEhB,MAAOgB,EAAahB,MAAOI,QAASY,EAAaZ,SAChDY,EACHA,EAAahB,WADd,EAWQc,GACRyB,EAAUF,EAtCM,SAuChBG,EAAanB,EAvCG,SAwChBoB,EAAa5hB,OAAOE,KAAKshB,GAASvV,OACvC,CAAC2V,EAAY9a,IAzCQ,UA0ChBA,EACI8a,GAEJH,IAAWG,KAAcH,IAASN,GAAmBra,QACxD8a,KAAcH,IAASN,GAAmBra,MAAU,KAEhD0Z,EAAI1Z,KACR8a,EAAW9a,GAAO,KAEZ8a,GAER,CAAEC,QAAaF,IAEVG,EAAeZ,EAAU1W,QAAQoX,GACjCG,EAAeb,EAAU1W,QAAQgW,GACvC,IAAIwB,EAAYd,EAAU1W,QAAQgX,GAClC,GAAIC,EAAQ,CACX,MAAMQ,EAAcjiB,OAAOE,KAAIF,OAAAC,OAAA,GAAM6hB,EAAiBC,IAAgB9V,OACrE,CAACiW,EAAWpb,KACX,GAA4B,IAAxBA,EAAI3E,QAAQsf,IAAiB3a,IAAQ2a,EAAQ,CAChD,MAAMX,EAxDb,SAA4B/a,GAC3B,SAAUA,EAAMqb,OAAO,GAAGe,gBAAgBpc,EAAM6H,MAAM,KAuD/BwU,CAAmBtb,EAAI3D,QAAQse,EAAQ,MAEtDM,EAAajb,IACdgb,EAAahb,IACbgb,EAAahb,GAAKub,SAElBH,EAAUpB,MAAekB,EAAUlB,MAAagB,EAC/Chb,GACCub,UAECN,EAAajb,KAChBob,EAAUpB,GAAYiB,EAAajb,IAGrC,OAAOob,GAER,IAID,OAFAF,EAAShiB,OAAAC,OAAA,GAAQ+hB,EAAcC,GAE3BZ,GAAmBlC,GACf,CACNA,MAAO,CACNA,MAAKnf,OAAAC,OAAA,GACDkf,EAAMA,MAAMA,MAAK,CACpBvd,CAAC8f,GAAUM,IAEZxC,SAAUL,EAAMA,MAAMK,UAEvBD,QAASJ,EAAMI,SAIjBvf,OAAAC,OAAA,GACIkf,EAAK,CACRvd,CAAC8f,GAAUM,IAIb,MAAMM,EAAmBtiB,OAAOE,KAAK8hB,GAAW/V,OAC/C,CAACkT,EAAOrY,KACP,GAvGoB,UAuGhBA,EACH,OAAOqY,EAER,MAAMoD,EAAuBR,EAAajb,IAAQib,EAAajb,GAAKub,OAMpE,OALIN,EAAajb,GAChBqY,EAAMrY,GAAOyb,EACHT,EAAahb,IAAQgb,EAAahb,GAAKub,SACjDlD,EAAMrY,MAAUqY,EAAMrY,MAAQgb,EAAahb,GAAKub,UAE1ClD,GAERnf,OAAAC,OAAA,GAAK+hB,IAGN,OAAIX,GAAmBlC,GACf,CACNA,MAAO,CACNA,MAAKnf,OAAAC,OAAA,GACDkf,EAAMA,MAAMA,MAAK,CACpBvd,CAAC8f,GAAUY,IAEZ9C,SAAUL,EAAMA,MAAMK,UAEvBD,QAASJ,EAAMI,SAIjBvf,OAAAC,OAAA,GACIkf,EAAK,CACRvd,CAAC8f,GAAUY,MAGVpB,KAIU,IAAAsB,GAAA,GC5FA,IAAAC,GAlCCrU,GAAO,CAAE+Q,MAAAqD,KACvBvY,aACAC,UAEoBwY,CAAQ,UAAgBxY,SAAEA,EAAQD,WAAEA,EAAYiE,YAAYiR,MAAEA,KACnF,MAAM3U,EAAU2U,EAAM3U,QAAQmY,KACxBC,OAAEA,GAAW3Y,KACb4Y,QAAEA,EAAOC,QAAEA,EAAOC,MAAEA,EAAKC,SAAEA,GAAa9Y,IAAW,GAEzD,OACCiB,GAAA,UAAQrE,IAAI,SAAS0D,QAAS,CAAC2U,EAAMI,UAAWqD,EAASpY,EAAQyY,YAASpe,IACzEsG,GAAA,OAAKX,QAAS,CAACA,EAAQwW,KAAM4B,GAAUpY,EAAQoY,QAAS9b,IAAI,QAC3DqE,GAAA,OAAKX,QAASA,EAAQ0Y,KACrB/X,GAAA,OAAKX,QAASA,EAAQ2Y,QAASrc,IAAI,WACjCgc,GAAW3X,GAAA,OAAKX,QAASA,EAAQsY,SAAUA,GAC5C3X,GAAA,OAAKX,QAASA,EAAQuY,MAAOjc,IAAI,SAC/Bic,GAASA,IAGZ5X,GAAA,OAAKX,QAASA,EAAQ4Y,UAAWtc,IAAI,aACpCqE,GAAA,OAAKX,QAASA,EAAQqY,QAAS/b,IAAI,WACjC+b,IACC1hB,MAAMuC,QAAQmf,GAAWA,EAAU,CAACA,IAAUlf,IAAKgB,GACnDwG,GAAA,OAAKX,QAASA,EAAQ7F,QAASA,KAGjCqe,GAAY7X,GAAA,OAAKX,QAASA,EAAQwY,UAAWA,mBC3CpD,MAAMK,GAAe,CACpBC,uBAAwB,CACvBtC,KAAM,CAACuC,GAAA,MACPR,MAAO,CAACQ,GAAA,SAMK,IAAAC,GAFCpV,IAED,CAAQ,WACtB,OAAOrE,GAAE0Y,GAAQ,CAACjY,QAAS6Y,IAAe,CACzC,CACCN,MAAO,yBfZI5hB,MAAMC,UAAUwM,MAA9B,MACM6V,GAAiBzjB,OAAOoB,UAAUsE,eA0BxC,SAASge,GAAqB3d,GAC7B,MAAiD,oBAA1C/F,OAAOoB,UAAU2D,SAASvB,KAAKuC,GAGvC,SAAS4d,GAAaC,EAAYC,GACjC,OAAOD,EAAMjgB,IAAI,SAASK,GACzB,OAAI7C,MAAMuC,QAAQM,GACV2f,GAAU3f,EAAM6f,GAGhBH,GAAqB1f,GAE1B8f,GAAO,CACPC,MAAM,EACNF,UAAWA,EACXG,QAAmB,CAAChgB,GACpBzD,OAAW,KALXyD,IAkBL,SAAS8f,GAAmCG,GAC3C,MAAMF,EAAOE,EAAOF,KACdF,EAAYI,EAAOJ,UACnBtjB,EAAc0jB,EAAO1jB,OACrB2jB,EAASD,EAAOC,QAAU,GAC1BC,EAAc,IAAID,GAExB,IAAK,IAAIlc,EAAI,EAAGA,EAAIic,EAAOD,QAAQpd,OAAQoB,IAAK,CAC/C,MAAMoc,EAASH,EAAOD,QAAQhc,GAE9B,GAAIoc,QAGJ,IAAK,IAAItd,KAAOsd,EACf,GAAIP,GAAaJ,GAAejgB,KAAK4gB,EAAQtd,GAAM,CAClD,IAAIf,EAAaqe,EAAOtd,GAExB,IAAoC,IAAhCqd,EAAYhiB,QAAQ4D,GACvB,SAGD,GAAIge,EACH,GAAI5iB,MAAMuC,QAAQqC,GACjBA,EAAQ4d,GAAU5d,EAAO8d,QACnB,GAAIH,GAAqB3d,GAAQ,CACvC,MAAMse,EAAmB9jB,EAAOuG,IAAQ,GACxCod,EAAOjiB,KAAKmiB,GACZre,EAAQ+d,GAAO,CACdC,MAAM,EACNF,UAAWA,EACXG,QAAS,CAACje,GACVxF,OAAQ8jB,EACRH,WAIH3jB,EAAOuG,GAAOf,GAKjB,OAAcxF,MgB5FH+jB,6JAAZ,SAAYA,GACXA,EAAA,sBACAA,EAAA,gBAFD,CAAYA,QAAa,KA2CV,IAAAC,GAjCT,cAA2B/hB,EAAjCZ,kCACSC,KAAA2iB,SAAW,IAAIpkB,EAEhBwB,IAAIkF,GACV,OAAOjF,KAAK2iB,SAASvhB,IAAI6D,GAGnBlF,IAAIkF,GACV,OAAOjF,KAAK2iB,SAASxhB,IAAI8D,GAGnBlF,IAAI6iB,EAAkB3d,GAC5BjF,KAAK2iB,SAASphB,IAAI0D,EAAK2d,GACvB5iB,KAAK6C,KAAK,CAAE9B,QAASkE,MAGflF,UACNC,KAAK6C,KAAK,CAAE9B,KAAM0hB,GAAcI,SAG1B9iB,OAAOkF,GACbjF,KAAK2iB,SAASld,OAAOR,GAGflF,eACNC,KAAK6C,KAAK,CAAE9B,KAAM0hB,GAAcK,YAG1B/iB,QACNC,KAAK2iB,SAASpV,UClBhB,MAAMwV,GAAe,IAAI1lB,EACnB2lB,GAAoB,IAAI3lB,EACxB4lB,GAAY1e,EAAK2e,KAAK,MAM5B,MAAMC,GAAmC,CAAC,YAAahlB,OAAOP,oBAAoBO,OAAOilB,eAAe,MAElGC,GAAgB,IAAI9kB,EA6CpB,MAAO+kB,GAoDZvjB,cAhCQC,KAAAujB,oBAAqB,EAUrBvjB,KAAAwjB,qBAAiC,GAOjCxjB,KAAAqF,UAA6B,IAAIF,EAQjCnF,KAAAyjB,aAA4B,IAAIf,GAEhC1iB,KAAAG,SAAqB,GAM5BH,KAAK0jB,UAAY,GACjB1jB,KAAK2jB,gBAAkB,IAAIplB,EAC3ByB,KAAK4jB,YAAc,GACnB5jB,KAAK6jB,iBAAmB7jB,KAAK8jB,OAAOZ,KAAKljB,MACzCA,KAAK+jB,iBAAmB/jB,KAAK4Z,WAAWsJ,KAAKljB,MAC7CA,KAAKS,IAAIT,KAAKqF,WACdrF,KAAKS,IAAIT,KAAKqF,UAAUiB,GAAG,aAActG,KAAK+jB,mBAE9CtX,GAAkBlL,IAAIvB,KAAM,CAC3B8Z,OAAO,EACP/C,SAAU,KACT/W,KAAK+W,YAENc,SAAU,KACT7X,KAAK6X,WACL7X,KAAKO,WAEN8W,YAAarX,KAAKyjB,aAClBxc,WAAW,EACX+c,gBAAiB,GACjB5d,SAAUpG,KAAKoG,WAGhBpG,KAAKS,IAAI,CACRF,QAAS,KACRkM,GAAkBhH,OAAOzF,MACzBA,KAAKyjB,aAAalW,QAClBvN,KAAKyjB,aAAaljB,aAIpBP,KAAKikB,wBAGIlkB,KAAyBmkB,QACZlhB,IAAlBhD,KAAKmkB,WACRnkB,KAAKmkB,SAAW,IAAI5lB,GAErB,IAAI6lB,EAASpkB,KAAKmkB,SAAS/iB,IAAI8iB,GAW/B,OAVKE,IACJA,EAAS,IAAIF,EAAS,CACrBtK,WAAY5Z,KAAK+jB,iBACjB1M,YAAarX,KAAKyjB,aAClBP,KAAMljB,OAEPA,KAAKS,IAAI2jB,GACTpkB,KAAKmkB,SAAS5iB,IAAI2iB,EAAUE,IAGtBA,EAGErkB,YAIAA,YAIVqI,iBACC,OAAOpI,KAAK4jB,YAGbS,0BACC,MAAO,IAAIrkB,KAAKwjB,sBAGVzjB,kBAAkByO,GACxB,MAAMkD,EAAejF,GAAkBrL,IAAIpB,MACvC0R,IACHA,EAAasS,gBAAkBxV,GAEhC,MAAMpG,EAAapI,KAAKskB,qBAAqB9V,GACvC+V,EAA8BvkB,KAAKwkB,aAAa,0BAChDH,EAAgC,GAChCrV,EAAgB7Q,OAAOE,KAAK+J,GAMlC,GAJIpI,KAAKujB,oBA9KX,SAAkBxY,GACjB,IAAIxL,EAAYwL,EAAS0Z,YAAYllB,UAEjClB,EAAiB,GAErB,GAAIglB,GAAcliB,IAAI5B,GACrBlB,EAAOglB,GAAcjiB,IAAI7B,OACnB,CACN,KAAOA,GAAW,CACjB,MAAMmlB,EAAUvmB,OAAOP,oBAAoB2B,GAC3C,GAAIA,EAAUklB,YAAY5gB,eAAe,SACxC,MAED,MAAM8gB,EAAcxmB,OAAOH,0BAA0BuB,GAE/CqlB,EADiBzmB,OAAOE,KAAKsmB,GACDE,OAAQ5f,GAAQ0f,EAAY1f,GAAK7D,KAAOujB,EAAY1f,GAAK1D,KACrFujB,EAAeJ,EAAQG,OAAQ5f,IAAqC,IAA7B2f,EAAWtkB,QAAQ2E,IAEhE5G,EAAO,IAAIA,KAASymB,GACpBvlB,EAAYpB,OAAOilB,eAAe7jB,GAGnClB,EAAOA,EAAKwmB,OAAQE,GAA6B,mBAAhBha,EAASga,KAAiD,IAA5B5B,GAAY7iB,QAAQykB,IAEnF1B,GAAc9hB,IAAIhC,EAAWlB,GAG9B,IAAK,IAAI8H,EAAI,EAAGA,EAAI9H,EAAK0G,OAAQoB,IAAK,CACrC,MAAMlB,EAAM5G,EAAK8H,GAEX6e,EAAYja,EAAS9F,GAAKie,KAAKnY,GACrC5M,OAAO8mB,eAAela,EAAU9F,EAAK,CACpCigB,cAAc,EACd9jB,IAAG,IACK4jB,KA6IRG,CAASnlB,OAGsB,IAA5BA,KAAKujB,oBAAuE,IAAvCgB,EAA4Bxf,OAAc,CAClF,MAAMqgB,EAAgB,IAAIpW,KAAkB7Q,OAAOE,KAAK2B,KAAK4jB,cACvDyB,EAAyC,GACzCC,EAA2B,GACjC,IAAIC,GAAe,EAEnB,IAAK,IAAIpf,EAAI,EAAGA,EAAIif,EAAcrgB,OAAQoB,IAAK,CAC9C,MAAM+H,EAAekX,EAAcjf,GACnC,IAAiD,IAA7Ckf,EAAkB/kB,QAAQ4N,GAC7B,SAEDmX,EAAkBjlB,KAAK8N,GACvB,MAAM9J,EAAmBpE,KAAK4jB,YAAY1V,GACpC7J,EAAc+D,EAAW8F,GAC/B,IAA2D,IAAvDqW,EAA4BjkB,QAAQ4N,GAAsB,CAC7DqX,GAAe,EACf,MAAMC,EAAgBxlB,KAAKwkB,6BAA6BtW,KACxD,IAAK,IAAI/H,EAAI,EAAGA,EAAIqf,EAAczgB,OAAQoB,IAAK,CAC9C,MAAM1B,EAAS+gB,EAAcrf,GAAG/B,EAAkBC,GAC9CI,EAAOH,UAA0D,IAA/C+f,EAAoB/jB,QAAQ4N,IACjDmW,EAAoBjkB,KAAK8N,GAEtBA,KAAgB9F,IACnBkd,EAAoBpX,GAAgBzJ,EAAOP,YAGvC,CACN,MAAMO,EAASwe,GAAU7e,EAAkBC,GACvCI,EAAOH,UAA0D,IAA/C+f,EAAoB/jB,QAAQ4N,IACjDmW,EAAoBjkB,KAAK8N,GAEtBA,KAAgB9F,IACnBkd,EAAoBpX,GAAgBzJ,EAAOP,QAK9C,GAAIqhB,EAAc,CACjB,MAAME,EAA8CzlB,KAAKwkB,aAAa,gBAChEkB,EAAgC,GACtCD,EAAkBjlB,QAAQ,EAAGmlB,WAAUzX,mBACtC,MAAM0X,GAAiE,IAA/CvB,EAAoB/jB,QAAQ4N,GAC9C2X,GAAuD,IAAzCH,EAAkBplB,QAAQqlB,GAC1CC,IAAoBC,IACvBF,EAAShkB,KAAK3B,KAAMA,KAAK4jB,YAAa0B,GACtCI,EAAkBtlB,KAAKulB,MAI1B3lB,KAAK4jB,YAAc0B,EACnBtlB,KAAKwjB,qBAAuBa,MACtB,CACN,IAAK,IAAIle,EAAI,EAAGA,EAAI6I,EAAcjK,OAAQoB,IAAK,CAC9C,MAAM+H,EAAec,EAAc7I,GACK,mBAA7BiC,EAAW8F,GACrB9F,EAAW8F,GAAgB9F,EAAW8F,GAEtCmW,EAAoBjkB,KAAK8N,GAG3BlO,KAAKwjB,qBAAuBa,EAC5BrkB,KAAK4jB,YAAWzlB,OAAAC,OAAA,GAAQgK,GAEzBpI,KAAKujB,oBAAqB,EAEtBvjB,KAAKwjB,qBAAqBze,OAAS,GACtC/E,KAAK4Z,aAIPvR,eACC,OAAOrI,KAAK0jB,UAGN3jB,gBAAgBsI,IAClBrI,KAAK0jB,UAAU3e,OAAS,GAAKsD,EAAStD,OAAS,KAClD/E,KAAK0jB,UAAYrb,EACjBrI,KAAK4Z,cAIA7Z,aACN,MAAM2R,EAAejF,GAAkBrL,IAAIpB,MACvC0R,IACHA,EAAaoI,OAAQ,GAEtB,MAAMgK,EAAS9jB,KAAK8lB,oBAEpB,OADc9lB,KAAK+lB,iBAAiBjC,KAI9B/jB,aACN,MAAM2R,EAAejF,GAAkBrL,IAAIpB,MACvC0R,GAAgBA,EAAakI,YAChClI,EAAakI,aAIL7Z,SACT,OAAOyI,GAAE,MAAO,GAAIxI,KAAKqI,UAShBtI,aAAaimB,EAAsB9hB,GAE5C,GADAA,EAAQ5E,MAAMuC,QAAQqC,GAASA,EAAQ,CAACA,GACpClE,KAAK6D,eAAe,eAAgB,CACvC,IAAIoiB,EAAgBlD,GAAa3hB,IAAIpB,KAAKykB,aACrCwB,IACJA,EAAgB,IAAI1nB,EACpBwkB,GAAaxhB,IAAIvB,KAAKykB,YAAawB,IAGpC,IAAIC,EAAwBD,EAAc7kB,IAAI4kB,GACzCE,IACJA,EAAwB,GACxBD,EAAc1kB,IAAIykB,EAAcE,IAEjCA,EAAsB9lB,QAAQ8D,OACxB,CACN,MAAMiiB,EAAanmB,KAAKwkB,aAAawB,GACrChmB,KAAK2jB,gBAAgBpiB,IAAIykB,EAAc,IAAIG,KAAejiB,KAWpDnE,oBAAoBimB,GAC3B,MAAMI,EAAgB,GAEtB,IAAI3B,EAAczkB,KAAKykB,YAEvB,KAAOA,GAAa,CACnB,MAAM4B,EAActD,GAAa3hB,IAAIqjB,GACrC,GAAI4B,EAAa,CAChB,MAAMF,EAAaE,EAAYjlB,IAAI4kB,GAE/BG,GACHC,EAAcE,WAAWH,GAI3B1B,EAActmB,OAAOilB,eAAeqB,GAGrC,MAAM8B,EAAkBvD,GAAkB5hB,IAAIpB,KAAKykB,cAAgB,IAAIlmB,EAGvE,OAFAgoB,EAAgBhlB,IAAIykB,EAAcI,GAClCpD,GAAkBzhB,IAAIvB,KAAKykB,YAAa8B,GACjCH,EASErmB,aAAaimB,GACtB,IAAIQ,EAAiBxD,GAAkB5hB,IAAIpB,KAAKykB,aAC5C2B,EACHpmB,KAAK2jB,gBAAgBviB,IAAI4kB,IAAkBQ,GAAkBA,EAAeplB,IAAI4kB,GAEjF,YAAsBhjB,IAAlBojB,EACIA,GAGRA,EAAgBpmB,KAAKymB,oBAAoBT,GAEzCI,EAAgB,IAAIA,GACpBpmB,KAAK2jB,gBAAgBpiB,IAAIykB,EAAcI,GAChCA,GAGRhgB,eACC,OAAOpG,KAAKqF,UAGLtF,qBAAqBqI,GAC5B,MAAMse,EAAuC1mB,KAAKwkB,aAAa,oBAC/D,OAAIkC,EAAiB3hB,OAAS,EACtB2hB,EAAiBtc,OACvB,CAAChC,EAAYue,IACZxoB,OAAAC,OAAA,GAAYgK,EAAeue,EAAyBhlB,KAAK3B,KAAMoI,IAC/DjK,OAAAC,OAAA,GACIgK,IAGAA,EAMArI,oBACP,MAAM6mB,EAAgB5mB,KAAKwkB,aAAa,gBAExC,OAAIoC,EAAc7hB,OAAS,EACnB6hB,EAAcxc,OAAO,CAAC0Z,EAAgB+C,KAC5C,MAAMC,EAAgBD,EAAqBllB,KAAK3B,KAAM8jB,EAAQ9jB,KAAK4jB,YAAa5jB,KAAK0jB,WACrF,OAAKoD,IACJC,QAAQC,KAAK,yEACNlD,IAGN9jB,KAAK6jB,kBAEF7jB,KAAK6jB,iBAQL9jB,iBAAiBknB,GACxB,MAAMC,EAAelnB,KAAKwkB,aAAa,eAcvC,OAZI0C,EAAaniB,OAAS,IACzBkiB,EAAQC,EAAa9c,OAAO,CAAC6c,EAAwBE,IAC7CA,EAAoBxlB,KAAK3B,KAAMinB,GACpCA,SAGkBjkB,IAAlBhD,KAAKmkB,UACRnkB,KAAKmkB,SAAS3jB,QAAS2M,KAna1B,SAAmBA,GAClB,OAAO/K,QAAQ+K,EAAKia,cAmajBC,CAAUla,IAASA,EAAKia,gBAInBH,EAGAlnB,wBACP,MAAMunB,EAAoBtnB,KAAKwkB,aAAa,oBAExC8C,EAAkBviB,OAAS,GAC9BuiB,EAAkB9mB,QAAS+mB,GAAqBA,EAAiB5lB,KAAK3B,OAI9DD,IAAIG,GACbF,KAAKG,SAASC,KAAKF,GAGVH,UACT,KAAOC,KAAKG,SAAS4E,OAAS,GAAG,CAChC,MAAM7E,EAASF,KAAKG,SAASuS,MACzBxS,GACHA,EAAOK,YApYH+iB,GAAAjhB,MAAQJ,EA0YD,IAAAulB,GAAA,GC3dR,SAASC,GAAgBC,GAC/B,OAAO,SAAShpB,EAAaipB,EAAsBC,GAC5B,mBAAXlpB,EACVgpB,EAAQhpB,EAAOa,eAAWyD,GAE1B0kB,EAAQhpB,EAAQipB,ICFZ,SAASE,GACf3Z,EACA4Z,EAAqCvjB,EACrCwjB,GAEA,OAAON,GAAgB,CAAC/oB,EAAQipB,KAC/BjpB,EAAOspB,6BAA6B9Z,IAAgB4Z,EAAa5E,KAAK,OACtExkB,EAAOspB,aAAa,yBAA0B9Z,IAC1C6Z,GAAoBJ,IACvBjpB,EAAOspB,aAAa,eAAgB,CACnC9Z,eACAyX,SAAUgC,EAAcjpB,EAAOipB,GAAeI,UCGtCE,omBAAZ,SAAYA,GACXA,EAAA,YACAA,EAAA,oBACAA,EAAA,gBACAA,EAAA,oBAJD,CAAYA,QAAa,KAiHlB,MAAMC,GAAmB,CAC/B,qBACA,kBACA,cACA,WACA,iBACA,YACA,mBA0BD,IAAYC,GAuHZ,SAASC,GAAwB7F,GAGhC,OpBpGM,SAAmB7jB,KAAgByjB,GACzC,OAAOF,GAAO,CACbC,MAAM,EACNF,WAAW,EACXG,QAASA,EACTzjB,OAAQA,IoB+FF2pB,CAFQlqB,OAAOoO,OAAOpO,OAAOilB,eAAeb,IAE1BA,GAG1B,SAAS+F,GAAiBznB,GACzB,MAAM0nB,EAAgB1nB,EAAM2nB,KAAOL,GAAc9G,IAAM8G,GAAcM,KAC/DpP,EAAsB,CAC3BtY,KAAMwnB,EACNlP,KAAM,IAmBP,OAjBIkP,IAAkBJ,GAAc9G,IACnCxgB,EAAM2nB,OACJnP,EAAKA,KAAOxY,EAAM2nB,KAAK1mB,IAAK4mB,IACrB,CACNvmB,KAAMumB,EAAQrP,SAIjBxY,EAAM8nB,QACJtP,EAAKA,KAAOxY,EAAM8nB,MAAM7mB,IAAK8mB,IACtB,CACNzmB,KAAMymB,EAASvH,IAAIhI,KACnBwP,MAAOD,EAASE,OAAOD,UAKpBxP,EA+CR,SAAS0P,IAAe1H,IAAEA,EAAGoH,KAAEA,EAAIO,WAAEA,IACpC,MAAO,CACN3H,MACAoH,OACAO,eAvMF,SAAYb,GACXA,EAAA,UACAA,EAAA,YAFD,CAAYA,QAAa,KAiUlB,MAAMc,WAA0B3F,GAG5BvjB,SACT,IAAImpB,EAAOlpB,KAAKmpB,MAOhB,OANKD,EAIJlpB,KAAKopB,4BAHLF,EAAOlpB,KAAKmpB,MAAQnpB,KAAKqpB,WACzBrpB,KAAKspB,sBbvCF,UACL7mB,KAAEA,EAAI8mB,MAAEA,EAAQ,GAAElf,MAAEA,EAAQ,GAAE/D,GAAEA,EAAK,GAAEuD,SAAEA,EAAW,OAAMkN,SAAEA,GAC5D1O,GAEA,MAAO,CACNX,IAAKM,GAAcvF,GAAQA,EAAKwF,QAAQqY,cAAgB,GACxDlY,WAAYiC,EACZP,WAAYyf,EACZvf,OAAQ1D,EACR+B,WACAtH,KAAM+F,EACN6C,QAASlH,EACToQ,KAAM7K,GAAcvF,QAAQO,EAAYP,EAAK4W,KAC7CxP,WACAkN,Ya6BOyS,CAAI,CAAE/mB,KAAMymB,EAAKvf,UAGf5J,WACT,MAAMmpB,EAAOlpB,KAAKmpB,MACZjpB,EAASgpB,EAAK5iB,GAAG,yBAA0B,KAChDpG,EAAO6a,SACP/a,KAAKypB,qBAENP,EAAKQ,UAGI3pB,WAETC,KAAKmpB,OAASnpB,KAAKmpB,MAAM5oB,UAGlBR,gBACPC,KAAKoI,WAAWuhB,YAAY,CAC3BC,YAAa5pB,KAAKmpB,MAAMU,eAIlB9pB,WAEP,OAAO,IArIT,SAA0BqI,EAAyC0hB,GAClE,MAAMC,WACLA,GAAa,EAAKC,SAClBA,GAAW,EAAKC,UAChBA,EAAqBC,SACrBA,GAAW,EAAKC,KAChBA,GAAO,EAAKC,YACZA,GAAc,EAAKC,cACnBA,GAAgB,EAAKC,cACrBA,GAAgB,EAAKC,gBACrBA,GAAkB,EAAKC,UACvBA,GAAY,GACTpiB,EAAWqiB,UAAY,GAE3B,IAAIC,EAAgB,GAChBC,EAAiB,GAgDrB,OA/CIZ,GACHW,EAAOtqB,KAAKwqB,IACZF,EAAOtqB,KAAKyqB,IAEZF,EAAUG,kBAAoB,SAASA,EAAkBC,GACxD/qB,KAAKgiB,UAAU8I,EAAmBE,WAClClB,MAGDY,EAAOtqB,KAAK6qB,IAGTd,GACHO,EAAOtqB,KAAK8qB,IAGTlB,GACHU,EAAOtqB,KAAK+qB,IAGTlB,IACHS,EAAOtqB,KAAK6pB,IAAc9B,GAAc9G,IAAM+J,GAAYC,IACtDnB,GACHQ,EAAOtqB,KAAKkrB,KAIVlB,GACHM,EAAOtqB,KAAKmrB,IAGTlB,GACHK,EAAOtqB,KAAKorB,IAGTlB,GACHI,EAAOtqB,KAAKqrB,IAGTlB,GACHG,EAAOtqB,KAAKsrB,IAGTlB,GACHE,EAAOtqB,KAAKurB,IAGNC,GAAQlB,EAAeC,GAqETkB,CAAiB7rB,KAAKoI,WAAYpI,KAAK8pB,cAAc5G,KAAKljB,OACvE,CAAgBA,KAAK8rB,iBAAiB9rB,KAAKoI,aAG3CrI,mBACP,MAAMgsB,UAAEA,GAAc/rB,KAAKoI,WAC3B,GAAI2jB,EAAW,CACd,MAAMnC,YAAEA,GAAgBmC,EACpBnC,GAAeA,EAAc,GAAK5pB,KAAKmpB,MAAM6C,UAChDhsB,KAAKmpB,MAAM6C,SAASpC,IAKf7pB,iBAAiBqI,GAExB,MAAMqiB,SAAEA,EAAQpR,KAAEA,GAA6BjR,EACzCS,EADkBojB,GAAA7jB,EAAA,qBAElBoiB,EAAYC,GAAYA,EAASD,UA3KzC,IAA4B0B,EA+L1B,OAnBY,MAAR7S,IACHxQ,EAAcsjB,WAtFjB,SAAyB/jB,EAA6BiR,EAAaoR,GAClE,MAAM2B,EAAc3B,GAAYA,EAASN,KACzC,IAAIO,EAAgB,CAAC2B,GAAaC,IAC9B3B,EAAiB,GAEjByB,IACH1B,EAAOtqB,KAAKmsB,IACZ5B,EAAU6B,kBAAoB,WAC7B,OAAOxsB,KAAKmf,KAAK0F,OAAQ1iB,GACF,MAAfA,EAAK4P,UAMf,IAAIoa,EAAa,IADHP,GAAQlB,EAAeC,GACpB,CAAU,CAC1BtR,SAKD,OAHI+S,IACHD,EAAaA,EAAWK,qBAElBL,EAiEsBM,CAAgB5jB,EAAewQ,EAAMrZ,KAAKoI,WAAWqiB,WAE7ED,GAC6B,MAA5B3hB,EAAc6jB,WACjB7jB,EAAc6jB,WAAiC7jB,EAAc6jB,WAnK9C5qB,IAAK6qB,GACfA,EAAQ7qB,IAAK8qB,GACZA,EAAO9qB,IAAKgnB,GAAWV,GAAUU,MAmKvCjgB,EAAc6jB,WAAa,UAErB7jB,EAAcgkB,UAEQ,MAAzBhkB,EAAcgkB,UACjBhkB,EAAcgkB,SAxLUX,EAwLmBrjB,EAAcgkB,QAvLxDvtB,MAAMuC,QAAQqqB,GACU,IAAvBA,EAAYnnB,OACR,GAEDmnB,EAAYpqB,IAAKgrB,GAChB1E,GAAU0E,IAGX1E,GAAU8D,YAiLTrjB,EAAc6jB,YAES,MAA3B7jB,EAAcohB,WAAqB,cAAephB,IACrDA,EAAcohB,UAAY,IAEpBphB,EAGA9I,2BAEP,MAAMqI,EAAkBpI,KAAKoI,WACvB2kB,EAAwB,GAC9B/sB,KAAKqkB,oBAAoB7jB,QAASyE,IACjC8nB,EAAiB9nB,GAAOmD,EAAWnD,KAEpCjF,KAAKmpB,OAASnpB,KAAKmpB,MAAM5nB,IAAIvB,KAAK8rB,iBAAiBiB,IAG5ChtB,qBACP,MAAMqI,EAAapI,KAAKoI,WAClB8gB,EAAOlpB,KAAKmpB,MAClB,GAAI/gB,EAAWqiB,SAAU,CACxB,MAAMR,UAAEA,EAASG,YAAEA,EAAWC,cAAEA,EAAaC,cAAEA,EAAaN,SAAEA,GAAa5hB,EAAWqiB,SAClFR,IACHf,EAAK5iB,GAAG,eAAiBzF,IACxB,MAAMmsB,EAAW5kB,EAAW4kB,SAC5BA,GAAYA,EAAS1E,GAAiBznB,GAAQqoB,EAAKe,aAEpDf,EAAK5iB,GAAG,iBAAmBzF,IAC1B,MAAMosB,EAAa7kB,EAAW6kB,WAC9BA,GAAcA,EAAW3E,GAAiBznB,GAAQqoB,EAAKe,cAGrDG,GACHlB,EAAK5iB,GAAG,0BAA4BzF,IACnC,MAAMqsB,EAAsB9kB,EAAW8kB,oBACvCA,GAAuBA,EAlR5B,UAAkCpE,QAAQD,MAAEA,EAAK9b,GAAEA,GAAIogB,OAAEA,IACxD,MAAO,CACNtE,QACA9b,KACAogB,UA8Q8CC,CAAuBvsB,MAGhEwpB,GACHnB,EAAK5iB,GAAG,sBAAwBzF,IAC/B,MAAMwsB,EAAkBjlB,EAAWilB,gBACnCA,GAAmBA,EAhRxB,UAA8BvE,QAAQD,MAAEA,EAAK9b,GAAEA,GAAI6f,OAAEA,IACpD,MAAO,CACN/D,QACA9b,KACA6f,UA4QsCU,CAAmBzsB,MAGpDypB,GACHpB,EAAK5iB,GAAG,qBAAuBzF,IAC9B,MAAM0sB,EAAiBnlB,EAAWmlB,eAClCA,GAAkBA,EA9QvB,UACCrE,MAAM2D,QAAEA,GAASW,MACjBA,EAAKxE,WACLA,EAAUyE,SACVA,IAEA,MAAM5E,MAAEA,EAAK9b,GAAEA,GAAO8f,EAAQY,GAC9B,MAAO,CACN5E,QACA9b,KACAygB,QACAxE,cAmQoC0E,CAAkB7sB,MAGjDmpB,IACHd,EAAK5iB,GAAG,oBAAsBzF,IAC7B,MAAM8sB,EAAgBvlB,EAAWulB,cACjCA,GAAiBA,EAAc5E,GAAeloB,MAG/CqoB,EAAK5iB,GAAG,qBAAuBzF,IAC9B,MAAM+sB,EAAiBxlB,EAAWwlB,eAClCA,GAAkBA,EAAe7E,GAAeloB,OAInD,MAAMgtB,OAAEA,EAAMC,QAAEA,GAAY1lB,EAExBylB,GACH3E,EAAK5iB,GAAG,aAAezF,IACtBgtB,EAlRJ,UAAmB7E,WAAEA,EAAU9S,KAAEA,IAChC,MAAO,CACN8S,aACA9S,QA+QS6X,CAAUltB,MAIfitB,GACH5E,EAAK5iB,GAAG,cAAgBzF,IACvBitB,EAjRJ,UAAoBxqB,MAAEA,IACrB,MAAO,CACNA,SA+QU0qB,CAAWntB,OASvB,IAAaotB,GAAb,cAAkC3K,GADlCvjB,kCAESC,KAAAiF,IAAM,EAGJlF,SACT,MAAMskB,EAAsBrkB,KAAKqkB,oBAKjC,GAAIA,EAAoB/jB,QAAQ,aAAe,EAC9CN,KAAKiF,UACC,CACuBof,EAAoBQ,OAAQ5f,GACjDijB,GAAiB5nB,QAAQ2E,IAAQ,GAEhBF,QACxB/E,KAAKiF,MAGP,OAAOiD,GAAE+gB,GAAiB9qB,OAAAC,OAAA,CACzB6G,mBAAoBjF,KAAKiF,OACtBjF,KAAKoI,WAAU,CAClB2jB,UAAW/rB,KAAKkuB,WAChBvE,YAAcoC,IACb/rB,KAAKkuB,WAAanC,QAzBTkC,GAAYE,GAAA,CADxBtG,GAAa,Uf7nBP,SAAqBuG,EAA4BC,GACvD,IAAI/pB,GAAU,EACd,MAAMgqB,EAAchvB,MAAMuC,QAAQusB,GAGlC,GAAIE,IAFgBhvB,MAAMuC,QAAQwsB,GAGjC,GAAIC,EAAa,CAChB,MAAMC,EAAkBH,EAClBI,EAAiBH,EACnBE,EAAgBxpB,SAAWypB,EAAezpB,SAC7CT,EAAUiqB,EAAgBvpB,KAAK,CAACypB,EAAmBtoB,IAC3C5B,EAAKkqB,EAAmBD,EAAeroB,IAAI7B,eAIpDA,EAAUC,EAAK6pB,EAAgBC,GAAe/pB,QAIhD,MAAO,CACNA,UACAJ,MAAOmqB,MeymBIJ,IC1mBE,IAAAS,GAtBf,MAGI3uB,UACI,IAAI4uB,EAAK7gB,SAAS4L,cAAc,OAEhC,OADAiV,EAAG/iB,aAAa,MAAO5L,KAAK4uB,cACrBD,EAGX5uB,eACI,OAAOC,KAAK6uB,UAGhB9uB,MACI,OAAOC,KAAK8uB,eAGhB/uB,KACI,OAAOyI,GAAE,MAAO,CAACumB,IAAK/uB,KAAK4uB,iBCpBnC,IAAII,GAAgBC,EAAQ,KASb,IAAAC,GAAA,IALf,cAA2BR,GAA3B3uB,kCACIC,KAAA4uB,aAAeI,KCLnB,IAAIG,GAAeF,EAAQ,KAcZ,IAAAG,GAAA,IAXf,cAA2BV,GAA3B3uB,kCACIC,KAAA4uB,aAAeO,GACfpvB,YACI,IAAI4uB,EAAK3uB,KAAK6uB,UAGd,OAFAF,EAAG/iB,aAAa,QAAS,QACzB+iB,EAAG/iB,aAAa,SAAU,QACnB+iB,ICTf,IAAIU,GAAeJ,EAAQ,KAaZ,IAAAK,GAAA,IAVf,cAA2BZ,GAA3B3uB,kCACIC,KAAA4uB,aAAeS,GACftvB,YACI,IAAI4uB,EAAK3uB,KAAK6uB,UAGd,OAFAF,EAAG/iB,aAAa,QAAS,QACzB+iB,EAAG/iB,aAAa,SAAU,QACnB+iB,aCEf,MAIaY,GAFGhjB,GAAO,CAAEyR,OAFVtB,KAEkBuB,aAAAhQ,GAAcxL,KAAAkL,GAAMpN,QAAAkO,GAAShL,YAAA+J,KAAepF,YAExDonB,CAAQ,EAAGnjB,YAAc2R,SAAQC,eAAcxb,OAAMlC,UAASkD,mBAClF,IACIgsB,EADAC,GAAc,EAEdC,EAAW,EACf,MAAMC,EAAU,IAAInyB,IAQpB,SAASoyB,IACR,MAAMC,EAAgBxyB,EAAA,QAAOwQ,SAASgiB,eACjCF,EAAQzuB,IAAIsuB,IAAoBG,EAAQzuB,IAAI2uB,KAAmBL,IAAmBK,GACtFrsB,IAEDgsB,EAAiBK,EAOlB,OAnBA7R,EAAa,QAAS,CAAC8R,EAAoB1c,KAE1C,GADeA,EAAK2c,OAAS3c,EAAK2c,QACtB,CACX,MAAMpmB,EAAUoU,EAAOvB,SAAS,UAAW,GAC3CuB,EAAOzc,IAAI,UAAWqI,EAAU,MAUlCrJ,EAAQ,KACPjD,EAAA,QAAOwQ,SAASiD,oBAAoB,UAAW8e,GAC/CvyB,EAAA,QAAOwQ,SAASiD,oBAAoB,WAAY8e,GAChDD,EAAQriB,UAEF,CACNxN,cACC,MAAM6J,EAAUoU,EAAO5c,IAAI,YAAc,EACnC6uB,EAAcrmB,IAAY+lB,EAEhC,OADAA,EAAW/lB,EACJqmB,GAERlwB,QACC,MAAM6J,EAAUoU,EAAOvB,SAAS,UAAW,GAC3CuB,EAAOzc,IAAI,UAAWqI,EAAU,IAEjC7J,UAAUkF,GACT,MAAM0E,EAAUlH,EAAKrB,IAAI6D,GACzB,QAAK0E,IAGLimB,EAAQ5hB,IAAIrE,GACP+lB,IACJpyB,EAAA,QAAOwQ,SAASmD,iBAAiB,UAAW4e,GAC5CvyB,EAAA,QAAOwQ,SAASmD,iBAAiB,WAAY4e,GAC7CH,GAAc,GAERpyB,EAAA,QAAOwQ,SAASgiB,gBAAkBnmB,OAK7B,IzB3DHumB,GyB2DGC,GAAA,GzB5CR,SAASC,GAAqBC,GAKpC,OAJsBlyB,OAAOE,KAAKgyB,GAAMjmB,OAAO,CAAC+L,EAAuBlR,KACtEkR,UAAUlR,EAAIqb,iBAAmB+P,EAAKprB,GAC/BkR,GACL,KAnBJ,SAAY+Z,GACXA,IAAA,gBACAA,IAAA,cACAA,IAAA,kBACAA,IAAA,oBACAA,IAAA,gBACAA,IAAA,gBACAA,IAAA,wBACAA,IAAA,oBACAA,IAAA,kBACAA,IAAA,kBACAA,IAAA,aACAA,IAAA,YAZD,CAAYA,QAAI,mBc+FD,IAAAI,GA9DC/jB,GAAO,CAAEyjB,MAAAT,GAAOjS,MAAAmC,KAASrX,YAEnBmoB,CAAQ,UAAgBloB,SAC7CA,EAAQ0E,GACRA,EACAV,YAAY2jB,MAAEA,EAAK1S,MAAEA,GAAOlV,WAC5BA,IAEA,MAAMioB,KACLA,EAAO,GAAEG,SACTA,EAAQ/iB,SACRA,EAAQhE,KACRA,EAAIgnB,QACJA,EAAO1vB,KACPA,EAAO,SAAQmD,MACfA,EAAKwsB,QACLA,EAAOC,MACPA,EAAKC,OACLA,EAAMC,OACNA,EAAMC,KACNA,EAAIC,OACJA,EAAMC,QACNA,EAAO9P,MACPA,GACG9Y,IAEE6oB,EAAW3T,EAAM3U,QAAQuoB,IACzBC,EAAS1jB,aAAsBV,IAErC,OACCzD,GAAA,SAAAnL,OAAAC,OAAA,CACCuK,QAAS,CACR2U,EAAMI,UACNuT,EAAS9R,KACTqR,EAAWS,EAAST,SAAW,KAC/BC,EAAUQ,EAASR,QAAU,MAE9BvP,MAAOA,EACPsP,SAAUA,EACVzjB,GAAIokB,EACJnB,MAAOA,EAAMC,cACbxmB,KAAMA,EACN1I,KAAMA,EACNmD,MAAOA,EACPktB,OAAQ,IAAML,GAAUA,IACxBM,QAAUxwB,IACTA,EAAMywB,kBACNZ,GAAWA,KAEZa,QAAS,IAAMP,GAAWA,IAC1BQ,eAAgB,IAAMZ,GAAUA,IAChCa,eAAgB,IAAMd,GAASA,IAC/Be,cAAe,IAAMb,GAAUA,IAC/Bc,YAAa,IAAMb,GAAQA,KACvBV,GAAqBC,GAAK,CAAAuB,eACG,kBAAZnB,EAAwBA,EAAQvtB,WAAa,OAElEoG,GAAA,QAAMX,QAASsoB,EAASluB,OAAQsF,QYjGnC,IAAIwpB,GAAe5C,EAAQ,KAUZ,IAAA6C,GAAA,IAPf,cAA2BpD,GAA3B3uB,kCACIC,KAAA4uB,aAAeiD,KCJnB,IAAIE,GAAe9C,EAAQ,KAQZ,IAAA+C,GAAA,IALf,cAA2BtD,GAA3B3uB,kCACIC,KAAA4uB,aAAemD,KCJnB,IAAIE,GAAehD,EAAQ,KAQZ,IAAAiD,GAAA,IALf,cAA2BxD,GAA3B3uB,kCACIC,KAAA4uB,aAAeqD,8RC8Tb,SAAUE,GAAcC,EAA2BjwB,EAAWpB,EAAe,YAClF,MAAMsxB,EAAYl0B,OAAOE,KAAK+zB,GAC9B,IAAK,IAAIjsB,EAAI,EAAGA,EAAIksB,EAAUttB,OAAQoB,IAAK,CAC1C,MAAMmsB,EAAWD,EAAUlsB,GACrBjC,EAAQkuB,EAAMC,EAAUlsB,IAC9B,GAAIjC,EAAO,CAEV,IAAIO,GAAS,EAUb,KAPEA,EAFuB,iBAFPtC,EAAKmwB,IAE+B,iBAAVpuB,GAA+B,UAATnD,EACpD,aAATA,GACqE,IAA/DoB,EAAKmwB,GAAUhS,cAAchgB,QAAQ4D,EAAMoc,eAEmB,IAA9Dne,EAAKmwB,GAAUhS,cAAchgB,QAAQ4D,EAAMoc,eAG5Cpc,IAAU/B,EAAKmwB,IAGxB,OAAO,GAIV,OAAO,EAyBoEn0B,OAAOo0B,OAAO,CACzFC,KAAM,EAAGnZ,SAAUoZ,UAClBA,EAAI,CAAEpZ,OAAM0R,MAAO1R,EAAKtU,QAAU,CAAE2tB,OAAQ,EAAGplB,KAAM,GAAI8kB,MAAO,MAEjEO,KAAM,CAACC,GAAWxxB,MAAKqxB,UACtB,MAAMpZ,KAAEA,GAASjY,KACXsxB,OAAEA,EAAMplB,KAAEA,GAASslB,EACnBC,EAAe10B,OAAOE,KAAKu0B,EAAQR,OAAOrtB,OAC7CsU,EAAKwL,OAAQ1iB,GAASA,GAAQgwB,GAAcS,EAAQR,MAAOjwB,EAAM,aACjEkX,EACHoZ,EAAI,CAAEpZ,KAAMwZ,EAAa9mB,MAAM2mB,EAAQA,EAASplB,GAAOyd,MAAO8H,EAAa9tB,QAAU6tB,IAEtFpzB,KAAM,CAACozB,GAAWxxB,MAAKqxB,UACtB,MAAM1xB,KAAEA,EAAI+xB,QAAEA,GAAYF,GACpBR,MAAEA,GAAUU,EAClB,IAIIC,GAJA1Z,KAAEA,GAASjY,EAAI,CAAEgxB,UAChB/Y,EAAKtU,SACTsU,EAAOjY,IAAMiY,KAAKwL,OAAQ1iB,GAASgwB,GAAcC,EAAOjwB,KAGzD,IAAK,IAAIgE,EAAI,EAAGA,EAAIkT,EAAKtU,OAAQoB,IAAK,CACrC,MAAMhE,EAAOkX,EAAKlT,GAClB,GAAIhE,GAAQgwB,GAAcS,EAAQR,MAAOjwB,EAAMpB,MACzCgyB,GAAS5sB,GAAKysB,EAAQznB,SAC1B4nB,EAAQ,CACP5wB,OACA8a,MAAO9W,GAEJA,GAAKysB,EAAQznB,OAChB,MAKJsnB,EAAIM,EAAOH,MAIb,SAASI,IAAWZ,MAAEA,EAAK9kB,KAAEA,IAC5B,cAAeA,WAAc2lB,KAAKC,UAAUd,KAG7C,SAASe,GAAWC,GACnB,MAAMrqB,EAAAsqB,GAAAD,IAAAN,QAAEA,GAAO/pB,EAAEvJ,EAAA8zB,GAAAvqB,EAAA,aACjB,cAAe+pB,EAAQxlB,cAAc2lB,KAAKC,UAAUJ,EAAQV,eAAea,KAAKC,UAAU1zB,KAG3F,SAAS+zB,IAAWC,KAAEA,EAAIlmB,KAAEA,EAAI8kB,MAAEA,IACjC,cAAea,KAAKC,UAAUM,WAAclmB,WAAc2lB,KAAKC,UAAUd,KAG1E,SAASqB,IAAWrB,MAAEA,EAAQ,IAA0E,IACvG,SAAUa,KAAKC,UAAUd,KAG1B,SAASiB,GAAeD,GACvB,MAAMryB,KAAEA,EAAO,WAAUoK,MAAEA,EAAKinB,MAAEA,EAAKU,QAAEA,GAAYM,EACrD,MAAO,CAAEryB,OAAMoK,QAAOinB,QAAOU,WAG9B,SAASY,GAAcZ,GACtB,OAAO1wB,QAAQ0wB,KAAaA,EAAQA,SAGrC,SAASa,GAAcb,GACtB,OAAOY,GAAcZ,GAGtB,SAASc,GAAed,GACvB,OAAO1wB,QAAQ0wB,KAAaA,EAAQ3wB,MAGrC,SAAS0xB,GAAc1xB,EAAW2xB,GACjC,IAAIC,EAAuB,GACvBC,EAAuB,GAiB3B,OAhBA71B,OAAOE,KAAKy1B,GAAiBtzB,QAASyE,IACrC,MAAMgvB,EAAYH,EAAgB7uB,GAClC8uB,EAAe51B,OAAAC,OAAA,GACX21B,EAAe,CAClBh0B,CAACkF,GAAM9C,EAAK8xB,KAEbD,EAAW5zB,KAAK6zB,KAEjB91B,OAAOE,KAAK8D,GACV0iB,OAAQ5f,IAAqC,IAA7B+uB,EAAW1zB,QAAQ2E,IACnCzE,QAASyE,IACT8uB,EAAe51B,OAAAC,OAAA,GACX21B,EAAe,CAClBh0B,CAACkF,GAAM9C,EAAK8C,OAGR8uB,EAGR,SAASG,GAAe9B,EAA2B0B,GAClD,MAAMzB,EAAYl0B,OAAOE,KAAK+zB,GAC9B,IAAI+B,EAAuC,GAC3C,IAAK,IAAIhuB,EAAI,EAAGA,EAAIksB,EAAUttB,OAAQoB,IAAK,CAC1C,MAAMmsB,EAAWD,EAAUlsB,GAC3BguB,EAAiBL,EAAgBxB,IAAaA,GAAYF,EAAME,GAEjE,OAAO6B,EAGR,SAASC,GACRtB,EACAgB,GAEA,GAAIA,EAAiB,CACpB,GAAIJ,GAAcZ,IAAYA,EAAQA,QAAQV,MAAO,CACpD,MAAMA,EAAQ8B,GAAepB,EAAQA,QAAQV,MAAO0B,GACpDhB,EAAQA,QAAO30B,OAAAC,OAAA,GAAQ00B,EAAQA,QAAO,CAAEV,UAEzC,GAAIU,EAAQV,OAAS0B,EAAiB,CACrC,MAAM1B,EAAQ8B,GAAepB,EAAQV,MAAO0B,GAC5C,OAAA31B,OAAAC,OAAA,GAAY00B,EAAO,CAAEV,WAGvB,OAAAj0B,OAAAC,OAAA,GAAY00B,GAGb,SAASuB,GAAmBnwB,GAC3B,OAAO9B,QAAQ8B,GAASA,EAAMsuB,MAG/B,SAAS8B,GAAgB1qB,EAAcyJ,GAEtC,MAAO,IADM,IAAI7V,EAAI,IAAIW,OAAOE,KAAKuL,MAAazL,OAAOE,KAAKgV,MAC7CrO,KAAMuvB,GAAYhwB,EAAKqF,EAAQ2qB,GAAUlhB,EAAKkhB,GAAU,GAAGjwB,SAG7E,SAASkwB,GACRC,EACAC,GAEA,MAAMC,EAAU,IAAIp2B,EACdq2B,EAAU,IAAIr2B,EACds2B,EAAY,IAAIt2B,EAChBu2B,EAAU,IAAIv2B,EACdw2B,EAAiB,IAAIx2B,EACrBy2B,EAAmC,CACxCrC,KAAM,IAAIp0B,EACViB,KAAM,IAAIjB,EACV4O,KAAM,IAAI5O,EACV02B,OAAQ,IAAI12B,EACZ22B,QAAS,IAAI32B,IAERo0B,KAAEA,EAAInzB,KAAEA,GAASi1B,EAEvB,SAASrzB,EAAIwxB,EAA2C,IACvD,MAAMuC,EAAU1B,GAAWb,GACrBvZ,EAAOsb,EAAQvzB,IAAI+zB,IAAY,GACrC,MAAO,CAAE9b,OAAM0R,MAAO1R,EAAKtU,QAK5B,SAAS0tB,EACR2C,EACAxC,IAEIe,GAAcf,KAAagB,GAAewB,IAAcA,EAEhDzB,GAAcf,IAAagB,GAAewB,KAAaA,GAkIpE,SAAiBA,EAAmCxC,GACnD,MAAMvZ,KAAEA,EAAI0R,MAAEA,GAAUqK,GAClB9nB,KAAEA,EAAIolB,OAAEA,EAAMN,MAAEA,GAAUQ,EAC1BuC,EAAU1B,GAAWb,GACrByC,EAAaV,EAAQvzB,IAAI+zB,IAAY,GACrCG,EAAUvK,GAAgB2H,EAASrZ,EAAKtU,OAC9C,IAAK,IAAIoB,EAAIusB,EAAQvsB,EAAImvB,QACCtyB,IAArBqW,EAAKlT,EAAIusB,GADoBvsB,GAAK,EAItCkvB,EAAWlvB,GAAKkT,EAAKlT,EAAIusB,GAE1B6C,EAAYJ,GACZR,EAAQpzB,IAAI4zB,EAASE,GACrB,MAAM7B,EAAOgC,KAAKC,MAAM/C,EAASplB,GAAQ,EACzCooB,EAAQ,CAAEpoB,OAAM8kB,QAAOoB,QAAQzI,GAC/BnR,EAAW,OAAQ2Z,GAAW,CAAEjmB,OAAM8kB,QAAOoB,UACtC6B,EAAWtpB,MAAM2mB,EAAQA,EAASplB,GAAMuX,OAAO,KAAM,GAlJ3D8Q,CAAQP,EAAUxC,GAqJpB,SAAiBwC,EAA+CxC,GAC/D,MAAME,QAAEA,GAAYF,GACdtlB,KAAEA,GAASwlB,EACX7tB,EAAMkuB,GAAWP,GAClBwC,EAGJN,EAAQvzB,IAAI0D,EAAG9G,OAAAC,OAAA,GACXg3B,EAAQ,CACX5B,KAAMgC,KAAKC,MAAML,EAASnY,MAAQ3P,GAAQ,EAC1CsoB,UAAWR,EAASnY,MAAQ3P,KAL7BwnB,EAAQvzB,IAAI0D,EAAKmwB,GAQlBG,EAAYtwB,GACZ2U,EAAW,OAAQuZ,GAAWP,IArK7BiD,CAAQT,EAAUxC,GAUpB,SAAShZ,EAAW7Y,EAAwBkE,GAC3C,MACM6wB,EADsBd,EAAgBj0B,GACDK,IAAI6D,GAC3C6wB,GACH,IAAIA,GAAgBt1B,QAASiD,IAC5BA,MAgBH,SAASib,EAAU3d,EAAwB0C,EAA0BwB,GACpE,MAAM8wB,EAAsBf,EAAgBj0B,GACtC+0B,EAAiBC,EAAoB30B,IAAI6D,IAAQ,IAAIzH,EAC3Ds4B,EAAe9nB,IAAIvK,GACnBsyB,EAAoBx0B,IAAI0D,EAAK6wB,GAiD9B,SAASE,IACRrB,EAAQpnB,QACRqnB,EAAQrnB,QACRsnB,EAAUtnB,QACVwnB,EAAexnB,QAGhB,SAAS0oB,EAASC,EAAwBjxB,GACzC,MAAMuX,EAASqY,EAAUzzB,IAAI6D,GAC7B,QAAIuX,GACIA,IAAW0Z,EAKpB,SAASC,EAAU3Z,EAAoBvX,GACtC4vB,EAAUtzB,IAAI0D,EAAKuX,GAGpB,SAAS+Y,EAAYtwB,GACpB4vB,EAAUpvB,OAAOR,GAGlB,SAASmxB,EAAUtD,GAElB,OAAOmD,EAAS,UADJvC,GAAcZ,GAAWK,GAAWL,GAAWS,GAAWT,IAIvE,SAASuD,EAASvD,GAEjB,OAAOmD,EAAS,SADJvC,GAAcZ,GAAWK,GAAWL,GAAWS,GAAWT,IAIvE,SAAS4C,EAAQ5C,EAA6B/H,GAC7C,MAAMuL,EAAUtD,GAAWF,GAC3B,IAAI3lB,EAAOynB,EAAQxzB,IAAIk1B,GAClBnpB,IAGCA,EAAK4d,OAASA,EAAQ5d,EAAK4d,SAC/B5d,EAAK4d,MAAQA,GAHd5d,EAAIhP,OAAAC,OAAA,GAAQ00B,EAAO,CAAE/H,UAMtBnR,EAAW,OAAQoZ,GAAWF,IAC9B8B,EAAQrzB,IAAI+0B,EAAOn4B,OAAAC,OAAA,GAAO+O,IAwC3B,SAASopB,EAAkBzD,GAC1B,MAAMxlB,KAAEA,EAAIkmB,KAAEA,GAASV,EACjBwD,EAAUtD,GAAWF,GACrBqC,EAAU1B,GAAWX,GACrB0D,EAAiBzB,EAAe3zB,IAAIk1B,IAAY,GAChDjB,EAAaV,EAAQvzB,IAAI+zB,GAC/B,GAAIE,EAAY,CACf,MAAM3C,GAAUc,EAAO,GAAKlmB,EACtBmpB,EAAsBpB,EAAWtpB,MAAM2mB,EAAQA,EAASplB,GAAMuX,OAAO,KAAM,GAEjF,GADA6Q,EAAQ5C,EAASuC,EAAWtwB,QACxB0xB,EAAoB1xB,SAAWuI,IAA0C,IAAlCkpB,EAAel2B,QAAQkzB,GACjE,OAAOiD,GAKV,SAASC,EAAU5D,GAClB,MAAM6D,EAAQr3B,MAAMuC,QAAQixB,EAAQU,MAAQV,EAAQU,KAAO,CAACV,EAAQU,OAC9DlmB,KAAEA,EAAI8kB,MAAEA,GAAUU,EAClB8D,EAAyC,GACzCC,EAAatD,GAAWT,GACxBgE,EAA2B,GAEjC,IAAK,IAAI3wB,EAAI,EAAGA,EAAIwwB,EAAM5xB,OAAQoB,IAAK,CACtC,MAAMqtB,EAAOmD,EAAMxwB,GACbusB,GAAUc,EAAO,GAAKlmB,EACtBypB,EAAYxD,GAAW,CAAEC,OAAMlmB,OAAM8kB,UACrCkE,EAAUtD,GAAW,CAAE1lB,OAAM8kB,QAAOoB,SACpCgD,EAAiBzB,EAAe3zB,IAAIk1B,IAAY,GACtD,GAAIF,EAAU,CAAE5C,OAAMlmB,OAAM8kB,WAAYiE,EAAS,CAAE7C,OAAMlmB,OAAM8kB,UAAU,CACxEwE,EAAkBx2B,UAAK4C,GACvB,SAGD,MAAMqyB,EAAakB,EAAkB,CAAEjpB,OAAM8kB,QAAOoB,SACpD,GAAI6B,EAAY,CACfuB,EAAkBx2B,KAAKi1B,GACvB,SAGDmB,EAAep2B,KAAKozB,GACpBuB,EAAexzB,IAAI+0B,EAASE,GAC5B,MAAMpB,EAAWzC,EAChB,CAAED,SAAQplB,OAAM8kB,SAChB,CACChxB,MACAqxB,QAIEt0B,OAAAuB,EAAA,WAAAvB,CAAiBi3B,IACpB0B,EAAS12B,KAAKg1B,GACdwB,EAAkBx2B,UAAK4C,GACvBmzB,EAAU,UAAWY,GACrBnd,EAAW,UAAW2Z,GAAW,CAAEjmB,OAAMkmB,OAAMpB,WAC/CgD,EACEjyB,KAAK,KACLoyB,EAAYwB,GACZnd,EAAW,OAAQ2Z,GAAW,CAAEjmB,OAAMkmB,OAAMpB,WAC5CxY,EAAW,UAAW2Z,GAAW,CAAEjmB,OAAMkmB,OAAMpB,aAE/C4E,MAAM,KACNb,EAAU,SAAUY,GACpBnd,EAAW,UAAW2Z,GAAW,CAAEjmB,OAAMkmB,OAAMpB,WAC/CxY,EAAW,SAAU2Z,GAAW,CAAEjmB,OAAMkmB,OAAMpB,cAGhDwE,EAAkBx2B,KAAKm2B,EAAkB,CAAEjpB,OAAM8kB,QAAOoB,UAiB1D,OAdIsD,EAAS/xB,SACZoxB,EAAU,UAAWU,GACrBI,QAAQC,IAAIJ,GACV3zB,KAAK,KACLoyB,EAAYsB,GACZjd,EAAW,OAAQ2Z,GAAWT,IAC9BlZ,EAAW,UAAW2Z,GAAWT,MAEjCkE,MAAM,KACNb,EAAU,SAAUU,GACpBjd,EAAW,UAAW2Z,GAAWT,IACjClZ,EAAW,SAAU2Z,GAAWT,OAG5B8D,EAkER,OAxTIvC,GAAmBI,IACtBA,EAASjC,KAAKkC,EAAa,CAAEjC,MAAKrxB,QAuT5B,CACN5B,KAhED,SAAsBszB,GACrB,MAAM7tB,EAAMkuB,GAAWE,GAAeP,IACtC,GAAImD,EAAS,UAAWhxB,IAAQgxB,EAAS,SAAUhxB,GAClD,OAGD,GAAI6vB,EAAQ3zB,IAAI8D,GACf,OAAO6vB,EAAQ1zB,IAAI6D,GAGpB,MAAMmwB,EAAW51B,EAAK6zB,GAAeP,GAAU,CAAEL,MAAKrxB,QACtD,OAAIjD,OAAAuB,EAAA,WAAAvB,CAAWi3B,IACde,EAAU,UAAWlxB,GACrB2U,EAAW,UAAWuZ,GAAWL,SACjCsC,EAASjyB,KAAK,KACboyB,EAAYtwB,GACZ2U,EAAW,OAAQuZ,GAAWL,IAC9BlZ,EAAW,UAAWuZ,GAAWL,OAI3BgC,EAAQ1zB,IAAI6D,IA4CpByxB,YACAlE,KAzCD,SAAsBM,EAAYqE,GAAc,GAC/C,GAAI9C,GAAmBI,GAAW,CACjC,IAAI2C,GAAQ,EACRD,IACHC,EAAQ9C,GAAgBI,EAAa5B,IAElCsE,IACHpB,IACAvB,EAASjC,KAAKM,EAAS,CAAEL,MAAKrxB,QA3QhCjD,OAAOE,KAAK22B,GAAiBx0B,QAASyE,IACzB+vB,EAAgB/vB,GACxBzE,QAASs1B,IACZA,EAAet1B,QAASiD,IACvBA,gBA2QFuyB,IAEDtB,EAAc5B,GA4Bd3lB,KAzBD,SAAc2lB,EAA6BF,GAAU,GAIpD,OAHIA,GACH8D,EAAU5D,GAEJ8B,EAAQxzB,IAAI4xB,GAAWF,KAsB9BuE,cAzRD,SAAuB5zB,EAA0BqvB,GAChDpU,EAAU,OAAQjb,EAAa8vB,GAAWT,KAyR1CwE,cA9RD,SAAuB7zB,EAA0BqvB,GAChDpU,EAAU,OAAQjb,EAAa8vB,GAAWT,KA8R1CyE,cAvRD,SAAuB9zB,EAA0BqvB,GAChDpU,EAAU,OAAQjb,EAAa0vB,GAAWL,KAuR1C0E,gBA5QD,SAAyB/zB,EAA0BqvB,GAC9CY,GAAcZ,GACjBpU,EAAU,SAAUjb,EAAa0vB,GAAWL,IAE5CpU,EAAU,SAAUjb,EAAa8vB,GAAWT,KAyQ7C2E,iBArRD,SAA0Bh0B,EAA0BqvB,GAC/CY,GAAcZ,GACjBpU,EAAU,UAAWjb,EAAa0vB,GAAWL,IAE7CpU,EAAU,UAAWjb,EAAa8vB,GAAWT,KAkR9C4E,YAtQD,SAAqBj0B,GACpBtF,OAAOE,KAAK22B,GAAiBx0B,QAASO,IACrC,MAAMg1B,EAAsBf,EAAgBj0B,GAE5C,IADag1B,EAAoB13B,QACvBmC,QAASyE,IAClB,MAAM6wB,EAAiBC,EAAoB30B,IAAI6D,GAC3C6wB,GAAkBA,EAAe30B,IAAIsC,KACxCqyB,EAAerwB,OAAOhC,GACM,IAAxBqyB,EAAexoB,KAClByoB,EAAoBtwB,OAAOR,GAE3B8wB,EAAoBx0B,IAAI0D,EAAK6wB,SA4PjCM,YACAC,WACA91B,QA3BD,SAAiBwM,GAKhB,GAJAipB,IACA73B,OAAOE,KAAK22B,GAAiBx0B,QAASyE,IACrC+vB,EAAgB/vB,GAAyBsI,UAEtCmnB,EAAa,CAChB,MAAMiD,EAAcC,GAAsBx2B,IAAIqzB,GAC1CkD,GACHA,EAAYlyB,UAAUsH,KAAM2nB,EAAY3nB,MAG1C6qB,GAAsBx2B,IAAIqzB,KAoB5B,MAAMoD,GAAuB,IAAIt5B,EAC3Bq5B,GAAwB,IAAIr5B,EAC5Bu5B,GAAkB,IAAIv5B,EAE5B,SAASw5B,KACR,IAAIjF,EAAgC,CACnCU,KAAM,EACNlmB,KAAM,GACN8kB,MAAO,IAUR,SAAS4F,EAAWC,GACnB,GAAIA,EAAY,CACf,MAAMC,EAAiB/5B,OAAAC,OAAA,GAAQ00B,EAAYmF,IACrC3zB,QAAEA,GAAYC,EAAKuuB,EAASoF,EAAmB,GACjD5zB,IACHwuB,EAAUoF,EAVZ,IADuBL,GAAqBz2B,IAAI42B,IAAe,IAC3Cx3B,QAASiD,IAC5BA,OAaD,OAAOqvB,EAGR,OADAkF,EAAWlF,QAAUkF,EACdA,EAGR,SAASG,GAAWj0B,GACnB,OAAO9B,QAAQ8B,GAA+B,mBAAfA,EAAMyuB,MAGtC,SAASyF,GAAWl0B,GACnB,OAAO9B,QAAQ8B,KAAWA,EAAM6I,IAKjC,SAASsrB,GACRC,EACAvrB,EACAylB,GAEA,MAAM+F,GAAcH,GAAWE,GAAqBA,EAAkBvrB,GAAKylB,MAAWzlB,KAAMylB,EAAKzlB,OAAS,SACpG0nB,EAAW2D,GAAWE,GAAqBA,EAAkB7D,SAAW6D,EACxE5D,EAAc0D,GAAWE,GAAqBA,EAAkB5D,YAAclC,EAC9EmF,EAAcC,GAAsBx2B,IAAIqzB,IAAa,IAAIl2B,EAC/D,IAAIi6B,EAAWb,EAAYv2B,IAAIm3B,GAC/B,MAAME,EACLX,GAAgB12B,IAAI2L,IAAO,IAAIvP,EAChC,GAAKg7B,EAcAhG,GACHgG,EAAShG,KAAKA,GAAM,GAErBiG,EAAoBzqB,IAAI,CAAEwqB,WAAUz3B,KAAM,mBAjB5B,CACdy3B,EAAWhE,GAAeC,EAAUC,GACpCiD,EAAYp2B,IAAIg3B,EAAYC,GAC5BZ,GAAsBr2B,IAAIkzB,EAAUkD,GACpC,MAAMe,EAAUH,EAAWI,UAAU,EAAGJ,EAAWj4B,QAAQ,MACrDs4B,EAAUF,IAAY3rB,EAC5B,IAAK6rB,EAAS,CACb,MAAMC,EACLf,GAAgB12B,IAAIs3B,IAAY,IAAIl7B,EACrCq7B,EAAe7qB,IAAI,CAAEwqB,WAAUz3B,KAAM,UACrC+2B,GAAgBv2B,IAAIm3B,EAASG,GAE9BJ,EAAoBzqB,IAAI,CAAEwqB,WAAUz3B,KAAM63B,EAAU,QAAU,eAQ/D,OADAd,GAAgBv2B,IAAIwL,EAAI0rB,GACjBD,EAGR,MAEMM,GAFUvsB,GAAO,CAAE0R,aAAAhQ,GAAcxK,YAAA+J,GAAajN,QAAAkO,IAElBsqB,CACjC,EAAGhsB,GAAIisB,EAAc3sB,YAAc4R,eAAcxa,cAAalD,eAC7D,MAAM04B,EAAa,IAAI16B,EACvBgC,EAAQ,KACP,MAAM24B,EAAYpB,GAAgB12B,IAAI43B,GAClCE,GACHA,EAAU14B,QAASg4B,IACI,eAAlBA,EAASz3B,KACZy3B,EAASA,SAASd,YAAYj0B,GAE9B+0B,EAASA,SAASj4B,QAAQy4B,KAI7BlB,GAAgBryB,OAAOuzB,KAExB/a,EACC,WACA,KACQ,IAER,EAAGua,SAAU5uB,IAAa4uB,SAAUnlB,MACnC,GAAIzJ,GAAWyJ,EAAM,CACpB,MAAMtG,EAAKsG,EAAKohB,SAAS1nB,IAAM,UAE9B0nB,UAAYC,YAAayE,IACtBvvB,GAEH6qB,UAAYC,YAAa0E,IACtB/lB,EACJ,GAAI+lB,EAAiB,CAEpB,GADgB9E,GAAgB6E,GAAsB,GAAIC,GAC7C,CACZ,MAAMzB,EAAcC,GAAsBx2B,IAAIiS,EAAKohB,SAASA,UAC5D,GAAIkD,EAAa,CAChB,MAAMa,EAAWb,EAAYv2B,IAAI2L,GAC7ByrB,IACHA,EAAShG,KAAK4G,GACd31B,OAKJ,MAAM41B,EAAchmB,EAAKyf,QACnBwG,EAAc1vB,EAAQkpB,QAC5B,GAAIwG,GAAeA,IAAgBD,EAAa,CAC/C,MAAMvD,EAAiB+B,GAAqBz2B,IAAIk4B,EAAYxG,SACxDgD,IACHA,EAAerwB,OAAOhC,GACtBA,MAIH,GAAI4P,EAAM,CACT,MAAMgmB,EAAchmB,EAAKyf,QACnBwG,EAAc1vB,GAAWA,EAAQkpB,QACvC,GAAIuG,EAAa,CAChB,MAAMvG,EAAgBA,IACrB,MAAMgD,EAAiB+B,GAAqBz2B,IAAIi4B,EAAYvG,UAAY,IAAIt1B,EAG5E,OAFAs4B,EAAe9nB,IAAIvK,GACnBo0B,GAAqBt2B,IAAI83B,EAAYvG,QAASgD,GACvCuD,EAAYvG,QAAQA,IAM5B,OAJAA,EAAQA,QAAUuG,EAAYvG,QACzBwG,GAAeA,EAAYxG,UAAYuG,EAAYvG,SACvDrvB,IAEM,CACNqvB,UACA2B,SAAUphB,EAAKohB,cAOpB,MAAMpoB,EAAa,SAASmsB,GAC3B,GAAIL,GAAWK,EAAS/D,UAAW,CAClC,IAAIA,SAAEA,EAAQ8E,UAAEA,EAAS7E,YAAEA,GAAyB8D,EAAZgB,EAAAlG,GAAAkF,EAAA,wCACxC,OAAAr6B,OAAAC,OAAA,CACCq2B,SAAU,CACTA,WACA8E,YACAxsB,GAAI2nB,KAAiBsE,KAAgBtE,EAAY3nB,KAAO,SACxD2nB,gBAEE8E,GAGL,OAAOhB,GAsER,OApEAnsB,EAAWotB,cAAgB,CAACx0B,IAC3B,MAAM6tB,EAAUmG,EAAW73B,IAAI6D,GAC/B,GAAI6tB,EACH,OAAOA,EAER,MAAM4G,EAAiB3B,KACvB,SAASC,EAAWlF,GACnB,MAAMgD,EAAiB+B,GAAqBz2B,IAAIs4B,EAAe5G,UAAY,IAAIt1B,EAG/E,OAFAs4B,EAAe9nB,IAAIvK,GACnBo0B,GAAqBt2B,IAAIm4B,EAAe5G,QAASgD,GAC1C4D,EAAe5G,GAIvB,OAFAkF,EAAWlF,QAAU4G,EAAe5G,QACpCmG,EAAW13B,IAAI0D,EAAK+yB,GACbA,IAER3rB,EAAWqqB,UAAY,EAACjC,EAAe3B,EAAcN,KACpD,MAAMgG,EAAWH,GAAY5D,EAAUuE,EAAcxG,GAC/C+G,GAAapB,GAAW1D,IAAaA,EAAS8E,UAC9CI,EAAkBvF,GAAiBtB,EAASyG,GAClDf,EAASlB,cAAc7zB,EAAaqvB,GACpC,MAAMzZ,EAAOmf,EAAS9B,UAAUiD,GAChC,OAAItgB,GAAQkgB,EACJlgB,EAAKvX,IAAK83B,GACZA,EACIA,EAAM93B,IAAKK,GAAc0xB,GAAc1xB,EAAMo3B,IAE9CK,GAGFvgB,IAERhN,EAAW7M,KAAO,EAACi1B,EAAe3B,EAAcN,KAC/C,MAAMgG,EAAWH,GAAY5D,EAAUuE,EAAcxG,GAC/C+G,GAAapB,GAAW1D,IAAaA,EAAS8E,UAC9CnG,EAAcgB,GAAiBtB,EAASyG,GAC9Cf,EAASjB,cAAc9zB,EAAa2vB,GACpC,MAAM3uB,EAAS+zB,EAASh5B,KAAK4zB,GAI7B,OAHI3uB,GAAUA,EAAOtC,MAAQo3B,IAC5B90B,EAAOtC,KAAO0xB,GAAcpvB,EAAOtC,KAAMo3B,IAEnC90B,IAGR4H,EAAWc,KAAO,EAACsnB,EAAe3B,EAAcF,GAAU,EAAOJ,KAChE,MAAMgG,EAAWH,GAAY5D,EAAUuE,EAAcxG,GAE/CmH,EAAkBvF,GAAiBtB,GADtBqF,GAAW1D,IAAaA,EAAS8E,WAMpD,OAJAf,EAASnB,cAAc5zB,EAAak2B,GAChC/G,GACH4F,EAASlB,cAAc7zB,EAAak2B,GAE9BnB,EAASrrB,KAAKwsB,EAAiB/G,KAEvCvmB,EAAW+pB,UAAY,EAAC3B,EAAe3B,EAAcN,KACpD,MAAMgG,EAAWH,GAAY5D,EAAUuE,EAAcxG,GAE/CmH,EAAkBvF,GAAiBtB,GADtBqF,GAAW1D,IAAaA,EAAS8E,WAGpD,OADAf,EAASf,iBAAiBh0B,EAAak2B,GAChCnB,EAASpC,UAAUuD,KAE3BttB,EAAWgqB,SAAW,EAAC5B,EAAe3B,EAAcN,KACnD,MAAMgG,EAAWH,GAAY5D,EAAUuE,EAAcxG,GAE/CmH,EAAkBvF,GAAiBtB,GADtBqF,GAAW1D,IAAaA,EAAS8E,WAGpD,OADAf,EAAShB,gBAAgB/zB,EAAak2B,GAC/BnB,EAASnC,SAASsD,KAEnBttB,IAIH,SAAUwtB,KACf,OAAOf,GAA0BxsB,wBC5jCnB,IAAAwtB,GAvBCvtB,GAAO,CAAE9J,KAAAkL,GAAMlK,YAAA+J,IAEPusB,CAAQ,UAAW1tB,YAAY5J,KAAEA,EAAIgB,YAAEA,KAC9D,MAAO,CACN1D,IAAIkF,EAAsBf,GACzB,MAAMyF,EAAUlH,EAAKrB,IAAI6D,GAEzB,OAAK0E,GAIDzF,IAAUyF,EAAQzF,OACrB81B,WAAW,IAAMv2B,KAGX,CACNw2B,MAAOtwB,EAAQuwB,SAASD,MACxBE,QAASxwB,EAAQywB,oBATV,CAAEH,WAAOj3B,EAAWm3B,QAAS,kBhBGzB,IAAAE,GAFC9tB,GAAO,CAAE+Q,MAAAS,KAAS3V,YAEnB,CAAQ,UAAoBA,WAAEA,EAAYiE,YAAYiR,MAAEA,KACtE,MAAMzK,KAAEA,EAAIonB,MAAEA,GAAU7xB,IAClBkyB,EAAYhd,EAAM3U,QAAQ4xB,IAEhC,OACCjxB,GAAA,OACCrE,IAAI,OACJ0D,QAAS,CACR2U,EAAMI,UACN4c,EAAUnb,MACA,IAAV8a,EAAiBK,EAAUL,MAAQ,MACzB,IAAVA,EAAkBK,EAAUE,QAAU,OAGtC3nB,GACAvJ,GAAA,KAAGrE,IAAI,OAAO0D,QAAS2xB,EAAUznB,KAAI4nB,cAAe,OAAQvZ,MAAOrO,GACjEA,0BA8CS,IAAA6nB,GA3CCnuB,GAAO,CAAE+Q,MAAAqD,KAASvY,YAEbuyB,CAAQ,UAAevyB,WAAEA,EAAU2E,GAAEA,EAAE1E,SAAEA,EAAUgE,YAAYiR,MAAEA,KACrF,MAAM+S,KACLA,EAAO,GAAEuK,OACTA,EAAMpK,SACNA,EAAQqK,QACRA,EAAOC,MACPA,EAAK3N,OACLA,EAAM4N,SACNA,EAAQC,SACRA,EAAQzZ,UACRA,EAAS0Y,MACTA,EAAKxsB,SACLA,WAAoBV,KACjB3E,IAEE6oB,EAAW3T,EAAM3U,QAAQsyB,IAE/B,OACC3xB,GAAA,QAAAnL,OAAAC,OAAA,GACKgyB,GAAqBC,GAAK,CAC9BtjB,GAAIU,EACJ9E,QAAS,CACR2U,EAAMI,UACNuT,EAAS9R,KACTqR,EAAWS,EAAST,SAAW,KAC/BqK,EAAU5J,EAAS4J,QAAU,MACnB,IAAVZ,EAAiBhJ,EAASgJ,MAAQ,MACxB,IAAVA,EAAkBhJ,EAASuJ,QAAU,KACrCO,EAAW9J,EAASiK,SAAW,KAC/BF,EAAW/J,EAAS+J,SAAW,KAC/BzZ,EAAY0P,EAAS1P,UAAY,KACjCqZ,EAAS3J,EAAS2J,OAAS,KAC3BzN,EAASgO,GAAA,eAAyB,MAEnCC,IAAKN,IAEJzyB,iBA0BJ,SAASgzB,GAAmBC,GAC3B,MAA4B,kBAAjBA,EACHA,EAAe,KAAO,MAEvBA,EAUR,MAWaC,GAXGhvB,GAAO,CACtB+Q,MAAAS,GACAC,OAAQtB,KACRwd,SAAAJ,GACA9J,MAAAG,GACAlS,aAAAhQ,GACAxK,YAAA+J,KAECpF,aACAC,UAEuBmzB,CAAQ,UAChCnvB,YAAY2R,OAAEA,EAAMV,MAAEA,EAAK4c,SAAEA,EAAQlK,MAAEA,EAAK/R,aAAEA,EAAYxa,YAAEA,GAAa2E,WACzEA,EAAUC,SACVA,EAAQ0E,GACRA,IAEAkR,EAAa,UAAW,CAAC0R,EAA+Btc,MACzCA,EAAKooB,mBAAmBp6B,OAASgS,EAAKooB,QAAQlZ,OAASlP,EAAKooB,WAC5D9L,EAAS8L,SACtBh4B,MAIF,MAAMwtB,EAAW3T,EAAM3U,QAAQ+yB,IACzB5hB,EAAQkE,EAAOvB,SAAS,SAAS,IAEjC4T,KACLA,EAAO,GAAEiL,aACTA,EAAY3yB,QACZA,EAAOgzB,gBACPA,EAAenL,SACfA,EAAQoL,WACRA,EAAUC,YACVA,GAAc,EAAKC,IACnBA,EAAGC,UACHA,EAASC,IACTA,EAAGC,UACHA,EAASxyB,KACTA,EAAIsnB,OACJA,EAAML,QACNA,EAAOM,QACPA,EAAOkL,UACPA,EAASC,QACTA,EAAOxL,MACPA,EAAKC,OACLA,EAAMwL,WACNA,EAAUC,QACVA,EACAZ,QAASa,EAAYC,YACrBA,EAAWxB,SACXA,EAAQC,SACRA,EAAQwB,KACRA,EACAlf,MAAOmf,EAAS17B,KAChBA,EAAO,OAAM27B,aACbA,EACAzC,MAAO0C,EAAa,CAAE1C,WAAOj3B,EAAWm3B,QAAS,IAAI1sB,SACrDA,gBAAyBV,KACtB3E,IAEJ,IAAIlE,MAAEA,GAAUkE,IAChB,OAAOrF,MAAEA,EAAKke,QAAEA,EAAOE,SAAEA,GAAa,IAA2B9Y,IAEjE,QAAcrF,IAAVkB,EAAqB,CACxBA,EAAQ8Z,EAAO5c,IAAI,SAGfs7B,IAFyB1e,EAAO5c,IAAI,kBAGvC4c,EAAOzc,IAAI,QAASm7B,GACpB1e,EAAOzc,IAAI,eAAgBm7B,GAC3Bx4B,EAAQw4B,GAIV,MAAMjB,EAAUa,aAAwBj7B,OAASi7B,EAAa/Z,OAAS+Z,EAEvE,SAASM,EAAgB3C,EAA4BE,GACpD,IACI0C,GADE5C,MAAO6C,GAAkB10B,IAGF,iBAAlB00B,IACVD,EAAkBC,EAAc3C,QAChC2C,EAAgBA,EAAc7C,OAG3BA,IAAU6C,GAAiB3C,IAAY0C,GAC1CT,GAAcA,EAAWnC,EAAOE,GAIlC,GAAIiC,EACH,GAAc,KAAVl4B,GAAiB4V,EAEd,CACNkE,EAAOzc,IAAI,SAAS,GACpB,IAAI04B,MAAEA,EAAKE,QAAEA,EAAU,IAAOD,EAAS94B,IAAI,QAAS8C,GAAS,IAC7D,GAAI+1B,GAAS0B,EAAiB,CAC7B,MAAMoB,EAAcpB,EAAgBz3B,GAAS,IACzC64B,IACH9C,EAAQ8C,EAAY9C,MACpBE,EAAU4C,EAAY5C,SAAW,IAInCyC,EAAgB3C,EAAOE,QAZvByC,OAAgB55B,EAAW,IAgB7B,MAAMi3B,MAAEA,EAAKE,QAAEA,GACQ,kBAAfwC,EAA2B,CAAE1C,MAAO0C,EAAYxC,QAAS,IAAOwC,EAElEK,GAAgC,IAAV/C,GAAmBE,GAAYyB,EACrDqB,EAAejN,EAAMkN,UAAU,SAErC,OACC5zB,GAAA,OAAKrE,IAAI,OAAO0D,QAAS,CAAC2U,EAAMI,UAAWuT,EAAS9R,MAAOge,KAAK,gBAC/D7zB,GAAA,OACCrE,IAAI,UACJ0D,QAAS,CACRsoB,EAASrpB,QACT4oB,EAAWS,EAAST,SAAW,KAC/ByM,EAAehM,EAAS4J,QAAU,MACxB,IAAVZ,EAAkBhJ,EAASuJ,QAAU,MAC3B,IAAVP,EAAiBhJ,EAASgJ,MAAQ,KAClCc,EAAW9J,EAASiK,SAAW,KAC/BF,EAAW/J,EAAS+J,SAAW,KAC/B/Z,EAAUgQ,EAASmM,WAAa,KAChCjc,EAAW8P,EAASoM,YAAc,MACjCt6B,GAAS84B,EAAc5K,EAASqM,QAAU,MAE5CH,KAAK,gBAEJp6B,GACAuG,GAACoxB,GAAK,CACLpd,MAAOmf,EACPjM,SAAUA,EACVyJ,MAAOA,EACPY,QAASoC,EACTlC,SAAUA,EACVC,SAAUA,EACV7N,OAAQ0O,EACRf,MAAOrtB,EACPmtB,SAAU12B,GAAS+4B,GAElBl6B,GAGHuG,GAAA,OACCrE,IAAI,eACJ0D,QAAS,CACRsoB,EAASsM,aACTN,EAAehM,EAASuM,yBAAsBx6B,GAE/Cm6B,KAAK,gBAEJlc,EACD3X,GAAA,QAAAnL,OAAAC,OAAA,GACKgyB,GAAqBC,GAAK,CAAAoN,gBACN,IAAVxD,EAAkB,OAAS,KACzCqB,aAAcD,GAAmBC,GACjC3yB,QAASsoB,EAASyM,MAClBlN,SAAUA,EACVzjB,GAAIU,EACJuiB,MAAOA,EAAMC,YACbhrB,IAAK,QACL62B,IAAKA,EACL6B,UAAW5B,KAAeA,IAAc,KACxCC,IAAKA,EACL4B,UAAW3B,KAAeA,IAAc,KACxCxyB,KAAMA,EACNgyB,QAASA,EACTc,YAAaA,EACbxB,SAAUA,EAAQ8C,gBACH9C,EAAW,OAAS,KACnCC,SAAUA,EACVwB,KAAMA,EACNz7B,KAAMA,EACNmD,MAAOA,EACPktB,OAAQ,KACPL,GAAUA,KAEXQ,QAAS,KACRP,GAAWA,KAEZ8M,QAAUj9B,IACTA,EAAMywB,kBACN,MAAMptB,EAASrD,EAAMnC,OAA4BwF,MACjD8Z,EAAOzc,IAAI,QAAS2C,GACpBm4B,GAAWA,EAAQn4B,IAEpB65B,UAAYl9B,IACXA,EAAMywB,kBACN4K,GAAaA,EAAUr7B,EAAMm9B,MAAO,IAAMn9B,EAAMo9B,mBAEjDC,QAAUr9B,IACTA,EAAMywB,kBACN6K,GAAWA,EAAQt7B,EAAMm9B,MAAO,IAAMn9B,EAAMo9B,mBAE7C5M,QAAS,KACRX,GAAWA,KAEZc,eAAgB,KACfZ,GAAUA,KAEXa,eAAgB,KACfd,GAASA,QAGVxP,IAGH7X,GAAC+wB,GAAU,CACVxnB,KAAMmqB,EACN/C,MAAOA,EACPtxB,QAASA,EACT2U,MAAOmf,OAUUlwB,GAAO,CAC3B+Q,MAAAS,KACE3V,YAEkB+1B,CAAa,UAAiB9xB,YAAYiR,MAAEA,GAAOlV,WAAEA,EAAUC,SAAEA,IACrF,MAAM4oB,EAAW3T,EAAM3U,QAAQ+yB,KACzB0C,OAAEA,GAAWh2B,IAEnB,OACCkB,GAAA,QAAMX,QAAS,CAACsoB,EAASoN,UAAWD,EAASnN,EAASqN,YAAc,OAClEj2B,OAKW,IAAAk2B,GAAA,aA1TA,IAAAC,GAnBCjyB,GAAO,CAAE+Q,MAAAqD,KAASvY,YAEdq2B,CAAQ,UAAcr2B,WAAEA,EAAYiE,YAAYiR,MAAEA,KACrE,MAAM+S,KAAEA,EAAO,GAAEtvB,KAAEA,EAAI29B,QAAEA,EAAOpxB,KAAEA,GAASlF,IAErCO,EAAU2U,EAAM3U,QAAQg2B,IACxBC,EAAYtxB,GAAQ3E,EAAQ2E,GAElC,OACChE,GAAA,IAAAnL,OAAAC,OAAA,CACCuK,QAAS,CAAC2U,EAAMI,UAAW/U,EAAQwW,KAAMxW,EAAQ61B,KAAM71B,EAAQ5H,GAAO69B,GACtEzB,KAAK,MAAK1C,cACGiE,EAAU,QAAU,OAAMG,aAC3BH,GACRtO,GAAqBC,OiB7B5B,MAAMyO,GAAUvyB,GAAO,CAAE9J,KAAAkL,KAEnBoxB,GACG,CACPC,OAAQ,EACRC,KAAM,EACNC,IAAK,EACL1R,MAAO,GALHuR,GAOG,CACPC,OAAQ,EACRC,KAAM,EACNC,IAAK,EACL1R,MAAO,GAXHuR,GAaK,CACTI,OAAQ,EACRF,KAAM,EACNG,MAAO,EACPF,IAAK,GAjBDH,GAmBG,CACPC,OAAQ,EACRC,KAAM,EACNC,IAAK,EACL1R,MAAO,GAvBHuR,GAyBC,CACLvR,MAAO,EACPwR,OAAQ,GAsDK,IAAAK,GAlDWP,GAAQ,EAAGzyB,YAAc5J,YAC3C,CACN1C,IAAIkF,GACH,MAAM0E,EAAUlH,EAAKrB,IAAI6D,GACzB,IAAK0E,EACJ,MAAO,CACN21B,OAAMnhC,OAAAC,OAAA,GAAO2gC,IACbrM,OAAMv0B,OAAAC,OAAA,GAAO2gC,IACbQ,SAAQphC,OAAAC,OAAA,GAAO2gC,IACfS,OAAMrhC,OAAAC,OAAA,GAAO2gC,IACbzxB,KAAInP,OAAAC,OAAA,GAAO2gC,KAIb,MAAMU,EAAqB91B,EAAQ+1B,wBA+BnC,MA9Be,CACdJ,OAAQ,CACPN,OAAQr1B,EAAQg2B,aAChBV,KAAMt1B,EAAQi2B,WACdV,IAAKv1B,EAAQk2B,UACbrS,MAAO7jB,EAAQm2B,aAEhBpN,OAAQ,CACPsM,OAAQr1B,EAAQo2B,aAChBd,KAAMt1B,EAAQq2B,WACdd,IAAKv1B,EAAQs2B,UACbzS,MAAO7jB,EAAQu2B,aAEhBX,SAAU,CACTJ,OAAQM,EAAmBN,OAC3BF,KAAMQ,EAAmBR,KACzBG,MAAOK,EAAmBL,MAC1BF,IAAKO,EAAmBP,KAEzBM,OAAQ,CACPR,OAAQr1B,EAAQw2B,aAChBlB,KAAMt1B,EAAQy2B,WACdlB,IAAKv1B,EAAQ02B,UACb7S,MAAO7jB,EAAQ22B,aAEhBhzB,KAAM,CACLkgB,MAAOiS,EAAmBjS,MAC1BwR,OAAQS,EAAmBT,sBClCjB,IAAAuB,GAAApiC,OAAAqiC,GAAA,GAAQ,kBAAkB,GCT1B,IAAAC,GA/BCl0B,GAAO,CAAE9J,KAAAkL,GAAMpN,QAAAkO,GAASuP,OAAArB,IAElB+jB,CAAQ,EAAGr0B,YAAc5J,OAAMlC,UAASyd,cAC7D,MAAM3f,EAA4B,GAC5B4B,EAAsB,GAO5B,OANAM,EAAQ,KACP,IAAIL,EACJ,KAAQA,EAASD,EAAQyS,OACxBxS,GAAUA,MAGL,CACNH,IAAIkF,GACH,MAAM0E,EAAUlH,EAAKrB,IAAI6D,GACzB,IAAK0E,EACJ,OAAO,KAGR,IAA2B,IAAvBtL,EAAKiC,QAAQ2E,GAAa,CAC7B5G,EAAK+B,KAAK6E,GACV,MAAM07B,EAAiB,IAAIJ,GAAe,EAAEK,MAC3C5iB,EAAOzc,IAAI0D,EAAK27B,EAAMC,eAEvBF,EAAeG,QAAQn3B,GACvB1J,EAAQG,KAAK,IAAMugC,EAAeI,cAEnC,OAAO/iB,EAAO5c,IAAqB6D,IAAQ,mBChB/B,IAAA+7B,GAHCz0B,GAAO,CAACyR,OAAApB,KAASxU,YAGlB,CAAQ,EAAEA,aAAYiE,YAAY2R,cAC7C,MAAMqT,QAACA,GAAWjpB,IAClB,OAAOkB,GAAA,QAAMX,QAASqV,EAAOvB,SAAmB,SAAS,CAACwkB,GAAA,KAAUA,GAAA,UACpEC,aAAc,KACVljB,EAAOzc,IAAc,SAAU,CAAC0/B,GAAA,KAAUA,GAAA,WAE9CE,aAAc,KACVnjB,EAAOzc,IAAc,SAAU,CAAC0/B,GAAA,KAAUA,GAAA,WAE9C5P,QAAS,KACLA,MAGA/nB,GAACk1B,GAAI,CAACz9B,KAAO,iBCWN,IAAAqgC,GAFC70B,GAAO,CAAC9I,YAAA+J,GAAa6zB,WAAAhC,GAAYiC,OAAAb,GAAQziB,OAAApB,KAASxU,aAAoBC,UAEvE,CAAQ,EAAEA,WAAUD,aAAYiE,YAAa5I,cAAa49B,aAAYC,SAAQtjB,cACzF,MAAMujB,MAACA,EAAKC,SAAEA,EAAQC,YAAEA,EAAWC,cAAEA,EAAaC,YAAEA,GAAev5B,IACnE4V,EAAOvB,SAAkB,gBAAgB,GACzC,MAAMmlB,EAAav5B,IACnB,IAAIw5B,EAAcP,EAAOlgC,IAAI,0BACzB0gC,EAAYT,EAAWjgC,IAAI,gBAC3B2gC,EAAe,GAMnB,OALIF,GAAeC,IACnBC,EA/BJ,SAA0BF,EAA8CC,EACtEN,GACE,IAAIO,EAAe,GAWnB,OAVQF,EAAYrU,MAAQgU,GACpBO,GAAgB,UAAYvM,KAAKwM,OAAOH,EAAYrU,MAAQgU,GAAY,GAAK,MAC7EO,GAAgB,UAAYP,EAAU,QAEtCO,GAAgB,YAChBA,GAAgB,WAAavM,KAAKwM,MAAMH,EAAYrU,OAAS,MAC7DuU,GAAgB,sBAEhBF,EAAY7C,OAAS8C,EAAU9C,OAAS,IACxC+C,GAAgB,SAAWvM,KAAKwM,OAAOH,EAAY7C,OAAS8C,EAAU9C,QAAU,GAAI,OACrF+C,EAkBQE,CAAiB,CAACzU,MAAMqU,EAAYrU,MAAOwR,OAAQ6C,EAAY7C,QAC5E,CAACxR,MAAMsU,EAAUxC,OAAO9R,MAAOwR,OAAQ8C,EAAUxC,OAAON,QAASwC,IAI/Dl4B,GAAA,OAAKX,QApBb,SAAgC44B,EAAgBW,GAC5C,OAAMA,GAAgBX,GAAWW,IAAiBX,EAAgB,CAACY,GAAA,SACtD,CAACA,GAAA,QAAaA,GAAA,eAeRC,CAAuBb,EAAOvjB,EAAO5c,IAAI,kBAIpDkI,GAAA,OAAKX,QAAS,CAACw5B,GAAA,KAAUR,GAAc18B,IAAI,eAAegQ,MAAO8sB,GACjEz4B,GAAA,MAAIX,QAAS,CAACw5B,GAAA,OAAYT,IAAgBp4B,GAAA,YAAOm4B,GAC7Cn4B,GAAC03B,GAAqB,CAAC3P,QAAS,KAC5BrT,EAAOzc,IAAI,gBAAkByc,EAAO5c,IAAI,iBACxCqC,QAKR6F,GAAA,MAAI2L,MAAM,cACL2sB,EAAW9/B,IAAIugC,GAAK/4B,GAAA,WAAM+4B,KAE/B/4B,GAAA,OAAKX,QAASw5B,GAAA,WAAgBl9B,IAAI,8BC9D9C,MAAMq9B,GAA8B,oCAcvBC,GAA2C,CACpD5P,KAAM6P,MAAM5P,EAAS6P,KACjB,MAAMrN,QAAiBsN,MAAM,gCAAiC,CAAChhC,OAAQ,MACjEihC,QAAS,IAAIC,QAAQ,CAACC,eAAgB,uBAE5C,MAAMxpB,EAAO,CACTA,KAFoB,GAGpB0R,MAAO,GACXqK,EAAS0N,OAAO3/B,KAAKk/B,IACjB,IAAIU,EAAeV,EAAEW,kBAAkBC,OACvC,IAAK,IAAI98B,EAAI,EAAGA,EAAI48B,EAAKh+B,OAAQoB,IAAK,CAClC,IAAI+8B,EAAmB,CACnBz+B,OAASs+B,EAAK58B,GAAGg9B,gBACrBC,QAAS,IAAIC,KAAKN,EAAK58B,GAAGm9B,eAC1BC,QAAUR,EAAK58B,GAAGq9B,cAClBC,UAAWV,EAAK58B,GAAGs9B,WAEnBpqB,EAAKA,KAAKjZ,KAAK8iC,GAEnB7pB,EAAK0R,MAAQ1R,EAAKA,KAAKtU,OACvB09B,EAAShQ,IAAI,CAAEpZ,KAAMA,EAAKA,KAAM0R,MAAO1R,EAAK0R,OAAS6H,KAEzD6P,EAAShQ,IAAI,CAAEpZ,KAAMA,EAAKA,KAAM0R,MAAO1R,EAAK0R,OAAS6H,IAEzDpzB,KAAM,QA2BHgjC,eAAekB,GAAUC,GAC5B,OAzBJnB,eAA6BmB,GACzB,IAAIC,GAAU,EAoBZ,MAAO,CAACzJ,cAnB4BuI,MAAMJ,GAAqB,CAAC5gC,OAAQ,OAClEihC,QAAS,CAACE,eAAgB,cAAe90B,KAAM41B,IAAcxgC,KAChEiyB,GACGA,EAAS0N,QAAQ3/B,KAAK2R,IAClBiS,QAAQ8c,IAAI/uB,EAAEgvB,OAAShvB,EAAEuE,MACzB0N,QAAQ8c,IAAI/uB,EAAEgvB,OAAO/+B,QACvB+P,EAAEgvB,QAAUhvB,EAAEgvB,OAAO/+B,OAAS,GAC9BgiB,QAAQ8c,IAAI/uB,EAAEgvB,QACXhvB,EAAEgvB,SAENF,GAAU,EACV7c,QAAQ8c,IAAI/uB,EAAEuE,MACNvE,EAAEuE,QAEd2d,MAAO1zB,GAEAA,EAAMJ,YAGCuB,OAAOm/B,GAInBG,CAAcJ,GC3DzB,MAAMK,GAAY,CACdC,uBAAwB,CACpB9kB,KAAM,CAACgjB,GAAA,YACPp/B,MAAO,CAACo/B,GAAA,cAEZ+B,qBAAsB,CAClB/kB,KAAM,CAACgjB,GAAA,cAYTgC,GAAU53B,GAAO,CAAEyR,OAAApB,KAASxU,aAElC,IAAIg8B,GAAcnV,EAAQ,KACtBoV,QAA8BrhC,EAEnB,ICpBVshC,GDoBUC,GAAAJ,GAAQ,EAAE/7B,aAAYiE,YAAa2R,cAC9C,MAAMujB,MAACA,EAAKiD,WAAEA,EAAUpS,MAAEA,GAAShqB,IAMnC,OALIi8B,IAAajS,IACbiS,GAAYjS,EACZpU,EAAOzc,IAAI,QAAS6wB,IAExBpU,EAAOvB,SAAkB,gBAAgB,GAErCnT,GAAC83B,GAAY,CAACI,SAAU,IAAKC,YAAa,qBAAsBF,MAC1DA,IAAUvjB,EAAOvB,SAAkB,gBAAgB,IACjDuB,EAAOvB,SAAkB,gBAAgB,KAAU8kB,GAC3Dj4B,GAAA,OAAKX,QAAS,CAACw5B,GAAA,UACX74B,GAAA,OAAKylB,IAAKqV,GAAaK,IAAI,KAAK97B,QAASw5B,GAAA,aACzC74B,GAAA,OAAKX,QAASw5B,GAAA,aAAe,2CAC7B74B,GAACi1B,GAAS,CAAChC,YArBG,uBAqBsBG,aAActK,EAAOiK,QAAUn4B,IAC/D8Z,EAAOzc,IAAI,QAAS2C,MAExBoF,GAAA,OAAKX,QAASw5B,GAAA,aACV74B,GAACgnB,GAAM,CAAC3nB,QAASq7B,GAAWtT,QAAS,KACjC1S,EAAOzc,IAAI,gBAAkByc,EAAO5c,IAAI,mBACzCkI,GAACk1B,GAAI,CAACz9B,KAAK,YAAYuM,KAAK,oBAC/BhE,GAACgnB,GAAM,CAAC3nB,QAASq7B,GAAWtT,QAAS,KAChC,IAAIxsB,EAAS8Z,EAAO5c,IAAI,SACH,iBAAV8C,GACRw/B,GAAUx/B,GAAOf,KACb,EAAEg3B,UAAS11B,aACP+/B,EAAWrK,EAAS11B,GACpBuZ,EAAOzc,IAAI,gBAAkByc,EAAO5c,IAAI,qBAItDkI,GAACk1B,GAAI,CAACz9B,KAAK,YAAYuM,KAAK,qCCnD9C,SAAKg3B,GACDA,IAAA,qBACAA,IAAA,eAFJ,CAAKA,QAAM,KAKI,MAAMI,WAAoBld,GAAzCznB,kCAEYC,KAAA2kC,aAAe,CAAC,UAAW,SAE3B3kC,KAAAkiC,cAAe,EAEhBniC,SACJ,IAAI8sB,EAAkC,GACtC,GAAI7sB,KAAKoI,WAAW+xB,QAAQ,GAAI,CAC5B,IAAIl1B,EAAgB9G,OAAOE,KAAK2B,KAAKoI,WAAW+xB,QAAQ,IACxD,IAAK,IAAIh0B,EAAI,EAAGA,EAAIlB,EAAIF,OAAQoB,IAC5B0mB,EAAQ5nB,EAAIkB,IAAMlB,EAAIkB,GAG9B,OAAO0mB,EAGA9sB,SACP,IAAIo6B,EAAUn6B,KAAKoI,WAAW3D,OAC1B6E,GAAC2kB,GAAY,CAAC5U,KAAMrZ,KAAKoI,WAAW+xB,QAAStN,QAAS7sB,KAAK4kC,WAAat7B,GAAA,SAAItJ,KAAKoI,WAAW+xB,SAC/F,OAAO7wB,GAAC83B,GAAY,CAACG,OACfvhC,KAAKkiC,cAAgBliC,KAAKoI,WAAWm5B,OAAWvhC,KAAKkiC,eAAiBliC,KAAKoI,WAAWm5B,MAC1FE,YAAazhC,KAAKoI,WAAW3D,OAAQzE,KAAK2kC,aAAaL,GAAOO,SAAU7kC,KAAK2kC,aAAaL,GAAOQ,MAC9EtD,SAAU,IAAKE,cAAe1hC,KAAKoI,WAAW3D,OAAQsgC,GAAA,QAAaA,GAAA,QACpFz7B,GAAA,OAAKX,QAASo8B,GAAA,SAAc5K,KCtBxC,MAAM6K,GAAsB,CACxBf,uBAAwB,CACpB9kB,KAAM,CAAC8lB,GAAA,YACPliC,MAAO,CAACkiC,GAAA,eAMVC,GAAoB,CACtBjB,uBAAsB9lC,OAAAC,OAAA,GAAM4mC,GAAoB,wBAA4B,CACxE7lB,KAAM,IAAI6lB,GAAoB,wBAA8B,KAAGC,GAAA,kBAIvE,IAeIE,GAfAC,GAAqB,EAErBC,GAAe,CAACH,GAAmBF,GAAqBA,GAAqBA,IAEjF,SAASM,GAAmBviC,GACxB,MAAO,CACHA,QACAhD,iBAAiB0C,GACbA,EAAKmJ,aAAa,QAASq5B,GAAA,QAC3BxiC,EAAK8iC,UAAYxiC,GAErBuI,UAAW25B,GAAA,UAMnB,IAAIO,GAAc,CACd/gC,OAAQ,CACJghC,WAAY,CAACC,EAAaxhC,EAAYzB,KAElC,IAAIkjC,EAMJ,OAPAljC,EAAKmJ,aAAa,QAASq5B,GAAA,YAAkB,IAAMA,GAAA,UAG/CU,GADU,IAAVzhC,EACQkrB,GAAchuB,MAEdkuB,GAAaluB,OAI7BrB,iBAAiB0C,GACbA,EAAKmJ,aAAa,QAASq5B,GAAA,YAAkB,IAAMA,GAAA,UAI3DxB,UAAW6B,GAAmB,aAC9BlC,QAASkC,GAAmB,kBAC5B/B,QAAS+B,GAAmB,kBAC5BM,OAAQ,CACJ7lC,iBAAiB0C,GACbA,EAAKmJ,aAAa,QAASq5B,GAAA,YAAkB,IAAMA,GAAA,SAEvDllC,WAAW2lC,EAAaxhC,EAAYzB,OAMxCojC,GAAkB,GAGlBC,IAAoB,EACpBC,IAAa,EAKjB,SAASC,GAAS/oB,GACdooB,GAAaD,IAAsBJ,GACnCK,GAAapoB,GAASioB,GACtBE,GAAqBnoB,EAGV,IAAAgpB,GARC15B,GAAO,CAAC9I,YAAA+J,GAAagrB,SADpBqB,KAC8Bp3B,KAAAkL,GAAMqQ,OAAApB,KAASxU,YAQ/C,CAAQ,EAAE2E,KAAI3E,aAAYiE,YAAa5I,cAAa+0B,WAAUxa,cACzEwnB,GAAYI,OAAOH,WAAa,EAACC,EAAaxhC,EAAYzB,KACtDA,EAAKmJ,aAAa,QAASq5B,GAAA,YAAkB,IAAMA,GAAA,UACnD,IAAItW,EAAMO,GAAM9tB,MAMhB,OALAutB,EAAG0C,QAAU,MACT0U,IAAcA,GACdZ,GAAQO,EAAOjC,UACfhgC,MAEGkrB,IAEX,MAAM+H,UAACA,EAAS+C,cAAEA,GAAiBjB,GAC5BA,UAAU/D,SAACA,EAAQ3B,QAAEA,EAAU2G,EAAc1sB,KAAQ3E,KAC3Dy9B,GAAO,IAAMnP,EAAUjC,EAAU3B,EAAQ,CAACxlB,KAAM44B,OAAOC,aACxD,IAAIjP,IAACA,EAAG0M,QAAEA,EAAO3O,OAAEA,GCtEhB,SAAsB5b,GACzB,IAAIuqB,EAAUvqB,EAAKwL,OAAOwd,GAAKA,EAAE59B,QAAQM,OACzC,MAAO,CAACmyB,IAAI7d,EAAKtU,OAAQ6+B,UAAS3O,OAAO5b,EAAKtU,OAAS6+B,GDoE1BwC,CAAaP,IACtChT,ECrGD,SAAgB5V,EAAe5D,GAClC,IAAIwZ,EAA0B,GAC9B,OAAQ5V,GACJ,KAAI,EACA4V,EAAe,IAAIxZ,GACnB,MAEJ,KAAI,EACAwZ,EAAexZ,EAAKwL,OAAQ1iB,GAASA,EAAa,QAClD,MAEJ,KAAI,EACA0wB,EAAexZ,EAAKwL,OAAQ1iB,IAAUA,EAAa,QACnD,MAEJ,QACI,MAAO,GAGf,OAAQ0wB,EAAa/wB,IAAIK,IAAgB,CACrCsC,OAAQtC,EAAKsC,OAAQg/B,UAAWthC,EAAKshC,UACnCF,QAASphC,EAAKohC,QAAU,MAAYH,QAChCiD,MAAMlkC,EAAKihC,QAAQkD,WAIjB,eAHJ,IAAIC,KAAKC,eACT,QAAS,CAACC,KAAM,UAAWC,MAAO,UAC5BC,IAAI,UAAWC,KAAM,UAAWC,OAAO,UAAWC,OAAQ,YAAYC,OAAO5kC,EAAKihC,SAASlgC,cD4EjE2hB,CAAOugB,GAAoBS,IACnE,OAAOr9B,GAAE,MAAO,GAAI,CAChBA,GAAE,MAAO,CAACG,QAAQ,CAACs8B,GAAA,cAAmB,CAClC/8B,GAAEooB,GAAQ,CAACI,QAAQ,KACXsV,GAAS,GACTviC,KACDkF,QAAS08B,GAAa,IAAK,CAC1B78B,GAAE,OAAQ,CAACG,QAAS,CAACs8B,GAAA,kBACnB,CAAC,OAAQ+B,OAAO9P,GAAM,QAChChvB,GAAEooB,GAAQ,CAACI,QAAQ,KACfsV,GAAS,GACTviC,KACGkF,QAAS08B,GAAa,IAAK,CAC1B78B,GAAE,OAAO,CAACG,QAASs8B,GAAA,gBACjB,CAACnT,GAAcmV,OACrBz+B,GAAE,OAAQ,CAACG,QAAS,CAACs8B,GAAA,kBAAuB,CACxC,cAAe+B,OAAOpD,GAAU,QACxC17B,GAAEooB,GAAQ,CAACI,QAAQ,KACfsV,GAAS,GACTviC,KACGkF,QAAS08B,GAAa,IAAK,CAC9B78B,GAAE,OAAO,CAACG,QAASs8B,GAAA,gBACb,CAACjT,GAAaiV,OACnBz+B,GAAE,OAAQ,CAACG,QAAS,CAACs8B,GAAA,kBAAuB,CACzC,WAAY+B,OAAO/R,GAAS,QACpC/sB,GAAEooB,GAAQ,CAAE3nB,QAAS08B,GAAa,GAAI3U,QAAQ,KAC1CqV,IAAcA,GACdZ,GAAQ,GACR1hC,MACI,CACJ+E,GAAE,OAAO,CAACG,QAASs8B,GAAA,gBACb,CAAC/S,GAAK+U,OACZz+B,GAAE,OAAQ,CAACG,QAAS,CAACs8B,GAAA,kBAAuB,CAAE,iBACtD/8B,GAAE+lB,GAAc,CACZ5U,KAAMwZ,EAAchG,QAAS2Y,IAAc,IAC/Ct9B,GAAEq8B,GAAkB,CAAChD,MAAOwE,GAAYvB,WAAY,CAACrK,EAAS11B,KAC1DqhC,IAAqBA,GACrB9nB,EAAOzc,IAAI,UAAW44B,GACtBnc,EAAOzc,IAAI,SAAUkD,IAClB2tB,MAAO+S,KACdj9B,GAAEw8B,GAAgB,CAACnD,MAAOuE,GAAmB3L,QAASnc,EAAOvB,SAAS,UAAW,IAC3EhY,OAAQuZ,EAAOvB,SAAS,UAAU,kBE7IjC,IAAAyqB,GAFC36B,KAASnE,YAEV,CAAQ,EAAEA,iBACrB,MAAM++B,eAACA,EAAcC,UAAEA,EAASC,UAAEA,GAAaj/B,IAC/C,IAAIs0B,EAAsB,GAE1B,OADKyK,IAAgBzK,EAAe,wBAC7Bx0B,GAAEq2B,GAAW,CAAC/N,SAAU2W,EAAgB9K,QAAS+K,EAAY7K,YAAaG,EAC3Ex4B,MAAOmjC,gBCZjB,MAAMC,GAAe,CACjBrD,uBAAwB,CACpB9kB,KAAM,CAACooB,GAAA,MACPxkC,MAAO,CAACwkC,GAAA,SAMD,IAAAC,GAFCj7B,KAASnE,YAEV,CAAQ,EAAEA,iBAErB,MAAMyK,KAAEA,EAAI40B,KAAEA,GAASr/B,IACvB,OAAOI,GAAE,MAAO,CACZN,GAAEooB,GAAQ,CAAC3nB,QAAS2+B,GAAc5W,QAAS+W,GAAO,CAAC50B,QCX3D,MAAM60B,GAAUn7B,GAAO,CAACyR,OAAApB,KAExB,IAAI+qB,GAAkB,GAEtB,SAASC,GAAY1jC,GACjByjC,GAAWzjC,EAGA,IAAA2jC,GAAAH,GAAQ,EAAEr7B,YAAY2R,cAEjCA,EAAOvB,SAAS,UAAW,IACnBnT,GAAA,OAAKX,QAASm/B,GAAA,MAClBx+B,GAAC49B,GAAW,CAACC,gBAAgB,EAAOC,UAAWQ,KAC/Ct+B,GAACk+B,GAAY,CAAC30B,KAAM,gBAAiB40B,KAAM,IACvC/E,MAAM,sCAAwCiF,IAAUxkC,KAAKk/B,GAAKA,EAAExvB,QAAQ1P,KAAK0P,IACjFmL,EAAOzc,IAAI,UAAWsR,OAE1BvJ,GAAC49B,GAAW,CAACC,gBAAgB,EAAME,UAAWrpB,EAAO5c,IAAI,gBCVlD,IAAA2mC,GAFCx7B,GAAO,CAAE+Q,MAAAS,GAAOya,SADfqB,MAGF,CAAQ,UAAa9sB,GAAEA,EAAIV,YAAYiR,MAAEA,EAAKkb,SAAEA,KAI9D,OAHKlb,EAAMlc,OACVkc,EAAM/b,IAAIymC,GAAA7xB,GAEJ3N,GAAE,MAAO,CAAEG,QAAS,CAACm/B,GAAA,OAAa,CACxC5/B,GAAEyZ,GAAM,IACRnZ,GAAE,MAAO,CAACG,QAAS,CAACm/B,GAAA,OAAY,CAChC5/B,GAAE2/B,GAAoB,IACtB3/B,GAAE+9B,GAAO,CAACzN,SAAUA,EAAS,CAAC/D,SAAA8N,MAAa,UClB7C,MAAM0F,GAAI/4B,GAAS,IAAMhH,GAAE6/B,GAAK,KACzBG,GAAWp6B,SAASq6B,eAAe,OAC1CF,GAAErsB,MAAM,CAACjS,QAAOu+B,mCCLhBjZ,EAAAmZ,EAAAC,EAAA,sBAAAzgC,IAAA,IAAA0gC,EAAArZ,EAAA,GAAAA,EAAA,GAGc,SAAUrnB,EAAQ2gC,EAAsB9jB,GAAc,EAAOvB,GAAO,GAajF,OAAOA,EAAOolB,EAAA,QAAOC,GAAcrlB,KAAKolB,EAAA,SAAUA,EAAA,QAAOC,qBCf1DC,EAAAC,QAAA,CAAkBzoB,QAAA,wBAAA0oB,SAAA,iCAAAC,OAAA,+BAAAC,YAAA,oCAAAC,QAAA,gCAAAC,OAAA,+BAAAC,UAAA,kCAAAC,WAAA,mCAAAC,cAAA,sCAAAC,YAAA,oCAAAC,gBAAA,wCAAAC,eAAA,uCAAAC,YAAA,sDCAlBb,EAAAC,QAAA,CAAkBzoB,QAAA,+BAAAb,KAAA,oCAAAmqB,QAAA,uCAAAC,WAAA,0CAAAP,WAAA,0CAAAE,YAAA,2CAAAG,YAAA,2CAAAG,WAAA,0CAAAC,YAAA,2CAAA7oB,OAAA,sCAAA8oB,WAAA,0CAAAC,iBAAA,gDAAA/hC,QAAA,uCAAAgiC,cAAA,6CAAAC,kBAAA,mECAlBrB,EAAAC,QAAA,CAAkBzoB,QAAA,sBAAAb,KAAA,2BAAA+J,KAAA,2BAAA4gB,KAAA,wHCDlB,IAAAC,EAAA9a,EAAA,IACA+a,EAAA/a,EAAA,IACAgb,EAAAhb,EAAA,IACAib,EAAAjb,EAAA,IACAkb,EAAAlb,EAAA,IACAmb,EAAAnb,EAAA,IACAob,EAAApb,EAAA,IACAqb,EAAArb,EAAA,IACAsb,EAAAtb,EAAA,IACAub,EAAAvb,EAAA,IACAwb,EAAAxb,EAAA,IACAyb,EAAAzb,EAAA,IACA0b,EAAA1b,EAAA,IACA2b,EAAA3b,EAAA,IACA4b,EAAA5b,EAAA,IACA6b,EAAA7b,EAAA,KACA8b,EAAA9b,EAAA,KACA+b,EAAA/b,EAAA,KACAgc,EAAAhc,EAAA,KACAic,EAAAjc,EAAA,KACAkc,EAAAlc,EAAA,KACA/F,EAAA+F,EAAA,KACAmc,EAAAnc,EAAA,KACArO,EAAAqO,EAAA,KACA2M,EAAA3M,EAAA,KACAuP,EAAAvP,EAAA,KACAlsB,EAAAksB,EAAA,KACAoc,EAAApc,EAAA,KACA8T,EAAA9T,EAAA,KACAqc,EAAArc,EAAA,KACAsc,EAAAtc,EAAA,KACAuc,EAAAvc,EAAA,KACAwc,EAAAxc,EAAA,KACAlF,EAAAkF,EAAA,KACAyc,EAAAzc,EAAA,KACA0c,EAAA1c,EAAA,KACA2c,EAAA3c,EAAA,KACA4c,EAAA5c,EAAA,KACA6c,EAAA7c,EAAA,KACA8c,EAAA9c,EAAA,KACA+c,EAAA/c,EAAA,KACAxqB,EAAAwqB,EAAA,KACAgd,EAAAhd,EAAA,KACAid,EAAAjd,EAAA,KACAkd,EAAAld,EAAA,KACAmd,EAAAnd,EAAA,KACAod,EAAApd,EAAA,KACAqd,EAAArd,EAAA,KACAsd,EAAAtd,EAAA,KACAud,EAAAvd,EAAA,KACAwd,EAAAxd,EAAA,KACAyd,GAAAzd,EAAA,KACA0d,GAAA1d,EAAA,KACA2d,GAAA3d,EAAA,KACA4d,GAAA5d,EAAA,KACA6d,GAAA7d,EAAA,KACA8d,GAAA9d,EAAA,KACA+d,GAAA/d,EAAA,KACAge,GAAAhe,EAAA,KAEAwZ,EAAA3kC,QAAe,CACdwZ,MAAO,CACN4vB,0BAA2BnD,EAC3BoD,uBAAwBnD,EACxBoD,iCAAkCnD,EAClChG,uBAAwBiG,EACxBmD,yBAA0BlD,EAC1BmD,qBAAsBlD,EACtBmD,+BAAgClD,EAChCmD,yBAA0BlD,EAC1BmD,qBAAsBjD,EACtBkD,2BAA4BjD,EAC5BkD,uBAAwBjD,EACxBkD,uCAAwCjD,EACxCkD,qBAAsBjD,EACtBkD,0BAA2BjD,EAC3BkD,0BAA2BjD,EAC3BkD,4BAA6BjD,EAC7BkD,4BAA6BjD,EAC7BkD,qCAAsChD,EACtCiD,sCAAuClD,EACvCmD,yBAA0BjD,EAC1BkD,qBAAsBnlB,EACtBolB,4BAA6BlD,EAC7B3pB,uBAAwBb,EACxB2tB,4BAA6B3S,EAC7BsI,qBAAsB1F,EACtBgQ,sBAAuBzrC,EACvB0rC,0BAA2BpD,EAC3BqD,kCAAmCpD,EACnCqD,0BAA2BpD,EAC3BqD,+BAAgCrE,EAChCsE,qBAAsB9L,EACtB+L,gCAAiCrD,EACjCsD,8BAA+BvD,EAC/BwD,2BAA4BjlB,EAC5BklB,+BAAgCvD,EAChCwD,sBAAuBvD,EACvBwD,yBAA0BvD,EAC1BwD,4BAA6BvD,EAC7BwD,sBAAuBvD,EACvBwD,8BAA+BvD,EAC/BwD,6BAA8BvD,EAC9BwD,uBAAwB/qC,EACxBgrC,uBAAwBxD,EACxByD,2BAA4BxD,EAC5ByD,uBAAwBxD,EACxByD,yBAA0BxD,EAC1ByD,2BAA4BxD,EAC5ByD,uBAAwBxD,EACxByD,8BAA+BxD,EAC/ByD,0BAA2BxD,EAC3ByD,2BAA4BxD,EAC5ByD,oCAAqCxD,GACrCyD,4BAA6BxD,GAC7ByD,2BAA4BxD,GAC5ByD,wBAAyBxD,GACzByD,kCAAmCxD,GACnCyD,0BAA2BxD,IAE5BpvB,SAAU,CACT7Z,QAASmpC,GACTuD,KAAMxD,sBC1HR/d,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,0BAAAb,KAAA,gECDlB8P,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,uBAAAb,KAAA,wBAAAsxB,YAAA,+BAAAC,qBAAA,wCAAAC,MAAA,yBAAAC,OAAA,0BAAAC,MAAA,yBAAAC,OAAA,0BAAAC,OAAA,0BAAAC,QAAA,gECDlB/hB,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,iCAAAb,KAAA,kCAAAksB,SAAA,2ECDlBpc,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,uBAAAb,KAAA,wBAAAsR,QAAA,2BAAAD,SAAA,4BAAAztB,MAAA,8DCDlBksB,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,yBAAAb,KAAA,0BAAA8xB,SAAA,8BAAAC,QAAA,6BAAAC,KAAA,0BAAAC,KAAA,0BAAAC,UAAA,+BAAAC,aAAA,kCAAAC,aAAA,kCAAAC,UAAA,+BAAAC,aAAA,kCAAAC,YAAA,iCAAA/hB,SAAA,8BAAAtc,KAAA,0BAAAs+B,mBAAA,wCAAAC,kBAAA,uCAAAC,mBAAA,4DAAAC,UAAA,+BAAAC,SAAA,8BAAAC,YAAA,iCAAAC,WAAA,gCAAAC,WAAA,gCAAAC,UAAA,+BAAAC,gBAAA,qCAAAC,eAAA,oCAAAC,kBAAA,uCAAAC,iBAAA,sCAAAC,gBAAA,qCAAAC,eAAA,yECDlBxjB,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,qBAAAb,KAAA,sBAAA6B,QAAA,yBAAA0xB,cAAA,+BAAAC,YAAA,6BAAArxB,QAAA,yBAAAgoB,QAAA,yBAAAsJ,MAAA,uBAAAC,YAAA,6BAAAC,WAAA,4BAAAlyB,OAAA,wBAAAmyB,aAAA,8BAAAC,eAAA,gCAAA9xB,MAAA,uBAAA+xB,SAAA,+DCDlBhkB,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,+BAAAb,KAAA,gCAAA+zB,OAAA,4FCDlBjkB,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,yBAAAb,KAAA,0BAAAue,MAAA,2BAAAH,aAAA,+EAAA4V,QAAA,6BAAAtY,QAAA,6BAAAuY,QAAA,6BAAAC,SAAA,8BAAA7iB,SAAA,8BAAA0K,SAAA,8BAAAV,QAAA,6BAAAP,MAAA,gECDlBhL,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,+BAAAb,KAAA,gCAAAjb,MAAA,iCAAAovC,aAAA,wCAAA5V,MAAA,iCAAAH,aAAA,wCAAAr/B,OAAA,uECDlB+wB,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,qBAAAb,KAAA,sBAAApc,MAAA,uBAAAwwC,UAAA,2BAAAC,UAAA,2BAAAhjB,SAAA,+DCDlBvB,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,2BAAAb,KAAA,4BAAAue,MAAA,6BAAA+V,qBAAA,4CAAA9H,MAAA,kECDlB1c,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,uBAAAb,KAAA,wBAAA2qB,KAAA,wBAAA4J,gBAAA,mCAAAxyB,MAAA,yBAAAooB,QAAA,2BAAAqK,MAAA,yBAAAJ,UAAA,6BAAAvyB,QAAA,gECDlBiO,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,uCAAAb,KAAA,wCAAAy0B,SAAA,4CAAAjD,MAAA,yCAAAlgB,QAAA,oEAAA1tB,MAAA,gEAAAytB,SAAA,iFCDlBvB,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,qBAAA6zB,UAAA,2BAAA/qB,OAAA,wBAAAgrB,UAAA,gECDlB7kB,EAAQ,IACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,0BAAAb,KAAA,gECDlB8P,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,0BAAAb,KAAA,2BAAAue,MAAA,4BAAAqW,KAAA,gECDlB9kB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,4BAAAb,KAAA,kECDlB8P,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,4BAAAb,KAAA,6BAAAsJ,KAAA,6BAAAurB,SAAA,iCAAAC,OAAA,+BAAA/9B,KAAA,6BAAAg+B,iBAAA,+BAAArvB,OAAA,oECDlBoK,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,sCAAAb,KAAA,uCAAAg1B,QAAA,0CAAAC,KAAA,uCAAAC,QAAA,0CAAAC,WAAA,6CAAA1Z,OAAA,8ECDlB3L,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,qCAAAb,KAAA,8DAAA+V,QAAA,yCAAAqf,KAAA,2ECDlBtlB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,yBAAAb,KAAA,+DCDlB8P,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,qBAAAb,KAAA,sBAAAyB,OAAA,wBAAA4zB,YAAA,kECDlBvlB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,4BAAAb,KAAA,6BAAAyB,OAAA,+BAAA6zB,cAAA,sCAAAzK,OAAA,+BAAA9oB,MAAA,8BAAA+xB,SAAA,sECDlBhkB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,uBAAAb,KAAA,wBAAAkC,IAAA,uBAAAC,QAAA,2BAAAC,UAAA,6BAAAR,OAAA,0BAAAE,QAAA,2BAAAC,MAAA,yBAAAF,QAAA,2BAAAle,OAAA,0BAAAqe,SAAA,4BAAAC,OAAA,+DCDlB6N,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,4BAAAb,KAAA,6BAAAtM,KAAA,6BAAAonB,MAAA,8BAAAO,QAAA,qECDlBvL,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,qBAAAwe,KAAA,sBAAAkW,UAAA,2BAAAC,QAAA,yBAAAC,aAAA,8BAAAC,SAAA,0BAAAC,UAAA,2BAAAC,UAAA,2BAAAxB,UAAA,2BAAAyB,SAAA,0BAAAC,UAAA,2BAAAC,OAAA,wBAAAC,SAAA,0BAAAC,UAAA,2BAAAC,YAAA,6BAAAC,WAAA,4BAAAC,SAAA,0BAAAC,aAAA,8BAAAC,UAAA,2BAAAC,SAAA,0BAAAC,SAAA,0BAAAC,WAAA,4BAAAC,eAAA,gCAAAC,UAAA,2BAAAC,SAAA,0BAAAC,SAAA,0BAAAC,SAAA,0BAAAC,aAAA,8BAAAC,WAAA,4BAAAC,SAAA,0BAAAC,SAAA,+DCDlBpnB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,sBAAAb,KAAA,uBAAAoC,UAAA,4BAAAyZ,SAAA,gECDlB/L,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,0BAAAb,KAAA,2BAAAyb,OAAA,6BAAA0b,SAAA,+BAAA9lB,SAAA,oECDlBvB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,qBAAAb,KAAA,sBAAAo3B,KAAA,sBAAAC,QAAA,8DCDlBvnB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,kCAAAb,KAAA,mCAAAs3B,OAAA,qCAAAC,IAAA,kCAAAp1B,QAAA,sCAAAsqB,SAAA,uCAAA+K,MAAA,yECDlB1nB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,0BAAAb,KAAA,2BAAAyb,OAAA,kECDlB3L,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,8BAAAb,KAAA,+BAAAoe,aAAA,uCAAA0O,OAAA,iCAAA2K,MAAA,gCAAApmB,SAAA,wECDlBvB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,gCAAAb,KAAA,iCAAAsR,QAAA,oCAAA1tB,MAAA,kCAAAytB,SAAA,0ECDlBvB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,2BAAAb,KAAA,4BAAA03B,aAAA,oCAAAC,KAAA,4BAAAzjC,KAAA,4BAAAmrB,KAAA,4BAAAz7B,MAAA,6BAAAg0C,KAAA,4BAAAntB,YAAA,mCAAAotB,cAAA,0ECDlB/nB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,+BAAAb,KAAA,0DAAA83B,aAAA,6ECDlBhoB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,sBAAA0zB,gBAAA,uECDlBzkB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,yBAAAb,KAAA,0BAAA+3B,OAAA,4BAAAR,IAAA,yBAAA9K,SAAA,mECDlB3c,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,4BAAAb,KAAA,6BAAA+zB,OAAA,oECDlBjkB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,sBAAAb,KAAA,uBAAAue,MAAA,wBAAAH,aAAA,+BAAA4Z,gBAAA,kCAAAC,WAAA,6BAAAC,WAAA,6BAAAxc,QAAA,0BAAAsY,QAAA,0BAAA3iB,SAAA,2BAAA0K,SAAA,2BAAAV,QAAA,0BAAAP,MAAA,6DCDlBhL,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,8BAAAb,KAAA,+BAAAsR,QAAA,kCAAA1tB,MAAA,gCAAAytB,SAAA,wECDlBvB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,6BAAAb,KAAA,8BAAAoe,aAAA,sCAAAa,OAAA,gCAAAkZ,MAAA,+BAAA5Z,MAAA,+BAAA7C,QAAA,iCAAA0c,UAAA,mCAAAC,cAAA,uCAAAN,OAAA,gCAAA1mB,SAAA,kCAAA0K,SAAA,kCAAAV,QAAA,sECDlBvL,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,uBAAAb,KAAA,wBAAAs4B,YAAA,+BAAAC,WAAA,8BAAAC,SAAA,gDAAA32B,QAAA,2BAAA0xB,cAAA,iCAAAM,eAAA,kCAAA1J,QAAA,2BAAAyJ,aAAA,gCAAA7xB,MAAA,yBAAA+xB,SAAA,4BAAA2E,MAAA,yBAAAt0C,MAAA,yBAAAu0C,KAAA,wBAAAjU,QAAA,gECDlB3U,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,uBAAAb,KAAA,wBAAA24B,QAAA,2BAAA5zC,MAAA,yBAAAq4B,YAAA,+BAAAqa,MAAA,yBAAAmB,YAAA,+BAAAvnB,SAAA,4BAAA0K,SAAA,4BAAAV,QAAA,2BAAAP,MAAA,8DCDlBhL,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,2BAAAb,KAAA,4BAAAu0B,gBAAA,uCAAAsE,KAAA,4BAAAC,KAAA,4BAAA3O,QAAA,+BAAApoB,MAAA,6BAAAyyB,MAAA,6BAAAJ,UAAA,iCAAAtU,KAAA,4BAAAG,MAAA,6BAAAF,IAAA,2BAAAC,OAAA,8BAAA+Y,QAAA,+BAAAC,SAAA,qECDlBlpB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,uBAAAb,KAAA,wBAAAoe,aAAA,gCAAA6a,MAAA,yBAAAp5C,KAAA,wBAAAs4C,MAAA,yBAAA5Z,MAAA,yBAAA8Z,cAAA,iCAAAN,OAAA,0BAAAmB,SAAA,4BAAA7nB,SAAA,4BAAA0K,SAAA,4BAAAV,QAAA,2BAAAP,MAAA,8DCDlBhL,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,yBAAAb,KAAA,0BAAAmqB,QAAA,6BAAAvmC,MAAA,2BAAAie,QAAA,6BAAAi3B,KAAA,0BAAArU,QAAA,6BAAAtgC,MAAA,2BAAA2d,QAAA,6BAAAq3B,QAAA,kECDlBrpB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,2BAAAb,KAAA,4BAAAo5B,GAAA,0BAAAv3B,QAAA,+BAAAle,OAAA,8BAAA01C,KAAA,4BAAAvZ,KAAA,4BAAAG,MAAA,6BAAA6Y,KAAA,4BAAAQ,iBAAA,6ECDlBxpB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,uBAAAb,KAAA,wBAAAoe,aAAA,gCAAAx6B,MAAA,yBAAAu0C,MAAA,yBAAAc,MAAA,yBAAAM,SAAA,4BAAAC,cAAA,iCAAAxF,QAAA,2BAAA3iB,SAAA,4BAAA0K,SAAA,4BAAAL,QAAA,2BAAAwY,SAAA,4BAAAD,QAAA,gECDlBnkB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,8BAAAb,KAAA,+BAAAy5B,WAAA,qCAAAC,UAAA,oCAAAC,kBAAA,4CAAAC,gBAAA,0CAAApF,MAAA,gCAAAqF,UAAA,oCAAAC,IAAA,8BAAAC,UAAA,oCAAAC,KAAA,+BAAAC,WAAA,qCAAAC,YAAA,2ECDlBpqB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,0BAAAb,KAAA,2BAAAue,MAAA,4BAAAlN,SAAA,+BAAA0K,SAAA,+BAAAV,QAAA,8BAAAP,MAAA,iECDlBhL,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,2BAAAb,KAAA,4BAAAvX,QAAA,+BAAA81B,MAAA,6BAAAH,aAAA,oCAAA1C,QAAA,+BAAArK,SAAA,gCAAA0K,SAAA,gCAAAV,QAAA,+BAAAP,MAAA,6BAAAoE,UAAA,iCAAAC,YAAA,wECDlBrP,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,oCAAAiB,QAAA,wCAAAE,SAAA,8ECDlB8N,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,4BAAAb,KAAA,6BAAAue,MAAA,8BAAA4b,iBAAA,yCAAA3N,MAAA,mECDlB1c,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,2BAAAb,KAAA,4BAAAo6B,YAAA,mCAAAjQ,QAAA,+BAAAkQ,kBAAA,yCAAAvB,KAAA,4BAAArB,MAAA,kECDlB3nB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,wBAAAb,KAAA,yBAAAmqB,QAAA,4BAAAnK,OAAA,2BAAAD,IAAA,wBAAAD,KAAA,yBAAAG,MAAA,+DCDlBnQ,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,kCAAAb,KAAA,mCAAAwxB,MAAA,oCAAA6F,QAAA,2ECDlBvnB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,0BAAAb,KAAA,2BAAAs6B,eAAA,0ECDlBxqB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,qBAAAb,KAAA,2DCDlB8P,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,wBAAAb,KAAA,8DCDlB8P,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,uBAAAb,KAAA,wBAAAkC,IAAA,uBAAAC,QAAA,2BAAAC,UAAA,6BAAAR,OAAA,0BAAAE,QAAA,2BAAAC,MAAA,yBAAAF,QAAA,2BAAAle,OAAA,0BAAAqe,SAAA,4BAAAC,OAAA,+DCAlBonB,EAAAC,QAAA,CAAkBzoB,QAAA,uBAAAb,KAAA,4BAAA43B,KAAA,4BAAA71B,MAAA,6BAAAo1B,SAAA,mDCDlB9N,EAAAC,QAAiBxZ,EAAAyqB,EAAuB,8CCAxClR,EAAAC,QAAiBxZ,EAAAyqB,EAAuB,+CCAxClR,EAAAC,QAAiBxZ,EAAAyqB,EAAuB,+CCAxCzqB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,uBAAAb,KAAA,wBAAAsR,QAAA,2BAAAkb,MAAA,yBAAAnb,SAAA,4BAAAztB,MAAA,8DCDlBylC,EAAAC,QAAiBxZ,EAAAyqB,EAAuB,+CCAxClR,EAAAC,QAAiBxZ,EAAAyqB,EAAuB,8CCAxClR,EAAAC,QAAiBxZ,EAAAyqB,EAAuB,uCCAxCzqB,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,4BAAAb,KAAA,6BAAAtM,KAAA,6BAAAonB,MAAA,8BAAAO,QAAA,qECDlBvL,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,qBAAA25B,eAAA,gCAAAC,UAAA,2BAAAzsB,OAAA,6DCDlB8B,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,sBAAAb,KAAA,uBAAA+b,SAAA,2BAAAV,QAAA,0BAAAP,MAAA,wBAAAe,SAAA,2BAAAxK,SAAA,2BAAAqK,QAAA,0BAAAtZ,UAAA,4BAAAqZ,OAAA,8DCDlB3L,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,2BAAA0d,MAAA,6BAAAve,KAAA,4BAAAvX,QAAA,+BAAA21B,aAAA,oCAAAC,oBAAA,2CAAAhN,SAAA,gCAAAqK,QAAA,+BAAAK,SAAA,gCAAAF,SAAA,gCAAAR,QAAA,+BAAA6D,UAAA,iCAAAC,YAAA,mCAAAlB,WAAA,kCAAAC,YAAA,mCAAAC,QAAA,+BAAAv6B,MAAA,6BAAA64B,WAAA,kCAAA3B,MAAA,kECDlBhL,EAAQ,KACRuZ,EAAAC,QAAA,CAAkBzoB,QAAA,qBAAAb,KAAA,sBAAAyxB,OAAA,wBAAAC,MAAA,uBAAAF,MAAA,uBAAAnS,KAAA,sBAAAkW,UAAA,2BAAAS,SAAA,0BAAAH,SAAA,0BAAAC,UAAA,2BAAA1B,UAAA,2BAAAsB,SAAA,0BAAAC,UAAA,2BAAAC,UAAA,2BAAAG,OAAA,wBAAAE,UAAA,2BAAAC,YAAA,6BAAAC,WAAA,4BAAAC,SAAA,0BAAAC,aAAA,8BAAAC,UAAA,2BAAAC,SAAA,0BAAAC,SAAA,0BAAAC,WAAA,4BAAAC,eAAA,gCAAAC,UAAA,2BAAAC,SAAA,0BAAAC,SAAA,0BAAAC,SAAA,0BAAAC,aAAA,8BAAAC,WAAA,4BAAAC,SAAA,0BAAAzB,QAAA,yBAAAC,aAAA,8BAAAyB,SAAA,+DCAlB7N,EAAAC,QAAA,CAAkBzoB,QAAA,wCAAAb,KAAA,6CAAA06B,QAAA,gDAAAC,QAAA,mECDlBtR,EAAAC,QAAiBxZ,EAAAyqB,EAAuB,yCCCxClR,EAAAC,QAAA,CAAkBzoB,QAAA,iCAAAb,KAAA,sCAAAykB,QAAA,yCAAA3O,OAAA,wCAAAkF,QAAA,6DCAlBqO,EAAAC,QAAA,CAAkBzoB,QAAA,+BAAAb,KAAA,oCAAApc,MAAA","file":"main.e5a8ccf8efadf4491276.bundle.js","sourcesContent":["import global from './global';\n`!has('es6-iterator')`;\nimport { isArrayLike, Iterable } from './iterator';\nimport has from '../core/has';\n`!has('es6-symbol')`;\nimport './Symbol';\n\nexport interface WeakMap<K extends object, V> {\n\t/**\n\t * Remove a `key` from the map\n\t *\n\t * @param key The key to remove\n\t * @return `true` if the value was removed, otherwise `false`\n\t */\n\tdelete(key: K): boolean;\n\n\t/**\n\t * Retrieve the value, based on the supplied `key`\n\t *\n\t * @param key The key to retrieve the `value` for\n\t * @return the `value` based on the `key` if found, otherwise `false`\n\t */\n\tget(key: K): V | undefined;\n\n\t/**\n\t * Determines if a `key` is present in the map\n\t *\n\t * @param key The `key` to check\n\t * @return `true` if the key is part of the map, otherwise `false`.\n\t */\n\thas(key: K): boolean;\n\n\t/**\n\t * Set a `value` for a particular `key`.\n\t *\n\t * @param key The `key` to set the `value` for\n\t * @param value The `value` to set\n\t * @return the instances\n\t */\n\tset(key: K, value: V): this;\n\n\treadonly [Symbol.toStringTag]: 'WeakMap';\n}\n\nexport interface WeakMapConstructor {\n\t/**\n\t * Create a new instance of a `WeakMap`\n\t *\n\t * @constructor\n\t */\n\tnew (): WeakMap<object, any>;\n\n\t/**\n\t * Create a new instance of a `WeakMap`\n\t *\n\t * @constructor\n\t *\n\t * @param iterable An iterable that contains yields up key/value pair entries\n\t */\n\tnew <K extends object, V>(iterable?: [K, V][]): WeakMap<K, V>;\n\n\t/**\n\t * Create a new instance of a `WeakMap`\n\t *\n\t * @constructor\n\t *\n\t * @param iterable An iterable that contains yields up key/value pair entries\n\t */\n\tnew <K extends object, V>(iterable: Iterable<[K, V]>): WeakMap<K, V>;\n\n\treadonly prototype: WeakMap<object, any>;\n}\n\nexport let WeakMap: WeakMapConstructor = global.WeakMap;\n\ninterface Entry<K, V> {\n\tkey: K;\n\tvalue: V;\n}\n\nif (!has('es6-weakmap')) {\n\tconst DELETED: any = {};\n\n\tconst getUID = function getUID(): number {\n\t\treturn Math.floor(Math.random() * 100000000);\n\t};\n\n\tconst generateName = (function() {\n\t\tlet startId = Math.floor(Date.now() % 100000000);\n\n\t\treturn function generateName(): string {\n\t\t\treturn '__wm' + getUID() + (startId++ + '__');\n\t\t};\n\t})();\n\n\tWeakMap = global.WeakMap = class WeakMap<K, V> {\n\t\tprivate readonly _name: string;\n\t\tprivate readonly _frozenEntries: Entry<K, V>[];\n\n\t\tconstructor(iterable?: ArrayLike<[K, V]> | Iterable<[K, V]>) {\n\t\t\tthis._name = generateName();\n\n\t\t\tthis._frozenEntries = [];\n\n\t\t\tif (iterable) {\n\t\t\t\tif (isArrayLike(iterable)) {\n\t\t\t\t\tfor (let i = 0; i < iterable.length; i++) {\n\t\t\t\t\t\tconst item = iterable[i];\n\t\t\t\t\t\tthis.set(item[0], item[1]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (const [key, value] of iterable) {\n\t\t\t\t\t\tthis.set(key, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _getFrozenEntryIndex(key: any): number {\n\t\t\tfor (let i = 0; i < this._frozenEntries.length; i++) {\n\t\t\t\tif (this._frozenEntries[i].key === key) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t}\n\n\t\tdelete(key: any): boolean {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (entry && entry.key === key && entry.value !== DELETED) {\n\t\t\t\tentry.value = DELETED;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\tthis._frozenEntries.splice(frozenIndex, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tget(key: any): V | undefined {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (entry && entry.key === key && entry.value !== DELETED) {\n\t\t\t\treturn entry.value;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\treturn this._frozenEntries[frozenIndex].value;\n\t\t\t}\n\t\t}\n\n\t\thas(key: any): boolean {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (Boolean(entry && entry.key === key && entry.value !== DELETED)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tset(key: any, value?: any): this {\n\t\t\tif (!key || (typeof key !== 'object' && typeof key !== 'function')) {\n\t\t\t\tthrow new TypeError('Invalid value used as weak map key');\n\t\t\t}\n\t\t\tlet entry: Entry<K, V> = key[this._name];\n\t\t\tif (!entry || entry.key !== key) {\n\t\t\t\tentry = Object.create(null, {\n\t\t\t\t\tkey: { value: key }\n\t\t\t\t});\n\n\t\t\t\tif (Object.isFrozen(key)) {\n\t\t\t\t\tthis._frozenEntries.push(entry);\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(key, this._name, {\n\t\t\t\t\t\tvalue: entry\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tentry.value = value;\n\t\t\treturn this;\n\t\t}\n\n\t\t[Symbol.toStringTag]: 'WeakMap' = 'WeakMap';\n\t};\n}\n\nexport default WeakMap;\n","import global from './global';\n`!has('es6-iterator')`;\nimport { isArrayLike, Iterable, IterableIterator, ShimIterator } from './iterator';\nimport has from '../core/has';\n`!has('es6-symbol')`;\nimport './Symbol';\n\nexport interface Set<T> {\n\t/**\n\t * Adds a `value` to the `Set`\n\t *\n\t * @param value The value to add to the set\n\t * @returns The instance of the `Set`\n\t */\n\tadd(value: T): this;\n\n\t/**\n\t * Removes all the values from the `Set`.\n\t */\n\tclear(): void;\n\n\t/**\n\t * Removes a `value` from the set\n\t *\n\t * @param value The value to be removed\n\t * @returns `true` if the value was removed\n\t */\n\tdelete(value: T): boolean;\n\n\t/**\n\t * Returns an iterator that yields each entry.\n\t *\n\t * @return An iterator for each key/value pair in the instance.\n\t */\n\tentries(): IterableIterator<[T, T]>;\n\n\t/**\n\t * Executes a given function for each set entry. The function\n\t * is invoked with three arguments: the element value, the\n\t * element key, and the associated `Set` instance.\n\t *\n\t * @param callbackfn The function to execute for each map entry,\n\t * @param thisArg The value to use for `this` for each execution of the calback\n\t */\n\tforEach(callbackfn: (value: T, value2: T, set: Set<T>) => void, thisArg?: any): void;\n\n\t/**\n\t * Identifies if a value is part of the set.\n\t *\n\t * @param value The value to check\n\t * @returns `true` if the value is part of the set otherwise `false`\n\t */\n\thas(value: T): boolean;\n\n\t/**\n\t * Despite its name, returns an iterable of the values in the set,\n\t */\n\tkeys(): IterableIterator<T>;\n\n\t/**\n\t * Returns the number of values in the `Set`.\n\t */\n\treadonly size: number;\n\n\t/**\n\t * Returns an iterable of values in the set.\n\t */\n\tvalues(): IterableIterator<T>;\n\n\t/** Iterates over values in the set. */\n\t[Symbol.iterator](): IterableIterator<T>;\n\n\treadonly [Symbol.toStringTag]: 'Set';\n}\n\nexport interface SetConstructor {\n\t/**\n\t * Creates a new Set\n\t *\n\t * @constructor\n\t */\n\tnew (): Set<any>;\n\n\t/**\n\t * Creates a new Set\n\t *\n\t * @constructor\n\t *\n\t * @param iterator The iterable structure to initialize the set with\n\t */\n\tnew <T>(iterator?: T[]): Set<T>;\n\n\t/**\n\t * Creates a new Set\n\t *\n\t * @constructor\n\t *\n\t * @param iterator The iterable structure to initialize the set with\n\t */\n\tnew <T>(iterator: Iterable<T>): Set<T>;\n\n\treadonly prototype: Set<any>;\n}\n\nexport let Set: SetConstructor = global.Set;\n\nif (!has('es6-set')) {\n\tSet = global.Set = class Set<T> {\n\t\tprivate readonly _setData: T[] = [];\n\n\t\tstatic [Symbol.species] = Set;\n\n\t\tconstructor(iterable?: ArrayLike<T> | Iterable<T>) {\n\t\t\tif (iterable) {\n\t\t\t\tif (isArrayLike(iterable)) {\n\t\t\t\t\tfor (let i = 0; i < iterable.length; i++) {\n\t\t\t\t\t\tthis.add(iterable[i]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (const value of iterable) {\n\t\t\t\t\t\tthis.add(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tadd(value: T): this {\n\t\t\tif (this.has(value)) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tthis._setData.push(value);\n\t\t\treturn this;\n\t\t}\n\n\t\tclear(): void {\n\t\t\tthis._setData.length = 0;\n\t\t}\n\n\t\tdelete(value: T): boolean {\n\t\t\tconst idx = this._setData.indexOf(value);\n\t\t\tif (idx === -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._setData.splice(idx, 1);\n\t\t\treturn true;\n\t\t}\n\n\t\tentries(): IterableIterator<[T, T]> {\n\t\t\treturn new ShimIterator<[any, any]>(this._setData.map<[any, any]>((value) => [value, value]));\n\t\t}\n\n\t\tforEach(callbackfn: (value: T, index: T, set: Set<T>) => void, thisArg?: any): void {\n\t\t\tconst iterator = this.values();\n\t\t\tlet result = iterator.next();\n\t\t\twhile (!result.done) {\n\t\t\t\tcallbackfn.call(thisArg, result.value, result.value, this);\n\t\t\t\tresult = iterator.next();\n\t\t\t}\n\t\t}\n\n\t\thas(value: T): boolean {\n\t\t\treturn this._setData.indexOf(value) > -1;\n\t\t}\n\n\t\tkeys(): IterableIterator<T> {\n\t\t\treturn new ShimIterator(this._setData);\n\t\t}\n\n\t\tget size(): number {\n\t\t\treturn this._setData.length;\n\t\t}\n\n\t\tvalues(): IterableIterator<T> {\n\t\t\treturn new ShimIterator(this._setData);\n\t\t}\n\n\t\t[Symbol.iterator](): IterableIterator<T> {\n\t\t\treturn new ShimIterator(this._setData);\n\t\t}\n\n\t\t[Symbol.toStringTag]: 'Set' = 'Set';\n\t};\n}\n\nexport default Set;\n","import has from '../core/has';\n\nexport interface ObjectAssign {\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param source The source object from which to copy properties.\n\t */\n\t<T, U>(target: T, source: U): T & U;\n\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param source1 The first source object from which to copy properties.\n\t * @param source2 The second source object from which to copy properties.\n\t */\n\t<T, U, V>(target: T, source1: U, source2: V): T & U & V;\n\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param source1 The first source object from which to copy properties.\n\t * @param source2 The second source object from which to copy properties.\n\t * @param source3 The third source object from which to copy properties.\n\t */\n\t<T, U, V, W>(target: T, source1: U, source2: V, source3: W): T & U & V & W;\n\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param sources One or more source objects from which to copy properties\n\t */\n\t(target: object, ...sources: any[]): any;\n}\n\nexport interface ObjectEnteries {\n\t/**\n\t * Returns an array of key/values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t<T extends { [key: string]: any }, K extends keyof T>(o: T): [keyof T, T[K]][];\n\n\t/**\n\t * Returns an array of key/values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t(o: object): [string, any][];\n}\n\nexport interface ObjectGetOwnPropertyDescriptors {\n\t<T>(o: T): { [K in keyof T]: PropertyDescriptor };\n\t(o: any): { [key: string]: PropertyDescriptor };\n}\n\nexport interface ObjectValues {\n\t/**\n\t * Returns an array of values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t<T>(o: { [s: string]: T }): T[];\n\n\t/**\n\t * Returns an array of values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t(o: object): any[];\n}\n\nexport let assign: ObjectAssign;\n\n/**\n * Gets the own property descriptor of the specified object.\n * An own property descriptor is one that is defined directly on the object and is not\n * inherited from the object's prototype.\n * @param o Object that contains the property.\n * @param p Name of the property.\n */\nexport let getOwnPropertyDescriptor: <T, K extends keyof T>(o: T, propertyKey: K) => PropertyDescriptor | undefined;\n\n/**\n * Returns the names of the own properties of an object. The own properties of an object are those that are defined directly\n * on that object, and are not inherited from the object's prototype. The properties of an object include both fields (objects) and functions.\n * @param o Object that contains the own properties.\n */\nexport let getOwnPropertyNames: (o: any) => string[];\n\n/**\n * Returns an array of all symbol properties found directly on object o.\n * @param o Object to retrieve the symbols from.\n */\nexport let getOwnPropertySymbols: (o: any) => symbol[];\n\n/**\n * Returns true if the values are the same value, false otherwise.\n * @param value1 The first value.\n * @param value2 The second value.\n */\nexport let is: (value1: any, value2: any) => boolean;\n\n/**\n * Returns the names of the enumerable properties and methods of an object.\n * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n */\nexport let keys: (o: object) => string[];\n\n/* ES7 Object static methods */\n\nexport let getOwnPropertyDescriptors: ObjectGetOwnPropertyDescriptors;\n\nexport let entries: ObjectEnteries;\n\nexport let values: ObjectValues;\n\nif (!has('es6-object')) {\n\tconst keys = Object.keys.bind(Object);\n\tObject.keys = function symbolAwareKeys(o: object): string[] {\n\t\treturn keys(o).filter((key) => !Boolean(key.match(/^@@.+/)));\n\t};\n\n\tObject.assign = function assign(target: any, ...sources: any[]) {\n\t\tif (target == null) {\n\t\t\t// TypeError if undefined or null\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t\t}\n\n\t\tconst to = Object(target);\n\t\tsources.forEach((nextSource) => {\n\t\t\tif (nextSource) {\n\t\t\t\t// Skip over if undefined or null\n\t\t\t\tkeys(nextSource).forEach((nextKey) => {\n\t\t\t\t\tto[nextKey] = nextSource[nextKey];\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn to;\n\t};\n\n\tconst getOwnPropertyNames = Object.getOwnPropertyNames.bind(Object);\n\tObject.getOwnPropertyNames = function symbolAwareGetOwnPropertyNames(o: any): string[] {\n\t\treturn getOwnPropertyNames(o).filter((key) => !Boolean(key.match(/^@@.+/)));\n\t};\n\n\tObject.getOwnPropertySymbols = function getOwnPropertySymbols(o: any): symbol[] {\n\t\treturn getOwnPropertyNames(o)\n\t\t\t.filter((key) => Boolean(key.match(/^@@.+/)))\n\t\t\t.map((key) => Symbol.for(key.substring(2)));\n\t};\n\n\tObject.is = function is(value1: any, value2: any): boolean {\n\t\tif (value1 === value2) {\n\t\t\treturn value1 !== 0 || 1 / value1 === 1 / value2; // -0\n\t\t}\n\t\treturn value1 !== value1 && value2 !== value2; // NaN\n\t};\n}\n\nif (!has('es2017-object')) {\n\tObject.getOwnPropertyDescriptors = function getOwnPropertyDescriptors<T>(\n\t\to: T\n\t): { [P in keyof T]: TypedPropertyDescriptor<T[P]> } & { [x: string]: PropertyDescriptor } {\n\t\treturn Object.getOwnPropertyNames(o).reduce(\n\t\t\t(previous, key) => {\n\t\t\t\tprevious[key] = Object.getOwnPropertyDescriptor(o, key)!;\n\t\t\t\treturn previous;\n\t\t\t},\n\t\t\t{} as { [x: string]: PropertyDescriptor }\n\t\t) as { [P in keyof T]: TypedPropertyDescriptor<T[P]> } & { [x: string]: PropertyDescriptor };\n\t};\n\n\tObject.entries = function entries(o: any): [string, any][] {\n\t\treturn keys(o).map((key) => [key, o[key]] as [string, any]);\n\t};\n\n\tObject.values = function values(o: any): any[] {\n\t\treturn keys(o).map((key) => o[key]);\n\t};\n}\n\nassign = Object.assign;\ngetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\ngetOwnPropertyNames = Object.getOwnPropertyNames;\ngetOwnPropertySymbols = Object.getOwnPropertySymbols;\nis = Object.is;\nkeys = Object.keys;\ngetOwnPropertyDescriptors = Object.getOwnPropertyDescriptors;\nentries = Object.entries;\nvalues = Object.values;\n\nexport default Object;\n","`!has('es6-iterator')`;\nimport { isArrayLike, Iterable, IterableIterator, ShimIterator } from './iterator';\nimport global from './global';\nimport { is as objectIs } from './object';\nimport has from '../core/has';\n`!has('es6-symbol')`;\nimport './Symbol';\n\nexport interface Map<K, V> {\n\t/**\n\t * Deletes all keys and their associated values.\n\t */\n\tclear(): void;\n\n\t/**\n\t * Deletes a given key and its associated value.\n\t *\n\t * @param key The key to delete\n\t * @return true if the key exists, false if it does not\n\t */\n\tdelete(key: K): boolean;\n\n\t/**\n\t * Returns an iterator that yields each key/value pair as an array.\n\t *\n\t * @return An iterator for each key/value pair in the instance.\n\t */\n\tentries(): IterableIterator<[K, V]>;\n\n\t/**\n\t * Executes a given function for each map entry. The function\n\t * is invoked with three arguments: the element value, the\n\t * element key, and the associated Map instance.\n\t *\n\t * @param callbackfn The function to execute for each map entry,\n\t * @param thisArg The value to use for `this` for each execution of the calback\n\t */\n\tforEach(callbackfn: (value: V, key: K, map: Map<K, V>) => void, thisArg?: any): void;\n\n\t/**\n\t * Returns the value associated with a given key.\n\t *\n\t * @param key The key to look up\n\t * @return The value if one exists or undefined\n\t */\n\tget(key: K): V | undefined;\n\n\t/**\n\t * Returns an iterator that yields each key in the map.\n\t *\n\t * @return An iterator containing the instance's keys.\n\t */\n\tkeys(): IterableIterator<K>;\n\n\t/**\n\t * Checks for the presence of a given key.\n\t *\n\t * @param key The key to check for\n\t * @return true if the key exists, false if it does not\n\t */\n\thas(key: K): boolean;\n\n\t/**\n\t * Sets the value associated with a given key.\n\t *\n\t * @param key The key to define a value to\n\t * @param value The value to assign\n\t * @return The Map instance\n\t */\n\tset(key: K, value: V): this;\n\n\t/**\n\t * Returns the number of key / value pairs in the Map.\n\t */\n\treadonly size: number;\n\n\t/**\n\t * Returns an iterator that yields each value in the map.\n\t *\n\t * @return An iterator containing the instance's values.\n\t */\n\tvalues(): IterableIterator<V>;\n\n\t/** Returns an iterable of entries in the map. */\n\t[Symbol.iterator](): IterableIterator<[K, V]>;\n\n\treadonly [Symbol.toStringTag]: string;\n}\n\nexport interface MapConstructor {\n\t/**\n\t * Creates a new Map\n\t *\n\t * @constructor\n\t */\n\tnew (): Map<any, any>;\n\n\t/**\n\t * Creates a new Map\n\t *\n\t * @constructor\n\t *\n\t * @param iterator\n\t * Array or iterator containing two-item tuples used to initially populate the map.\n\t * The first item in each tuple corresponds to the key of the map entry.\n\t * The second item corresponds to the value of the map entry.\n\t */\n\tnew <K, V>(iterator?: [K, V][]): Map<K, V>;\n\n\t/**\n\t * Creates a new Map\n\t *\n\t * @constructor\n\t *\n\t * @param iterator\n\t * Array or iterator containing two-item tuples used to initially populate the map.\n\t * The first item in each tuple corresponds to the key of the map entry.\n\t * The second item corresponds to the value of the map entry.\n\t */\n\tnew <K, V>(iterator: Iterable<[K, V]>): Map<K, V>;\n\n\treadonly prototype: Map<any, any>;\n\n\treadonly [Symbol.species]: MapConstructor;\n}\n\nexport let Map: MapConstructor = global.Map;\n\nif (!has('es6-map')) {\n\tMap = global.Map = class Map<K, V> {\n\t\tprotected readonly _keys: K[] = [];\n\t\tprotected readonly _values: V[] = [];\n\n\t\t/**\n\t\t * An alternative to Array.prototype.indexOf using Object.is\n\t\t * to check for equality. See http://mzl.la/1zuKO2V\n\t\t */\n\t\tprotected _indexOfKey(keys: K[], key: K): number {\n\t\t\tfor (let i = 0, length = keys.length; i < length; i++) {\n\t\t\t\tif (objectIs(keys[i], key)) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tstatic [Symbol.species] = Map;\n\n\t\tconstructor(iterable?: ArrayLike<[K, V]> | Iterable<[K, V]>) {\n\t\t\tif (iterable) {\n\t\t\t\tif (isArrayLike(iterable)) {\n\t\t\t\t\tfor (let i = 0; i < iterable.length; i++) {\n\t\t\t\t\t\tconst value = iterable[i];\n\t\t\t\t\t\tthis.set(value[0], value[1]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (const value of iterable) {\n\t\t\t\t\t\tthis.set(value[0], value[1]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tget size(): number {\n\t\t\treturn this._keys.length;\n\t\t}\n\n\t\tclear(): void {\n\t\t\tthis._keys.length = this._values.length = 0;\n\t\t}\n\n\t\tdelete(key: K): boolean {\n\t\t\tconst index = this._indexOfKey(this._keys, key);\n\t\t\tif (index < 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._keys.splice(index, 1);\n\t\t\tthis._values.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\n\t\tentries(): IterableIterator<[K, V]> {\n\t\t\tconst values = this._keys.map(\n\t\t\t\t(key: K, i: number): [K, V] => {\n\t\t\t\t\treturn [key, this._values[i]];\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn new ShimIterator(values);\n\t\t}\n\n\t\tforEach(callback: (value: V, key: K, mapInstance: Map<K, V>) => any, context?: {}) {\n\t\t\tconst keys = this._keys;\n\t\t\tconst values = this._values;\n\t\t\tfor (let i = 0, length = keys.length; i < length; i++) {\n\t\t\t\tcallback.call(context, values[i], keys[i], this);\n\t\t\t}\n\t\t}\n\n\t\tget(key: K): V | undefined {\n\t\t\tconst index = this._indexOfKey(this._keys, key);\n\t\t\treturn index < 0 ? undefined : this._values[index];\n\t\t}\n\n\t\thas(key: K): boolean {\n\t\t\treturn this._indexOfKey(this._keys, key) > -1;\n\t\t}\n\n\t\tkeys(): IterableIterator<K> {\n\t\t\treturn new ShimIterator(this._keys);\n\t\t}\n\n\t\tset(key: K, value: V): Map<K, V> {\n\t\t\tlet index = this._indexOfKey(this._keys, key);\n\t\t\tindex = index < 0 ? this._keys.length : index;\n\t\t\tthis._keys[index] = key;\n\t\t\tthis._values[index] = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tvalues(): IterableIterator<V> {\n\t\t\treturn new ShimIterator(this._values);\n\t\t}\n\n\t\t[Symbol.iterator](): IterableIterator<[K, V]> {\n\t\t\treturn this.entries();\n\t\t}\n\n\t\t[Symbol.toStringTag]: 'Map' = 'Map';\n\t};\n}\n\nexport default Map;\n","import { DNode, RenderResult } from '@dojo/framework/core/interfaces';\nimport { isVNode, isWNode } from '@dojo/framework/core/vdom';\n\ninterface AriaPropertyObject {\n\t[key: string]: string | null;\n}\n\nexport enum Keys {\n\tDown = 40,\n\tEnd = 35,\n\tEnter = 13,\n\tEscape = 27,\n\tHome = 36,\n\tLeft = 37,\n\tPageDown = 34,\n\tPageUp = 33,\n\tRight = 39,\n\tSpace = 32,\n\tTab = 9,\n\tUp = 38\n}\n\nexport function formatAriaProperties(aria: AriaPropertyObject): AriaPropertyObject {\n\tconst formattedAria = Object.keys(aria).reduce((a: AriaPropertyObject, key: string) => {\n\t\ta[`aria-${key.toLowerCase()}`] = aria[key];\n\t\treturn a;\n\t}, {});\n\treturn formattedAria;\n}\n\nexport function isRenderResult<T extends {}>(child: RenderResult | T): child is RenderResult {\n\tlet childIsRenderResult =\n\t\tchild == null ||\n\t\ttypeof child === 'string' ||\n\t\ttypeof child === 'boolean' ||\n\t\tArray.isArray(child) ||\n\t\tisWNode(child);\n\ttry {\n\t\tchildIsRenderResult = childIsRenderResult || isVNode(child as DNode);\n\t} catch {}\n\n\treturn childIsRenderResult;\n}\n","`!has('es6-iterator')`;\nimport { isArrayLike, isIterable, Iterable } from './iterator';\nimport has from '../core/has';\nimport { wrapNative } from './support/util';\n\nexport interface MapCallback<T, U> {\n\t/**\n\t * A callback function when mapping\n\t *\n\t * @param element The element that is currently being mapped\n\t * @param index The current index of the element\n\t */\n\t(element: T, index: number): U;\n}\n\nexport interface FindCallback<T> {\n\t/**\n\t * A callback function when using find\n\t *\n\t * @param element The element that is currenty being analysed\n\t * @param index The current index of the element that is being analysed\n\t * @param array The source array\n\t */\n\t(element: T, index: number, array: ArrayLike<T>): boolean;\n}\n\n/* ES6 Array static methods */\n\nexport interface From {\n\t/**\n\t * The Array.from() method creates a new Array instance from an array-like or iterable object.\n\t *\n\t * @param source An array-like or iterable object to convert to an array\n\t * @param mapFunction A map function to call on each element in the array\n\t * @param thisArg The execution context for the map function\n\t * @return The new Array\n\t */\n\t<T, U>(source: ArrayLike<T> | Iterable<T>, mapFunction: MapCallback<T, U>, thisArg?: any): Array<U>;\n\n\t/**\n\t * The Array.from() method creates a new Array instance from an array-like or iterable object.\n\t *\n\t * @param source An array-like or iterable object to convert to an array\n\t * @return The new Array\n\t */\n\t<T>(source: ArrayLike<T> | Iterable<T>): Array<T>;\n}\n\nexport interface Flat {\n\t/**\n\t * Returns a new array with all sub-array elements concatenated into it recursively up to the\n\t * specified depth.\n\t *\n\t * @param depth The maximum recursion depth\n\t */\n\t<U>(\n\t\tarr:\n\t\t\t| ReadonlyArray<U[][][][]>\n\t\t\t| ReadonlyArray<ReadonlyArray<U[][][]>>\n\t\t\t| ReadonlyArray<ReadonlyArray<U[][]>[]>\n\t\t\t| ReadonlyArray<ReadonlyArray<U[]>[][]>\n\t\t\t| ReadonlyArray<ReadonlyArray<U>[][][]>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<U[][]>>>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<U>[][]>>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<U>>[][]>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<U>[]>[]>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<U[]>>[]>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<U[]>[]>>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<ReadonlyArray<U[]>>>>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<ReadonlyArray<U>[]>>>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<ReadonlyArray<U>>[]>>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<ReadonlyArray<U>>>[]>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<ReadonlyArray<ReadonlyArray<U>>>>>,\n\t\tdepth: 4\n\t): U[];\n\n\t/**\n\t * Returns a new array with all sub-array elements concatenated into it recursively up to the\n\t * specified depth.\n\t *\n\t * @param depth The maximum recursion depth\n\t */\n\t<U>(\n\t\tarr:\n\t\t\t| ReadonlyArray<U[][][]>\n\t\t\t| ReadonlyArray<ReadonlyArray<U>[][]>\n\t\t\t| ReadonlyArray<ReadonlyArray<U[]>[]>\n\t\t\t| ReadonlyArray<ReadonlyArray<U[][]>>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<U[]>>>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<U>[]>>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<U>>[]>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<ReadonlyArray<U>>>>,\n\t\tdepth: 3\n\t): U[];\n\n\t/**\n\t * Returns a new array with all sub-array elements concatenated into it recursively up to the\n\t * specified depth.\n\t *\n\t * @param depth The maximum recursion depth\n\t */\n\t<U>(\n\t\tarr:\n\t\t\t| ReadonlyArray<U[][]>\n\t\t\t| ReadonlyArray<ReadonlyArray<U[]>>\n\t\t\t| ReadonlyArray<ReadonlyArray<U>[]>\n\t\t\t| ReadonlyArray<ReadonlyArray<ReadonlyArray<U>>>,\n\t\tdepth: 2\n\t): U[];\n\n\t/**\n\t * Returns a new array with all sub-array elements concatenated into it recursively up to the\n\t * specified depth.\n\t *\n\t * @param depth The maximum recursion depth\n\t */\n\t<U>(arr: ReadonlyArray<U[]> | ReadonlyArray<ReadonlyArray<U>>, depth?: 1): U[];\n\n\t/**\n\t * Returns a new array with all sub-array elements concatenated into it recursively up to the\n\t * specified depth.\n\t *\n\t * @param depth The maximum recursion depth\n\t */\n\t<U>(arr: ReadonlyArray<U>, depth: 0): U[];\n\n\t/**\n\t * Returns a new array with all sub-array elements concatenated into it recursively up to the\n\t * specified depth. If no depth is provided, flat method defaults to the depth of 1.\n\t *\n\t * @param depth The maximum recursion depth\n\t */\n\t<U>(arr: any[], depth?: number): any[];\n}\n\nexport interface FlatMap {\n\t/**\n\t * Calls a defined callback function on each element of an array. Then, flattens the result into\n\t * a new array.\n\t * This is identical to a map followed by flat with depth 1.\n\t *\n\t * @param callback A function that accepts up to three arguments. The flatMap method calls the\n\t * callback function one time for each element in the array.\n\t * @param thisArg An object to which the this keyword can refer in the callback function. If\n\t * thisArg is omitted, undefined is used as the this value.\n\t */\n\t<U, T extends any, This = undefined>(\n\t\tarr: T[],\n\t\tcallback: (this: This, value: T, index: number, array: T[]) => U | ReadonlyArray<U>,\n\t\tthisArg?: This\n\t): U[];\n}\n\nexport let from: From;\n\n/**\n * Creates a new array from the function parameters.\n *\n * @param arguments Any number of arguments for the array\n * @return An array from the given arguments\n */\nexport let of: <T>(...items: T[]) => Array<T>;\n\n/* ES6 Array instance methods */\n\n/**\n * Copies data internally within an array or array-like object.\n *\n * @param target The target array-like object\n * @param offset The index to start copying values to; if negative, it counts backwards from length\n * @param start The first (inclusive) index to copy; if negative, it counts backwards from length\n * @param end The last (exclusive) index to copy; if negative, it counts backwards from length\n * @return The target\n */\nexport let copyWithin: <T>(target: ArrayLike<T>, offset: number, start: number, end?: number) => ArrayLike<T>;\n\n/**\n * Fills elements of an array-like object with the specified value.\n *\n * @param target The target to fill\n * @param value The value to fill each element of the target with\n * @param start The first index to fill\n * @param end The (exclusive) index at which to stop filling\n * @return The filled target\n */\nexport let fill: <T>(target: ArrayLike<T>, value: T, start?: number, end?: number) => ArrayLike<T>;\n\n/**\n * Finds and returns the first instance matching the callback or undefined if one is not found.\n *\n * @param target An array-like object\n * @param callback A function returning if the current value matches a criteria\n * @param thisArg The execution context for the find function\n * @return The first element matching the callback, or undefined if one does not exist\n */\nexport let find: <T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}) => T | undefined;\n\n/**\n * Performs a linear search and returns the first index whose value satisfies the passed callback,\n * or -1 if no values satisfy it.\n *\n * @param target An array-like object\n * @param callback A function returning true if the current value satisfies its criteria\n * @param thisArg The execution context for the find function\n * @return The first index whose value satisfies the passed callback, or -1 if no values satisfy it\n */\nexport let findIndex: <T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}) => number;\n\n/* ES7 Array instance methods */\n\n/**\n * Determines whether an array includes a given value\n *\n * @param target the target array-like object\n * @param searchElement the item to search for\n * @param fromIndex the starting index to search from\n * @return `true` if the array includes the element, otherwise `false`\n */\nexport let includes: <T>(target: ArrayLike<T>, searchElement: T, fromIndex?: number) => boolean;\n\n/**\n * Flattens arrays to the depth specified\n *\n * @param target An array-like object\n * @param depth The depth to flatten too, defaults to 1.\n */\nexport let flat: Flat;\n\nexport let flatMap: FlatMap;\n\n// Util functions for filled implementations\n\nlet toLength: any;\nlet toInteger: any;\nlet normalizeOffset: any;\n\nif (!has('es6-array') || !has('es6-array-fill') || !has('es7-array')) {\n\tconst MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n\t/**\n\t * Ensures a non-negative, non-infinite, safe integer.\n\t *\n\t * @param length The number to validate\n\t * @return A proper length\n\t */\n\ttoLength = function toLength(length: number): number {\n\t\tif (isNaN(length)) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlength = Number(length);\n\t\tif (isFinite(length)) {\n\t\t\tlength = Math.floor(length);\n\t\t}\n\t\t// Ensure a non-negative, real, safe integer\n\t\treturn Math.min(Math.max(length, 0), MAX_SAFE_INTEGER);\n\t};\n\n\t/**\n\t * From ES6 7.1.4 ToInteger()\n\t *\n\t * @param value A value to convert\n\t * @return An integer\n\t */\n\ttoInteger = function toInteger(value: any): number {\n\t\tvalue = Number(value);\n\t\tif (isNaN(value)) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (value === 0 || !isFinite(value)) {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn (value > 0 ? 1 : -1) * Math.floor(Math.abs(value));\n\t};\n\n\t/**\n\t * Normalizes an offset against a given length, wrapping it if negative.\n\t *\n\t * @param value The original offset\n\t * @param length The total length to normalize against\n\t * @return If negative, provide a distance from the end (length); otherwise provide a distance from 0\n\t */\n\tnormalizeOffset = function normalizeOffset(value: number, length: number): number {\n\t\treturn value < 0 ? Math.max(length + value, 0) : Math.min(value, length);\n\t};\n}\n\nif (!has('es6-array')) {\n\tArray.from = function from(\n\t\tthis: ArrayConstructor,\n\t\tarrayLike: Iterable<any> | ArrayLike<any>,\n\t\tmapFunction?: MapCallback<any, any>,\n\t\tthisArg?: any\n\t): Array<any> {\n\t\tif (arrayLike == null) {\n\t\t\tthrow new TypeError('from: requires an array-like object');\n\t\t}\n\n\t\tif (mapFunction && thisArg) {\n\t\t\tmapFunction = mapFunction.bind(thisArg);\n\t\t}\n\n\t\t/* tslint:disable-next-line:variable-name */\n\t\tconst Constructor = this;\n\t\tconst length: number = toLength((arrayLike as any).length);\n\n\t\t// Support extension\n\t\tconst array: any[] =\n\t\t\ttypeof Constructor === 'function' ? <any[]>Object(new Constructor(length)) : new Array(length);\n\n\t\tif (!isArrayLike(arrayLike) && !isIterable(arrayLike)) {\n\t\t\treturn array;\n\t\t}\n\n\t\t// if this is an array and the normalized length is 0, just return an empty array. this prevents a problem\n\t\t// with the iteration on IE when using a NaN array length.\n\t\tif (isArrayLike(arrayLike)) {\n\t\t\tif (length === 0) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < arrayLike.length; i++) {\n\t\t\t\tarray[i] = mapFunction ? mapFunction(arrayLike[i], i) : arrayLike[i];\n\t\t\t}\n\t\t} else {\n\t\t\tlet i = 0;\n\t\t\tfor (const value of arrayLike) {\n\t\t\t\tarray[i] = mapFunction ? mapFunction(value, i) : value;\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\n\t\tif ((arrayLike as any).length !== undefined) {\n\t\t\tarray.length = length;\n\t\t}\n\n\t\treturn array;\n\t};\n\n\tArray.of = function of<T>(...items: T[]): Array<T> {\n\t\treturn Array.prototype.slice.call(items);\n\t};\n\n\tArray.prototype.copyWithin = function copyWithin(offset: number, start: number, end?: number) {\n\t\tif (this == null) {\n\t\t\tthrow new TypeError('copyWithin: target must be an array-like object');\n\t\t}\n\n\t\tconst length = toLength(this.length);\n\t\toffset = normalizeOffset(toInteger(offset), length);\n\t\tstart = normalizeOffset(toInteger(start), length);\n\t\tend = normalizeOffset(end === undefined ? length : toInteger(end), length);\n\t\tlet count = Math.min(end! - start, length - offset);\n\n\t\tlet direction = 1;\n\t\tif (offset > start && offset < start + count) {\n\t\t\tdirection = -1;\n\t\t\tstart += count - 1;\n\t\t\toffset += count - 1;\n\t\t}\n\n\t\twhile (count > 0) {\n\t\t\tif (start in this) {\n\t\t\t\tthis[offset] = this[start];\n\t\t\t} else {\n\t\t\t\tdelete this[offset];\n\t\t\t}\n\n\t\t\toffset += direction;\n\t\t\tstart += direction;\n\t\t\tcount--;\n\t\t}\n\n\t\treturn this;\n\t};\n\n\ttype Predicate = (this: {} | void, value: any, index: number, obj: any[]) => boolean;\n\n\tArray.prototype.find = function find(callback: Predicate, thisArg?: {}) {\n\t\tconst index = this.findIndex(callback, thisArg);\n\t\treturn index !== -1 ? this[index] : undefined;\n\t};\n\n\tArray.prototype.findIndex = function findIndex(callback: Predicate, thisArg?: {}): number {\n\t\tconst length = toLength(this.length);\n\n\t\tif (!callback) {\n\t\t\tthrow new TypeError('find: second argument must be a function');\n\t\t}\n\n\t\tif (thisArg) {\n\t\t\tcallback = callback.bind(thisArg);\n\t\t}\n\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tif (callback(this[i], i, this)) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t};\n}\n\nif (!has('es6-array-fill')) {\n\tArray.prototype.fill = function fill(value: any, start?: number, end?: number) {\n\t\tconst length = toLength(this.length);\n\t\tlet i = normalizeOffset(toInteger(start), length);\n\t\tend = normalizeOffset(end === undefined ? length : toInteger(end), length);\n\n\t\twhile (i < (end || 0)) {\n\t\t\tthis[i++] = value;\n\t\t}\n\n\t\treturn this;\n\t};\n}\n\nif (!has('es7-array')) {\n\tArray.prototype.includes = function includes(searchElement, fromIndex = 0) {\n\t\tlet len = toLength(this.length);\n\n\t\tfor (let i = fromIndex; i < len; ++i) {\n\t\t\tconst currentElement = this[i];\n\t\t\tif (\n\t\t\t\tsearchElement === currentElement ||\n\t\t\t\t(searchElement !== searchElement && currentElement !== currentElement)\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n}\n\nif (!has('es2019-array')) {\n\tArray.prototype.flat = function flat(depth: number = 1) {\n\t\treturn depth > 0\n\t\t\t? this.reduce((acc, val) => acc.concat(Array.isArray(val) ? val.flat(depth - 1) : val), [])\n\t\t\t: this.slice();\n\t};\n\n\tArray.prototype.flatMap = function flatMap(callback: any) {\n\t\treturn this.map(callback).flat();\n\t};\n}\n\nfrom = Array.from;\nof = Array.of;\ncopyWithin = wrapNative(Array.prototype.copyWithin);\nfill = wrapNative(Array.prototype.fill);\nfind = wrapNative(Array.prototype.find);\nflat = wrapNative(Array.prototype.flat) as any;\nflatMap = wrapNative(Array.prototype.flatMap) as any;\nfindIndex = wrapNative(Array.prototype.findIndex);\nincludes = wrapNative(Array.prototype.includes);\n\nexport default Array;\n","import Promise from '../shim/Promise';\n\n/**\n * Used through the toolkit as a consistent API to manage how callers can \"cleanup\"\n * when doing a function.\n */\nexport interface Handle {\n\t/**\n\t * Perform the destruction/cleanup logic associated with this Handle\n\t */\n\tdestroy(): void;\n}\n\n/**\n * No op function used to replace a Destroyable instance's `destroy` method, once the instance has been destroyed\n */\nfunction noop(): Promise<boolean> {\n\treturn Promise.resolve(false);\n}\n\n/**\n * No op function used to replace a Destroyable instance's `own` method, once the instance has been destroyed\n */\nfunction destroyed(): never {\n\tthrow new Error('Call made to destroyed method');\n}\n\nexport class Destroyable {\n\t/**\n\t * The instance's handles\n\t */\n\tprivate handles: Handle[];\n\n\t/**\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tthis.handles = [];\n\t}\n\n\t/**\n\t * Register handles for the instance that will be destroyed when `this.destroy` is called\n\t *\n\t * @param {Handle} handle The handle to add for the instance\n\t * @returns {Handle} A wrapper Handle. When the wrapper Handle's `destroy` method is invoked, the original handle is\n\t *                   removed from the instance, and its `destroy` method is invoked.\n\t */\n\town(handle: Handle): Handle {\n\t\tconst { handles: _handles } = this;\n\t\t_handles.push(handle);\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\t_handles.splice(_handles.indexOf(handle));\n\t\t\t\thandle.destroy();\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Destroys all handlers registered for the instance\n\t *\n\t * @returns {Promise<any} A Promise that resolves once all handles have been destroyed\n\t */\n\tdestroy(): Promise<any> {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.handles.forEach((handle) => {\n\t\t\t\thandle && handle.destroy && handle.destroy();\n\t\t\t});\n\t\t\tthis.destroy = noop;\n\t\t\tthis.own = destroyed;\n\t\t\tresolve(true);\n\t\t});\n\t}\n}\n\nexport default Destroyable;\n","import Map from '../shim/Map';\nimport { Destroyable, Handle } from './Destroyable';\n\n/**\n * Map of computed regular expressions, keyed by string\n */\nconst regexMap = new Map<string, RegExp>();\n\nexport type EventType = string | symbol;\n\n/**\n * The base event object, which provides a `type` property\n */\nexport interface EventObject<T = EventType> {\n\t/**\n\t * The type of the event\n\t */\n\treadonly type: T;\n}\n\n/**\n * Determines if the event type glob has been matched\n *\n * @returns boolean that indicates if the glob is matched\n */\nexport function isGlobMatch(globString: string | symbol, targetString: string | symbol): boolean {\n\tif (typeof targetString === 'string' && typeof globString === 'string' && globString.indexOf('*') !== -1) {\n\t\tlet regex: RegExp;\n\t\tif (regexMap.has(globString)) {\n\t\t\tregex = regexMap.get(globString)!;\n\t\t} else {\n\t\t\tregex = new RegExp(`^${globString.replace(/\\*/g, '.*')}$`);\n\t\t\tregexMap.set(globString, regex);\n\t\t}\n\t\treturn regex.test(targetString);\n\t} else {\n\t\treturn globString === targetString;\n\t}\n}\n\nexport type EventedCallback<T = EventType, E extends EventObject<T> = EventObject<T>> = {\n\t/**\n\t * A callback that takes an `event` argument\n\t *\n\t * @param event The event object\n\t */\n\n\t(event: E): boolean | void;\n};\n\nexport interface CustomEventTypes<T extends EventObject<any> = EventObject<any>> {\n\t[index: string]: T;\n}\n\n/**\n * A type which is either a targeted event listener or an array of listeners\n * @template T The type of target for the events\n * @template E The event type for the events\n */\nexport type EventedCallbackOrArray<T = EventType, E extends EventObject<T> = EventObject<T>> =\n\t| EventedCallback<T, E>\n\t| EventedCallback<T, E>[];\n\n/**\n * Event Class\n */\nexport class Evented<\n\tM extends CustomEventTypes = {},\n\tT = EventType,\n\tO extends EventObject<T> = EventObject<T>\n> extends Destroyable {\n\t// The following member is purely so TypeScript remembers the type of `M` when extending so\n\t// that the utilities in `on.ts` will work https://github.com/Microsoft/TypeScript/issues/20348\n\t// tslint:disable-next-line\n\tprotected __typeMap__?: M;\n\t/**\n\t * map of listeners keyed by event type\n\t */\n\tprotected listenersMap: Map<T | keyof M, EventedCallback<T, O>[]> = new Map();\n\n\t/**\n\t * Emits the event object for the specified type\n\t *\n\t * @param event the event to emit\n\t */\n\temit<K extends keyof M>(event: M[K]): void;\n\temit(event: O): void;\n\temit(event: any): void {\n\t\tthis.listenersMap.forEach((methods, type) => {\n\t\t\tif (isGlobMatch(type as any, event.type)) {\n\t\t\t\t[...methods].forEach((method) => {\n\t\t\t\t\tmethod.call(this, event);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Catch all handler for various call signatures. The signatures are defined in\n\t * `BaseEventedEvents`.  You can add your own event type -> handler types by extending\n\t * `BaseEventedEvents`.  See example for details.\n\t *\n\t * @param args\n\t *\n\t * @example\n\t *\n\t * interface WidgetBaseEvents extends BaseEventedEvents {\n\t *     (type: 'properties:changed', handler: PropertiesChangedHandler): Handle;\n\t * }\n\t * class WidgetBase extends Evented {\n\t *    on: WidgetBaseEvents;\n\t * }\n\t *\n\t * @return {any}\n\t */\n\ton<K extends keyof M>(type: K, listener: EventedCallbackOrArray<K, M[K]>): Handle;\n\ton(type: T, listener: EventedCallbackOrArray<T, O>): Handle;\n\ton(type: any, listener: EventedCallbackOrArray<any, any>): Handle {\n\t\tif (Array.isArray(listener)) {\n\t\t\tconst handles = listener.map((listener) => this._addListener(type, listener));\n\t\t\treturn {\n\t\t\t\tdestroy() {\n\t\t\t\t\thandles.forEach((handle) => handle.destroy());\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\treturn this._addListener(type, listener);\n\t}\n\n\tprivate _addListener(type: T | keyof M, listener: EventedCallback<T, O>) {\n\t\tconst listeners = this.listenersMap.get(type) || [];\n\t\tlisteners.push(listener);\n\t\tthis.listenersMap.set(type, listeners);\n\t\treturn {\n\t\t\tdestroy: () => {\n\t\t\t\tconst listeners = this.listenersMap.get(type) || [];\n\t\t\t\tlisteners.splice(listeners.indexOf(listener), 1);\n\t\t\t}\n\t\t};\n\t}\n}\n\nexport default Evented;\n","import Promise from '../shim/Promise';\nimport Map from '../shim/Map';\nimport { Evented, EventObject } from '../core/Evented';\nimport {\n\tConstructor,\n\tInjectorFactory,\n\tInjectorItem,\n\tRegistryLabel,\n\tWidgetBaseConstructor,\n\tWidgetBaseInterface,\n\tESMDefaultWidgetBase,\n\tWidgetBaseConstructorFunction,\n\tESMDefaultWidgetBaseFunction,\n\tCallback,\n\tWNodeFactory,\n\tRenderResult,\n\tWidgetBaseTypes,\n\tDefaultChildrenWNodeFactory,\n\tOptionalWNodeFactory\n} from './interfaces';\n\nexport type RegistryItem =\n\t| WidgetBaseConstructor\n\t| WNodeFactory<any>\n\t| DefaultChildrenWNodeFactory<any>\n\t| OptionalWNodeFactory<any>\n\t| Promise<WidgetBaseConstructor | WNodeFactory<any>>\n\t| WidgetBaseConstructorFunction\n\t| ESMDefaultWidgetBaseFunction;\n\n/**\n * Widget base type\n */\nexport const WIDGET_BASE_TYPE = '__widget_base_type';\n\nexport interface RegistryEventObject extends EventObject<RegistryLabel> {\n\taction: string;\n\titem:\n\t\t| WNodeFactory<any>\n\t\t| DefaultChildrenWNodeFactory<any>\n\t\t| OptionalWNodeFactory<any>\n\t\t| WidgetBaseConstructor\n\t\t| InjectorItem;\n}\n/**\n * Widget Registry Interface\n */\nexport interface RegistryInterface {\n\t/**\n\t * Define a WidgetRegistryItem against a label\n\t *\n\t * @param label The label of the widget to register\n\t * @param registryItem The registry item to define\n\t */\n\tdefine(label: RegistryLabel, registryItem: RegistryItem): void;\n\n\t/**\n\t * Return a RegistryItem for the given label, null if an entry doesn't exist\n\t *\n\t * @param widgetLabel The label of the widget to return\n\t * @returns The RegistryItem for the widgetLabel, `null` if no entry exists\n\t */\n\tget(label: RegistryLabel): WNodeFactory<any> | Callback<any, any, any, RenderResult> | Constructor<any> | null;\n\tget<T extends WNodeFactory<any>>(label: RegistryLabel): T | null;\n\tget<T extends Callback<any, any, any, RenderResult>>(label: RegistryLabel): T | null;\n\tget<T extends WidgetBaseInterface = WidgetBaseInterface>(label: RegistryLabel): Constructor<T> | null;\n\n\t/**\n\t * Returns a boolean if an entry for the label exists\n\t *\n\t * @param widgetLabel The label to search for\n\t * @returns boolean indicating if a widget registry item exists\n\t */\n\thas(label: RegistryLabel): boolean;\n\n\t/**\n\t * Define an Injector against a label\n\t *\n\t * @param label The label of the injector to register\n\t * @param registryItem The injector factory\n\t */\n\tdefineInjector(label: RegistryLabel, injectorFactory: InjectorFactory): void;\n\n\t/**\n\t * Return an Injector registry item for the given label, null if an entry doesn't exist\n\t *\n\t * @param label The label of the injector to return\n\t * @returns The RegistryItem for the widgetLabel, `null` if no entry exists\n\t */\n\tgetInjector<T>(label: RegistryLabel): InjectorItem<T> | null;\n\n\t/**\n\t * Returns a boolean if an injector for the label exists\n\t *\n\t * @param widgetLabel The label to search for\n\t * @returns boolean indicating if a injector registry item exists\n\t */\n\thasInjector(label: RegistryLabel): boolean;\n}\n\n/**\n * Checks is the item is a subclass of WidgetBase (or a WidgetBase)\n *\n * @param item the item to check\n * @returns true/false indicating if the item is a WidgetBaseConstructor\n */\nexport function isWidgetBaseConstructor<T extends WidgetBaseInterface = any>(item: any): item is Constructor<T> {\n\treturn Boolean(item && item._type === WIDGET_BASE_TYPE);\n}\n\nexport function isWidgetFunction(item: any): item is Callback<any, any, any, RenderResult> {\n\treturn Boolean(item && item.isWidget);\n}\n\nexport function isWNodeFactory<W extends WidgetBaseTypes>(node: any): node is WNodeFactory<W> {\n\tif (typeof node === 'function' && node.isFactory) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport function isWidget<T extends WidgetBaseInterface = any>(\n\titem: any\n): item is Constructor<T> | Callback<any, any, any, RenderResult> {\n\treturn isWidgetBaseConstructor(item) || isWidgetFunction(item);\n}\n\nexport function isWidgetConstructorDefaultExport<T extends WidgetBaseTypes>(\n\titem: any\n): item is ESMDefaultWidgetBase<T> {\n\treturn Boolean(\n\t\titem &&\n\t\t\titem.hasOwnProperty('__esModule') &&\n\t\t\titem.hasOwnProperty('default') &&\n\t\t\t(isWidget(item.default) || isWNodeFactory(item.default))\n\t);\n}\n\n/**\n * The Registry implementation\n */\nexport class Registry extends Evented<{}, RegistryLabel, RegistryEventObject> implements RegistryInterface {\n\t/**\n\t * internal map of labels and RegistryItem\n\t */\n\tprivate _widgetRegistry: Map<RegistryLabel, RegistryItem> | undefined;\n\n\tprivate _injectorRegistry: Map<RegistryLabel, InjectorItem> | undefined;\n\n\t/**\n\t * Emit loaded event for registry label\n\t */\n\tprivate emitLoadedEvent(\n\t\twidgetLabel: RegistryLabel,\n\t\titem:\n\t\t\t| DefaultChildrenWNodeFactory<any>\n\t\t\t| OptionalWNodeFactory<any>\n\t\t\t| WNodeFactory<any>\n\t\t\t| WidgetBaseConstructor\n\t\t\t| InjectorItem\n\t): void {\n\t\tthis.emit({\n\t\t\ttype: widgetLabel,\n\t\t\taction: 'loaded',\n\t\t\titem\n\t\t});\n\t}\n\n\tpublic define(label: RegistryLabel, item: RegistryItem): void {\n\t\tif (this._widgetRegistry === undefined) {\n\t\t\tthis._widgetRegistry = new Map();\n\t\t}\n\n\t\tif (this._widgetRegistry.has(label)) {\n\t\t\tthrow new Error(`widget has already been registered for '${label.toString()}'`);\n\t\t}\n\n\t\tthis._widgetRegistry.set(label, item);\n\n\t\tif (item instanceof Promise) {\n\t\t\titem.then(\n\t\t\t\t(widgetCtor) => {\n\t\t\t\t\tthis._widgetRegistry!.set(label, widgetCtor);\n\t\t\t\t\tthis.emitLoadedEvent(label, widgetCtor);\n\t\t\t\t\treturn widgetCtor;\n\t\t\t\t},\n\t\t\t\t(error) => {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t);\n\t\t} else if (isWidgetBaseConstructor(item)) {\n\t\t\tthis.emitLoadedEvent(label, item);\n\t\t}\n\t}\n\n\tpublic defineInjector(label: RegistryLabel, injectorFactory: InjectorFactory): void {\n\t\tif (this._injectorRegistry === undefined) {\n\t\t\tthis._injectorRegistry = new Map();\n\t\t}\n\n\t\tif (this._injectorRegistry.has(label)) {\n\t\t\tthrow new Error(`injector has already been registered for '${label.toString()}'`);\n\t\t}\n\n\t\tconst invalidator = new Evented();\n\n\t\tconst injectorItem: InjectorItem = {\n\t\t\tinjector: injectorFactory(() => invalidator.emit({ type: 'invalidate' })),\n\t\t\tinvalidator\n\t\t};\n\n\t\tthis._injectorRegistry.set(label, injectorItem);\n\t\tthis.emitLoadedEvent(label, injectorItem);\n\t}\n\n\tpublic get(\n\t\tlabel: RegistryLabel\n\t): WNodeFactory<any> | Callback<any, any, any, RenderResult> | Constructor<any> | null;\n\tpublic get<T extends WNodeFactory<any>>(label: RegistryLabel): T | null;\n\tpublic get<T extends Callback<any, any, any, RenderResult>>(label: RegistryLabel): T | null;\n\tpublic get<T extends WidgetBaseInterface = WidgetBaseInterface>(label: RegistryLabel): Constructor<T> | null;\n\tpublic get<T extends WidgetBaseInterface = WidgetBaseInterface>(\n\t\tlabel: RegistryLabel\n\t): WNodeFactory<T> | Callback<any, any, any, RenderResult> | Constructor<T> | null {\n\t\tif (!this._widgetRegistry || !this.has(label)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst item = this._widgetRegistry.get(label);\n\n\t\tif (isWidget<T>(item) || isWNodeFactory(item)) {\n\t\t\treturn item as any;\n\t\t}\n\n\t\tif (item instanceof Promise) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst promise = (<WidgetBaseConstructorFunction>item)();\n\t\tthis._widgetRegistry.set(label, promise);\n\n\t\tpromise.then(\n\t\t\t(widgetCtor: any) => {\n\t\t\t\tif (isWidgetConstructorDefaultExport<T>(widgetCtor)) {\n\t\t\t\t\twidgetCtor = widgetCtor.default;\n\t\t\t\t}\n\n\t\t\t\tthis._widgetRegistry!.set(label, widgetCtor);\n\t\t\t\tthis.emitLoadedEvent(label, widgetCtor);\n\t\t\t\treturn widgetCtor;\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t);\n\n\t\treturn null;\n\t}\n\n\tpublic getInjector<T>(label: RegistryLabel): InjectorItem<T> | null {\n\t\tif (!this._injectorRegistry || !this.hasInjector(label)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this._injectorRegistry.get(label)!;\n\t}\n\n\tpublic has(label: RegistryLabel): boolean {\n\t\treturn Boolean(this._widgetRegistry && this._widgetRegistry.has(label));\n\t}\n\n\tpublic hasInjector(label: RegistryLabel): boolean {\n\t\treturn Boolean(this._injectorRegistry && this._injectorRegistry.has(label));\n\t}\n}\n\nexport default Registry;\n","import { Column, ColumnSpec } from 'dgrid/Grid';\nimport { PropertyChangeRecord } from '@dojo/framework/core/interfaces';\nimport { auto } from '@dojo/framework/core/diff';\n\nexport function columnsDiff(prevColumnSpec: ColumnSpec, newColumnSpec: ColumnSpec): PropertyChangeRecord {\n\tlet changed = true;\n\tconst prevIsArray = Array.isArray(prevColumnSpec);\n\tconst newIsArrary = Array.isArray(newColumnSpec);\n\n\tif (prevIsArray === newIsArrary) {\n\t\tif (prevIsArray) {\n\t\t\tconst prevColumnArray = prevColumnSpec as Column[];\n\t\t\tconst newColumnArray = newColumnSpec as Column[];\n\t\t\tif (prevColumnArray.length === newColumnArray.length) {\n\t\t\t\tchanged = prevColumnArray.some((previousColumnDef, i) => {\n\t\t\t\t\treturn auto(previousColumnDef, newColumnArray[i]).changed;\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tchanged = auto(prevColumnSpec, newColumnSpec).changed;\n\t\t}\n\t}\n\n\treturn {\n\t\tchanged,\n\t\tvalue: newColumnSpec\n\t};\n}\n","import { Map } from '../shim/Map';\nimport { Evented, EventObject } from '../core/Evented';\nimport { Constructor, InjectorFactory, InjectorItem, RegistryLabel, WidgetBaseInterface } from './interfaces';\nimport { Registry, RegistryEventObject, RegistryItem } from './Registry';\n\nexport type RegistryHandlerEventMap = {\n\tinvalidate: EventObject<'invalidate'>;\n};\n\nexport class RegistryHandler extends Evented<RegistryHandlerEventMap> {\n\tprivate _registry = new Registry();\n\tprivate _registryWidgetLabelMap: Map<Registry, RegistryLabel[]> = new Map();\n\tprivate _registryInjectorLabelMap: Map<Registry, RegistryLabel[]> = new Map();\n\tprotected baseRegistry!: Registry;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.own(this._registry);\n\t\tconst destroy = () => {\n\t\t\tif (this.baseRegistry) {\n\t\t\t\tthis._registryWidgetLabelMap.delete(this.baseRegistry);\n\t\t\t\tthis._registryInjectorLabelMap.delete(this.baseRegistry);\n\t\t\t\tthis.baseRegistry = undefined as any;\n\t\t\t}\n\t\t};\n\t\tthis.own({ destroy });\n\t}\n\n\tpublic set base(baseRegistry: Registry) {\n\t\tif (this.baseRegistry) {\n\t\t\tthis._registryWidgetLabelMap.delete(this.baseRegistry);\n\t\t\tthis._registryInjectorLabelMap.delete(this.baseRegistry);\n\t\t}\n\t\tthis.baseRegistry = baseRegistry;\n\t}\n\n\tpublic get base(): Registry {\n\t\treturn this.baseRegistry;\n\t}\n\n\tpublic define(label: RegistryLabel, widget: RegistryItem): void {\n\t\tthis._registry.define(label, widget);\n\t}\n\n\tpublic defineInjector(label: RegistryLabel, injector: InjectorFactory): void {\n\t\tthis._registry.defineInjector(label, injector);\n\t}\n\n\tpublic has(label: RegistryLabel): boolean {\n\t\treturn this._registry.has(label) || Boolean(this.baseRegistry && this.baseRegistry.has(label));\n\t}\n\n\tpublic hasInjector(label: RegistryLabel): boolean {\n\t\treturn this._registry.hasInjector(label) || Boolean(this.baseRegistry && this.baseRegistry.hasInjector(label));\n\t}\n\n\tpublic get<T extends WidgetBaseInterface = WidgetBaseInterface>(\n\t\tlabel: RegistryLabel,\n\t\tglobalPrecedence: boolean = false\n\t): Constructor<T> | null {\n\t\treturn this._get(label, globalPrecedence, 'get', this._registryWidgetLabelMap);\n\t}\n\n\tpublic getInjector<T>(label: RegistryLabel, globalPrecedence: boolean = false): InjectorItem<T> | null {\n\t\treturn this._get(label, globalPrecedence, 'getInjector', this._registryInjectorLabelMap);\n\t}\n\n\tprivate _get(\n\t\tlabel: RegistryLabel,\n\t\tglobalPrecedence: boolean,\n\t\tgetFunctionName: 'getInjector' | 'get',\n\t\tlabelMap: Map<Registry, RegistryLabel[]>\n\t): any {\n\t\tconst registries = globalPrecedence ? [this.baseRegistry, this._registry] : [this._registry, this.baseRegistry];\n\t\tfor (let i = 0; i < registries.length; i++) {\n\t\t\tconst registry: any = registries[i];\n\t\t\tif (!registry) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst item = registry[getFunctionName](label);\n\t\t\tconst registeredLabels = labelMap.get(registry) || [];\n\t\t\tif (item) {\n\t\t\t\treturn item;\n\t\t\t} else if (registeredLabels.indexOf(label) === -1) {\n\t\t\t\tconst handle = registry.on(label, (event: RegistryEventObject) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tevent.action === 'loaded' &&\n\t\t\t\t\t\t(this as any)[getFunctionName](label, globalPrecedence) === event.item\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.emit({ type: 'invalidate' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.own(handle);\n\t\t\t\tlabelMap.set(registry, [...registeredLabels, label]);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\n\nexport default RegistryHandler;\n","import global from '../shim/global';\nimport has from '../core/has';\nimport WeakMap from '../shim/WeakMap';\nimport Set from '../shim/Set';\nimport Map from '../shim/Map';\nimport { flat } from '../shim/array';\nimport {\n\tWNode,\n\tVNode,\n\tDNode,\n\tVNodeProperties,\n\tTransitionStrategy,\n\tSupportedClassName,\n\tDomVNode,\n\tLazyDefine,\n\tConstructor,\n\tRenderResult,\n\tWidgetBaseInterface,\n\tCallback,\n\tMiddlewareMap,\n\tWNodeFactory,\n\tOptionalWNodeFactory,\n\tUnionToIntersection,\n\tWidgetProperties,\n\tMiddlewareResultFactory,\n\tWidgetBaseTypes,\n\tRegistryLabel,\n\tDeferredVirtualProperties,\n\tDomOptions,\n\tDefaultChildrenWNodeFactory\n} from './interfaces';\nimport { Registry, isWidget, isWidgetBaseConstructor, isWidgetFunction, isWNodeFactory } from './Registry';\nimport { auto } from './diff';\nimport RegistryHandler from './RegistryHandler';\nimport { NodeHandler } from './NodeHandler';\n\nexport namespace tsx.JSX {\n\texport type Element = WNode;\n\texport interface ElementAttributesProperty {\n\t\t__properties__: {};\n\t}\n\texport interface IntrinsicElements {\n\t\t[key: string]: VNodeProperties;\n\t}\n\texport interface ElementChildrenAttribute {\n\t\t__children__: {};\n\t}\n}\n\nexport interface BaseNodeWrapper {\n\tid: string;\n\towningId: string;\n\tnode: WNode<any> | VNode;\n\tdomNode?: Node;\n\tdepth: number;\n\torder: number;\n\trequiresInsertBefore?: boolean;\n\thasPreviousSiblings?: boolean;\n\thasParentWNode?: boolean;\n\tnamespace?: string;\n\thasAnimations?: boolean;\n\tparentId: string;\n\tchildDomWrapperId?: string;\n}\n\nexport interface WNodeWrapper extends BaseNodeWrapper {\n\tnode: WNode<any>;\n\tkeys?: string[];\n\tinstance?: any;\n\tmergeNodes?: Node[];\n\tnodeHandlerCalled?: boolean;\n\tregistryItem?: Callback<any, any, any, RenderResult> | Constructor<any> | null;\n\tproperties: any;\n}\n\nexport interface WidgetMeta {\n\twidgetName: string;\n\tmountNode: HTMLElement;\n\tdirty: boolean;\n\tinvalidator: () => void;\n\tmiddleware?: any;\n\tmiddlewareIds: string[];\n\tregistryHandler?: RegistryHandler;\n\tregistry: Registry;\n\tproperties: any;\n\toriginalProperties: any;\n\tchildren?: DNode[];\n\trendering: boolean;\n\tnodeMap?: Map<string | number, HTMLElement>;\n\tdestroyMap?: Map<string, () => void>;\n\tdeferRefs: number;\n\tcustomDiffProperties?: Set<string>;\n\tcustomDiffMap?: Map<string, Map<string, (current: any, next: any) => any>>;\n\tpropertiesCalled: boolean;\n}\n\nexport interface WidgetData {\n\tonDetach: () => void;\n\tonAttach: () => void;\n\tdirty: boolean;\n\tnodeHandler: NodeHandler;\n\tinvalidate?: Function;\n\trendering: boolean;\n\tinputProperties: any;\n\tregistry: RegistryHandler;\n}\n\nexport interface VNodeWrapper extends BaseNodeWrapper {\n\tnode: VNode | DomVNode;\n\tmerged?: boolean;\n\tinserted?: boolean;\n\tdeferredProperties?: VNodeProperties;\n}\n\nexport type DNodeWrapper = VNodeWrapper | WNodeWrapper;\n\nexport interface MountOptions {\n\tsync: boolean;\n\tmerge: boolean;\n\ttransition?: TransitionStrategy;\n\tdomNode: HTMLElement | null;\n\tregistry: Registry;\n}\n\nexport interface Renderer {\n\tinvalidate(): void;\n\tmount(mountOptions?: Partial<MountOptions>): void;\n\tunmount(): void;\n}\n\ninterface ProcessItem {\n\tcurrent?: (WNodeWrapper | VNodeWrapper)[];\n\tnext?: (WNodeWrapper | VNodeWrapper)[];\n\tmeta: ProcessMeta;\n}\n\ninterface ProcessResult {\n\titem?: ProcessItem;\n\twidget?: AttachApplication | DetachApplication;\n\tdom?: ApplicationInstruction;\n}\n\ninterface ProcessMeta {\n\tmergeNodes?: Node[];\n\toldIndex?: number;\n\tnewIndex?: number;\n}\n\ninterface InvalidationQueueItem {\n\tid: string;\n\tdepth: number;\n\torder: number;\n}\n\ninterface Instruction {\n\tcurrent: undefined | DNodeWrapper;\n\tnext: undefined | DNodeWrapper;\n}\n\ninterface CreateWidgetInstruction {\n\tnext: WNodeWrapper;\n}\n\ninterface UpdateWidgetInstruction {\n\tcurrent: WNodeWrapper;\n\tnext: WNodeWrapper;\n}\n\ninterface RemoveWidgetInstruction {\n\tcurrent: WNodeWrapper;\n}\n\ninterface CreateDomInstruction {\n\tnext: VNodeWrapper;\n}\n\ninterface UpdateDomInstruction {\n\tcurrent: VNodeWrapper;\n\tnext: VNodeWrapper;\n}\n\ninterface RemoveDomInstruction {\n\tcurrent: VNodeWrapper;\n}\n\ninterface AttachApplication {\n\ttype: 'attach';\n\tid: string;\n\tinstance?: WidgetBaseInterface;\n\tattached?: boolean;\n}\n\ninterface DetachApplication {\n\ttype: 'detach';\n\tcurrent: WNodeWrapper;\n\tinstance?: WidgetBaseInterface;\n}\n\ninterface CreateDomApplication {\n\ttype: 'create';\n\tcurrent?: VNodeWrapper;\n\tnext: VNodeWrapper;\n\tparentDomNode: Node;\n}\n\ninterface DeleteDomApplication {\n\ttype: 'delete';\n\tcurrent: VNodeWrapper;\n}\n\ninterface UpdateDomApplication {\n\ttype: 'update';\n\tcurrent: VNodeWrapper;\n\tnext: VNodeWrapper;\n}\n\ninterface PreviousProperties {\n\tproperties: any;\n\tattributes?: any;\n\tevents?: any;\n}\n\ntype ApplicationInstruction =\n\t| CreateDomApplication\n\t| UpdateDomApplication\n\t| DeleteDomApplication\n\t| Required<AttachApplication>\n\t| DetachApplication;\n\nconst EMPTY_ARRAY: DNodeWrapper[] = [];\nconst nodeOperations = ['focus', 'blur', 'scrollIntoView', 'click'];\nconst NAMESPACE_W3 = 'http://www.w3.org/';\nconst NAMESPACE_SVG = NAMESPACE_W3 + '2000/svg';\nconst NAMESPACE_XLINK = NAMESPACE_W3 + '1999/xlink';\nconst WNODE = '__WNODE_TYPE';\nconst VNODE = '__VNODE_TYPE';\nconst DOMVNODE = '__DOMVNODE_TYPE';\n\n// @ts-ignore\nconst scope = typeof __DOJO_SCOPE === 'string' ? __DOJO_SCOPE : 'dojo_scope';\n\nif (!global[scope]) {\n\tglobal[scope] = {};\n}\n\nexport function setRendering(value: boolean) {\n\tglobal[scope].rendering = value;\n}\n\nexport function incrementBlockCount() {\n\tconst blocksPending = global[scope].blocksPending || 0;\n\tglobal[scope].blocksPending = blocksPending + 1;\n}\n\nexport function decrementBlockCount() {\n\tconst blocksPending = global[scope].blocksPending || 0;\n\tglobal[scope].blocksPending = blocksPending - 1;\n}\n\nexport function isTextNode(item: any): item is Text {\n\treturn item && item.nodeType === 3;\n}\n\nfunction isLazyDefine(item: any): item is LazyDefine<any> {\n\treturn Boolean(item && item.label);\n}\n\nfunction isWNodeWrapper(child: DNodeWrapper): child is WNodeWrapper {\n\treturn child && isWNode(child.node);\n}\n\nfunction isVNodeWrapper(child?: DNodeWrapper | null): child is VNodeWrapper {\n\treturn !!child && isVNode(child.node);\n}\n\nfunction isVirtualWrapper(child?: DNodeWrapper | null): boolean {\n\treturn isVNodeWrapper(child) && child.node.tag === 'virtual';\n}\n\nfunction isBodyWrapper(wrapper?: DNodeWrapper): boolean {\n\treturn isVNodeWrapper(wrapper) && wrapper.node.tag === 'body';\n}\n\nfunction isHeadWrapper(wrapper?: DNodeWrapper): boolean {\n\treturn isVNodeWrapper(wrapper) && wrapper.node.tag === 'head';\n}\n\nfunction isSpecialWrapper(wrapper?: DNodeWrapper): boolean {\n\treturn isHeadWrapper(wrapper) || isBodyWrapper(wrapper) || isVirtualWrapper(wrapper);\n}\n\nfunction isAttachApplication(value: any): value is AttachApplication | DetachApplication {\n\treturn !!value.type;\n}\n\nexport function isWNode<W extends WidgetBaseTypes = any>(child: any): child is WNode<W> {\n\treturn Boolean(child && child !== true && typeof child !== 'string' && child.type === WNODE);\n}\n\nexport function isVNode(child: DNode): child is VNode {\n\treturn Boolean(\n\t\tchild && child !== true && typeof child !== 'string' && (child.type === VNODE || child.type === DOMVNODE)\n\t);\n}\n\nexport function isDomVNode(child: DNode): child is DomVNode {\n\treturn Boolean(child && child !== true && typeof child !== 'string' && child.type === DOMVNODE);\n}\n\nexport function isElementNode(value: any): value is Element {\n\treturn !!value.tagName;\n}\n\nfunction toTextVNode(data: any): VNode {\n\treturn {\n\t\ttag: '',\n\t\tproperties: {},\n\t\tchildren: undefined,\n\t\ttext: `${data}`,\n\t\ttype: VNODE\n\t};\n}\n\nfunction updateAttributes(\n\tdomNode: Element,\n\tpreviousAttributes: { [index: string]: string | undefined },\n\tattributes: { [index: string]: string | undefined },\n\tnamespace?: string\n) {\n\tconst attrNames = Object.keys(attributes);\n\tconst attrCount = attrNames.length;\n\tfor (let i = 0; i < attrCount; i++) {\n\t\tconst attrName = attrNames[i];\n\t\tconst attrValue = attributes[attrName];\n\t\tconst previousAttrValue = previousAttributes[attrName];\n\t\tif (attrValue !== previousAttrValue) {\n\t\t\tupdateAttribute(domNode, attrName, attrValue, namespace);\n\t\t}\n\t}\n}\n\n/**\n * Wrapper function for calls to create a widget.\n */\nexport function w<W extends WidgetBaseTypes>(\n\tnode: WNode<W>,\n\tproperties: Partial<W['properties']>,\n\tchildren?: W['properties'] extends { __children__: any } ? W['properties']['__children__'] : W['children']\n): WNode<W>;\nexport function w<W extends WidgetBaseTypes>(\n\twidgetConstructor: Constructor<W> | RegistryLabel | LazyDefine<W>,\n\tproperties: W['properties'],\n\tchildren?: W['children']\n): WNode<W>;\nexport function w<W extends WNodeFactory<any>>(\n\twidgetConstructor: W,\n\tproperties: W['properties'],\n\tchildren: W['children'] extends any[] ? W['children'] : [W['children']]\n): WNode<W>;\nexport function w<W extends DefaultChildrenWNodeFactory<any>>(\n\twidgetConstructor: W,\n\tproperties: W['properties'],\n\tchildren?: W['children']\n): WNode<W>;\nexport function w<W extends OptionalWNodeFactory<any>>(\n\twidgetConstructor: W,\n\tproperties: W['properties'],\n\tchildren?: W['children'] extends any[] ? W['children'] : [W['children']]\n): WNode<W>;\nexport function w<W extends WidgetBaseTypes>(\n\twidgetConstructorOrNode:\n\t\t| Constructor<W>\n\t\t| RegistryLabel\n\t\t| WNodeFactory<W>\n\t\t| WNode<W>\n\t\t| LazyDefine<W>\n\t\t| Callback<any, any, any, RenderResult>,\n\tproperties: W['properties'],\n\tchildren?: any\n): WNode<W> {\n\tif ((properties as any).__children__) {\n\t\tdelete (properties as any).__children__;\n\t}\n\n\tif (isWNodeFactory<W>(widgetConstructorOrNode)) {\n\t\treturn widgetConstructorOrNode(properties, children);\n\t}\n\n\tif (isWNode<W>(widgetConstructorOrNode)) {\n\t\tproperties = { ...(widgetConstructorOrNode.properties as any), ...(properties as any) };\n\t\tchildren = children ? children : widgetConstructorOrNode.children;\n\t\twidgetConstructorOrNode = widgetConstructorOrNode.widgetConstructor;\n\t}\n\n\treturn {\n\t\tchildren: children || [],\n\t\twidgetConstructor: widgetConstructorOrNode,\n\t\tproperties,\n\t\ttype: WNODE\n\t};\n}\n\n/**\n * Wrapper function for calls to create VNodes.\n */\nexport function v(node: VNode, properties: VNodeProperties, children: undefined | DNode[]): VNode;\nexport function v(node: VNode, properties: VNodeProperties): VNode;\nexport function v(tag: string, children: undefined | DNode[]): VNode;\nexport function v<K extends keyof HTMLElementTagNameMap>(\n\ttag: K,\n\tproperties: DeferredVirtualProperties | VNodeProperties<HTMLElementTagNameMap[K]>,\n\tchildren?: DNode[]\n): VNode;\nexport function v(tag: string, properties: DeferredVirtualProperties | VNodeProperties, children?: DNode[]): VNode;\nexport function v(tag: string): VNode;\nexport function v(\n\ttag: string | VNode,\n\tpropertiesOrChildren: VNodeProperties | DeferredVirtualProperties | DNode[] = {},\n\tchildren: undefined | DNode[] = undefined\n): VNode {\n\tlet properties: VNodeProperties | DeferredVirtualProperties = propertiesOrChildren;\n\tlet deferredPropertiesCallback;\n\n\tif (typeof (tag as any).tag === 'function') {\n\t\treturn (tag as any).tag(properties, children);\n\t}\n\n\tif (Array.isArray(propertiesOrChildren)) {\n\t\tchildren = propertiesOrChildren;\n\t\tproperties = {};\n\t}\n\n\tif (typeof properties === 'function') {\n\t\tdeferredPropertiesCallback = properties;\n\t\tproperties = {};\n\t}\n\n\tif (isVNode(tag)) {\n\t\tlet { classes = [], styles = {}, ...newProperties } = properties;\n\t\tlet { classes: nodeClasses = [], styles: nodeStyles = {}, ...nodeProperties } = tag.properties;\n\t\tnodeClasses = Array.isArray(nodeClasses) ? nodeClasses : [nodeClasses];\n\t\tclasses = Array.isArray(classes) ? classes : [classes];\n\t\tstyles = { ...nodeStyles, ...styles };\n\t\tproperties = { ...nodeProperties, ...newProperties, classes: [...nodeClasses, ...classes], styles };\n\t\tchildren = children ? children : tag.children;\n\t\ttag = tag.tag;\n\t}\n\n\treturn {\n\t\ttag,\n\t\tdeferredPropertiesCallback,\n\t\tchildren,\n\t\tproperties,\n\t\ttype: VNODE\n\t};\n}\n\n/**\n * Create a VNode for an existing DOM Node.\n */\nexport function dom(\n\t{ node, attrs = {}, props = {}, on = {}, diffType = 'none', onAttach }: DomOptions,\n\tchildren?: DNode[]\n): DomVNode {\n\treturn {\n\t\ttag: isElementNode(node) ? node.tagName.toLowerCase() : '',\n\t\tproperties: props,\n\t\tattributes: attrs,\n\t\tevents: on,\n\t\tchildren,\n\t\ttype: DOMVNODE,\n\t\tdomNode: node,\n\t\ttext: isElementNode(node) ? undefined : node.data,\n\t\tdiffType,\n\t\tonAttach\n\t};\n}\n\nexport const REGISTRY_ITEM = '__registry_item';\n\nexport class FromRegistry<P> {\n\tstatic type = REGISTRY_ITEM;\n\t/* tslint:disable-next-line:variable-name */\n\t__properties__: P = {} as P;\n\tname: string | undefined;\n}\n\nexport function fromRegistry<P>(tag: string): Constructor<FromRegistry<P>> {\n\treturn class extends FromRegistry<P> {\n\t\tproperties: P = {} as P;\n\t\tstatic type = REGISTRY_ITEM;\n\t\tname = tag;\n\t};\n}\n\nexport function tsx(tag: any, properties = {}, ...children: any[]): DNode {\n\tchildren = flat(children, Infinity);\n\tproperties = properties === null ? {} : properties;\n\tif (typeof tag === 'string') {\n\t\treturn v(tag, properties, children);\n\t} else if (tag.type === 'registry' && (properties as any).__autoRegistryItem) {\n\t\tconst name = (properties as any).__autoRegistryItem;\n\t\tdelete (properties as any).__autoRegistryItem;\n\t\treturn w(name, properties, children);\n\t} else if (tag.type === REGISTRY_ITEM) {\n\t\tconst registryItem = new tag();\n\t\treturn w(registryItem.name, properties, children);\n\t} else {\n\t\treturn w(tag, properties, children);\n\t}\n}\n\nexport function propertiesDiff(current: any, next: any, invalidator: () => void, ignoreProperties: string[]) {\n\tconst propertyNames = [...Object.keys(current), ...Object.keys(next)];\n\tfor (let i = 0; i < propertyNames.length; i++) {\n\t\tif (ignoreProperties.indexOf(propertyNames[i]) > -1) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst result = auto(current[propertyNames[i]], next[propertyNames[i]]);\n\t\tif (result.changed) {\n\t\t\tinvalidator();\n\t\t\tbreak;\n\t\t}\n\t\tignoreProperties.push(propertyNames[i]);\n\t}\n}\n\nfunction buildPreviousProperties(domNode: any, current: VNodeWrapper) {\n\tconst {\n\t\tnode: { diffType, properties, attributes }\n\t} = current;\n\tif (!diffType || diffType === 'vdom') {\n\t\treturn {\n\t\t\tproperties: current.deferredProperties\n\t\t\t\t? { ...current.deferredProperties, ...current.node.properties }\n\t\t\t\t: current.node.properties,\n\t\t\tattributes: current.node.attributes,\n\t\t\tevents: current.node.events\n\t\t};\n\t} else if (diffType === 'none') {\n\t\treturn {\n\t\t\tproperties: {},\n\t\t\tattributes: current.node.attributes ? {} : undefined,\n\t\t\tevents: current.node.events\n\t\t};\n\t}\n\tlet newProperties: any = {\n\t\tproperties: {}\n\t};\n\tif (attributes) {\n\t\tnewProperties.attributes = {};\n\t\tnewProperties.events = current.node.events;\n\t\tObject.keys(properties).forEach((propName) => {\n\t\t\tnewProperties.properties[propName] = domNode[propName];\n\t\t});\n\t\tObject.keys(attributes).forEach((attrName) => {\n\t\t\tnewProperties.attributes[attrName] = domNode.getAttribute(attrName);\n\t\t});\n\t\treturn newProperties;\n\t}\n\tnewProperties.properties = Object.keys(properties).reduce(\n\t\t(props, property) => {\n\t\t\tprops[property] = domNode.getAttribute(property) || domNode[property];\n\t\t\treturn props;\n\t\t},\n\t\t{} as any\n\t);\n\treturn newProperties;\n}\n\nfunction checkDistinguishable(wrappers: DNodeWrapper[], index: number, parentWNodeWrapper?: WNodeWrapper) {\n\tconst wrapperToCheck = wrappers[index];\n\tif (isVNodeWrapper(wrapperToCheck) && !wrapperToCheck.node.tag) {\n\t\treturn;\n\t}\n\tconst { key } = wrapperToCheck.node.properties;\n\tlet parentName = 'unknown';\n\tif (parentWNodeWrapper) {\n\t\tconst {\n\t\t\tnode: { widgetConstructor }\n\t\t} = parentWNodeWrapper;\n\t\tparentName = (widgetConstructor as any).name || 'unknown';\n\t}\n\n\tif (key === undefined || key === null) {\n\t\tfor (let i = 0; i < wrappers.length; i++) {\n\t\t\tif (i !== index) {\n\t\t\t\tconst wrapper = wrappers[i];\n\t\t\t\tif (same(wrapper, wrapperToCheck)) {\n\t\t\t\t\tlet nodeIdentifier: string;\n\t\t\t\t\tif (isWNodeWrapper(wrapper)) {\n\t\t\t\t\t\tnodeIdentifier = (wrapper.node.widgetConstructor as any).name || 'unknown';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnodeIdentifier = wrapper.node.tag;\n\t\t\t\t\t}\n\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`A widget (${parentName}) has had a child added or removed, but they were not able to uniquely identified. It is recommended to provide a unique 'key' property when using the same widget or element (${nodeIdentifier}) multiple times as siblings`\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction same(dnode1: DNodeWrapper, dnode2: DNodeWrapper): boolean {\n\tif (isVNodeWrapper(dnode1) && isVNodeWrapper(dnode2)) {\n\t\tif (isDomVNode(dnode1.node) && isDomVNode(dnode2.node)) {\n\t\t\tif (dnode1.node.domNode !== dnode2.node.domNode) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (dnode1.node.tag !== dnode2.node.tag) {\n\t\t\treturn false;\n\t\t}\n\t\tif (dnode1.node.properties.key !== dnode2.node.properties.key) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t} else if (isWNodeWrapper(dnode1) && isWNodeWrapper(dnode2)) {\n\t\tconst widgetConstructor1 = dnode1.registryItem || dnode1.node.widgetConstructor;\n\t\tconst widgetConstructor2 = dnode2.registryItem || dnode2.node.widgetConstructor;\n\t\tconst {\n\t\t\tnode: { properties: props1 }\n\t\t} = dnode1;\n\t\tconst {\n\t\t\tnode: { properties: props2 }\n\t\t} = dnode2;\n\t\tif (dnode1.instance === undefined && typeof widgetConstructor2 === 'string') {\n\t\t\treturn false;\n\t\t}\n\t\tif (widgetConstructor1 !== widgetConstructor2) {\n\t\t\treturn false;\n\t\t}\n\t\tif (props1.key !== props2.key) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!((widgetConstructor1 as any).keys || []).every((key: string) => props1[key] === props2[key])) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction findIndexOfChild(children: DNodeWrapper[], sameAs: DNodeWrapper, start: number) {\n\tfor (let i = start; i < children.length; i++) {\n\t\tif (same(children[i], sameAs)) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction createClassPropValue(classes: SupportedClassName | SupportedClassName[] = []) {\n\tlet classNames = '';\n\tif (Array.isArray(classes)) {\n\t\tfor (let i = 0; i < classes.length; i++) {\n\t\t\tlet className = classes[i];\n\t\t\tif (className && className !== true) {\n\t\t\t\tclassNames = classNames ? `${classNames} ${className}` : className;\n\t\t\t}\n\t\t}\n\t\treturn classNames;\n\t}\n\tif (classes && classes !== true) {\n\t\tclassNames = classes;\n\t}\n\treturn classNames;\n}\n\nfunction updateAttribute(domNode: Element, attrName: string, attrValue: string | undefined, namespace?: string) {\n\tif (namespace === NAMESPACE_SVG && attrName === 'href' && attrValue) {\n\t\tdomNode.setAttributeNS(NAMESPACE_XLINK, attrName, attrValue);\n\t} else if ((attrName === 'role' && attrValue === '') || attrValue === undefined) {\n\t\tdomNode.removeAttribute(attrName);\n\t} else {\n\t\tdomNode.setAttribute(attrName, attrValue);\n\t}\n}\n\nfunction arrayFrom(arr: any) {\n\treturn Array.prototype.slice.call(arr);\n}\n\nfunction createFactory(callback: any, middlewares: any, key?: any): any {\n\tconst factory = (properties: any, children?: any) => {\n\t\tif (properties) {\n\t\t\tconst result = w(callback, properties, children);\n\t\t\tcallback.isWidget = true;\n\t\t\tcallback.middlewares = middlewares;\n\t\t\treturn result;\n\t\t}\n\t\treturn {\n\t\t\tmiddlewares,\n\t\t\tcallback\n\t\t};\n\t};\n\tconst keys = Object.keys(middlewares).reduce((keys: string[], middlewareName: any) => {\n\t\tconst middleware = middlewares[middlewareName];\n\t\tif (middleware.keys) {\n\t\t\tkeys = [...keys, ...middleware.keys];\n\t\t}\n\t\treturn keys;\n\t}, key ? [key] : []);\n\n\tfactory.withType = () => {\n\t\treturn factory;\n\t};\n\tcallback.keys = keys;\n\tfactory.keys = keys;\n\tfactory.isFactory = true;\n\treturn factory;\n}\n\ntype KeysMatching<T, V> = { [K in keyof T]: T[K] extends V ? K : never }[keyof T];\n\nexport function create<T extends MiddlewareMap, MiddlewareProps = ReturnType<T[keyof T]>['properties']>(\n\tmiddlewares: T = {} as T\n) {\n\tfunction properties<Props>() {\n\t\tfunction returns<ReturnValue>(\n\t\t\tcallback: Callback<WidgetProperties & Props & UnionToIntersection<MiddlewareProps>, DNode[], T, ReturnValue>\n\t\t): ReturnValue extends RenderResult\n\t\t\t? DefaultChildrenWNodeFactory<{\n\t\t\t\t\tproperties: Props & WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\tchildren: DNode[];\n\t\t\t  }>\n\t\t\t: MiddlewareResultFactory<\n\t\t\t\t\tWidgetProperties & Props & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\tDNode[],\n\t\t\t\t\tT,\n\t\t\t\t\tReturnValue\n\t\t\t  > {\n\t\t\treturn createFactory(callback, middlewares);\n\t\t}\n\n\t\tfunction key(key: KeysMatching<Props, string | number>) {\n\t\t\tfunction returns<ReturnValue>(\n\t\t\t\tcallback: Callback<\n\t\t\t\t\tWidgetProperties & Props & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\tDNode[],\n\t\t\t\t\tT,\n\t\t\t\t\tReturnValue\n\t\t\t\t>\n\t\t\t): ReturnValue extends RenderResult\n\t\t\t\t? DefaultChildrenWNodeFactory<{\n\t\t\t\t\t\tproperties: Props & WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\t\tchildren: DNode[];\n\t\t\t\t  }>\n\t\t\t\t: MiddlewareResultFactory<\n\t\t\t\t\t\tWidgetProperties & Props & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\t\tDNode[],\n\t\t\t\t\t\tT,\n\t\t\t\t\t\tReturnValue\n\t\t\t\t  > {\n\t\t\t\treturn createFactory(callback, middlewares, key);\n\t\t\t}\n\t\t\treturn returns;\n\t\t}\n\n\t\tfunction children<Children>() {\n\t\t\tfunction returns<ReturnValue>(\n\t\t\t\tcallback: Callback<\n\t\t\t\t\tWidgetProperties & Props & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\tChildren,\n\t\t\t\t\tT,\n\t\t\t\t\tReturnValue\n\t\t\t\t>\n\t\t\t): ReturnValue extends RenderResult\n\t\t\t\t? UnionToIntersection<Children> extends undefined\n\t\t\t\t\t? OptionalWNodeFactory<{\n\t\t\t\t\t\t\tproperties: Props & WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\t\t\tchildren: NonNullable<Children>;\n\t\t\t\t\t  }>\n\t\t\t\t\t: WNodeFactory<{\n\t\t\t\t\t\t\tproperties: Props & WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\t\t\tchildren: Children;\n\t\t\t\t\t  }>\n\t\t\t\t: MiddlewareResultFactory<\n\t\t\t\t\t\tWidgetProperties & Props & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\t\tChildren,\n\t\t\t\t\t\tT,\n\t\t\t\t\t\tReturnValue\n\t\t\t\t  > {\n\t\t\t\treturn createFactory(callback, middlewares);\n\t\t\t}\n\n\t\t\tfunction key(key: KeysMatching<Props, string | number>) {\n\t\t\t\tfunction returns<ReturnValue>(\n\t\t\t\t\tcallback: Callback<\n\t\t\t\t\t\tWidgetProperties & Props & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\t\tChildren,\n\t\t\t\t\t\tT,\n\t\t\t\t\t\tReturnValue\n\t\t\t\t\t>\n\t\t\t\t): ReturnValue extends RenderResult\n\t\t\t\t\t? UnionToIntersection<Children> extends undefined\n\t\t\t\t\t\t? OptionalWNodeFactory<{\n\t\t\t\t\t\t\t\tproperties: Props & WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\t\t\t\tchildren: NonNullable<Children>;\n\t\t\t\t\t\t  }>\n\t\t\t\t\t\t: WNodeFactory<{\n\t\t\t\t\t\t\t\tproperties: Props & WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\t\t\t\tchildren: Children;\n\t\t\t\t\t\t  }>\n\t\t\t\t\t: MiddlewareResultFactory<\n\t\t\t\t\t\t\tWidgetProperties & Props & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\t\t\tChildren,\n\t\t\t\t\t\t\tT,\n\t\t\t\t\t\t\tReturnValue\n\t\t\t\t\t  > {\n\t\t\t\t\treturn createFactory(callback, middlewares, key);\n\t\t\t\t}\n\t\t\t\treturn returns;\n\t\t\t}\n\t\t\treturns.key = key;\n\t\t\treturn returns;\n\t\t}\n\t\treturns.children = children;\n\t\treturns.key = key;\n\t\treturn returns;\n\t}\n\n\tfunction children<Children>() {\n\t\tfunction properties<Props>() {\n\t\t\tfunction returns<ReturnValue>(\n\t\t\t\tcallback: Callback<\n\t\t\t\t\tWidgetProperties & Props & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\tChildren,\n\t\t\t\t\tT,\n\t\t\t\t\tReturnValue\n\t\t\t\t>\n\t\t\t): ReturnValue extends RenderResult\n\t\t\t\t? UnionToIntersection<Children> extends undefined\n\t\t\t\t\t? OptionalWNodeFactory<{\n\t\t\t\t\t\t\tproperties: Props & WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\t\t\tchildren: NonNullable<Children>;\n\t\t\t\t\t  }>\n\t\t\t\t\t: WNodeFactory<{\n\t\t\t\t\t\t\tproperties: Props & WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\t\t\tchildren: Children;\n\t\t\t\t\t  }>\n\t\t\t\t: MiddlewareResultFactory<\n\t\t\t\t\t\tWidgetProperties & Props & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\t\tChildren,\n\t\t\t\t\t\tT,\n\t\t\t\t\t\tReturnValue\n\t\t\t\t  > {\n\t\t\t\treturn createFactory(callback, middlewares);\n\t\t\t}\n\t\t\tfunction key(key: KeysMatching<Props, string | number>) {\n\t\t\t\tfunction returns<ReturnValue>(\n\t\t\t\t\tcallback: Callback<\n\t\t\t\t\t\tWidgetProperties & Props & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\t\tChildren,\n\t\t\t\t\t\tT,\n\t\t\t\t\t\tReturnValue\n\t\t\t\t\t>\n\t\t\t\t): ReturnValue extends RenderResult\n\t\t\t\t\t? UnionToIntersection<Children> extends undefined\n\t\t\t\t\t\t? OptionalWNodeFactory<{\n\t\t\t\t\t\t\t\tproperties: Props & WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\t\t\t\tchildren: NonNullable<Children>;\n\t\t\t\t\t\t  }>\n\t\t\t\t\t\t: WNodeFactory<{\n\t\t\t\t\t\t\t\tproperties: Props & WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\t\t\t\tchildren: Children;\n\t\t\t\t\t\t  }>\n\t\t\t\t\t: MiddlewareResultFactory<\n\t\t\t\t\t\t\tWidgetProperties & Props & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\t\t\tChildren,\n\t\t\t\t\t\t\tT,\n\t\t\t\t\t\t\tReturnValue\n\t\t\t\t\t  > {\n\t\t\t\t\treturn createFactory(callback, middlewares, key);\n\t\t\t\t}\n\t\t\t\treturn returns;\n\t\t\t}\n\t\t\treturns.key = key;\n\t\t\treturn returns;\n\t\t}\n\n\t\tfunction returns<ReturnValue>(\n\t\t\tcallback: Callback<WidgetProperties & UnionToIntersection<MiddlewareProps>, Children, T, ReturnValue>\n\t\t): ReturnValue extends RenderResult\n\t\t\t? UnionToIntersection<Children> extends undefined\n\t\t\t\t? OptionalWNodeFactory<{\n\t\t\t\t\t\tproperties: WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\t\tchildren: NonNullable<Children>;\n\t\t\t\t  }>\n\t\t\t\t: WNodeFactory<{\n\t\t\t\t\t\tproperties: WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\t\t\tchildren: Children;\n\t\t\t\t  }>\n\t\t\t: MiddlewareResultFactory<\n\t\t\t\t\tWidgetProperties & UnionToIntersection<MiddlewareProps>,\n\t\t\t\t\tNonNullable<Children>,\n\t\t\t\t\tT,\n\t\t\t\t\tReturnValue\n\t\t\t  > {\n\t\t\treturn createFactory(callback, middlewares);\n\t\t}\n\t\treturns.properties = properties;\n\t\treturn returns;\n\t}\n\n\tfunction returns<ReturnValue>(\n\t\tcallback: Callback<WidgetProperties & UnionToIntersection<MiddlewareProps>, DNode[], T, ReturnValue>\n\t): ReturnValue extends RenderResult\n\t\t? DefaultChildrenWNodeFactory<{\n\t\t\t\tproperties: WidgetProperties & UnionToIntersection<MiddlewareProps>;\n\t\t\t\tchildren: DNode[];\n\t\t  }>\n\t\t: MiddlewareResultFactory<WidgetProperties & UnionToIntersection<MiddlewareProps>, DNode[], T, ReturnValue> {\n\t\treturn createFactory(callback, middlewares);\n\t}\n\treturns.children = children;\n\treturns.properties = properties;\n\treturn returns;\n}\n\nconst factory = create();\n\nfunction wrapNodes(renderer: () => RenderResult) {\n\tconst result = renderer();\n\tconst isWNodeWrapper = isWNode(result);\n\tconst callback = () => {\n\t\treturn result;\n\t};\n\tcallback.isWNodeWrapper = isWNodeWrapper;\n\treturn factory(callback);\n}\n\nexport const widgetInstanceMap = new WeakMap<WidgetBaseInterface, WidgetData>();\nconst widgetMetaMap = new Map<string, WidgetMeta>();\nconst requestedDomNodes = new Set();\nlet wrapperId = 0;\nlet metaId = 0;\n\nfunction addNodeToMap(id: string, key: string | number, node: HTMLElement) {\n\tconst widgetMeta = widgetMetaMap.get(id);\n\tif (widgetMeta) {\n\t\twidgetMeta.nodeMap = widgetMeta.nodeMap || new Map();\n\t\twidgetMeta.nodeMap.set(key, node);\n\t\tif (requestedDomNodes.has(`${id}-${key}`)) {\n\t\t\twidgetMeta.invalidator();\n\t\t\trequestedDomNodes.delete(`${id}-${key}`);\n\t\t}\n\t}\n}\n\nfunction destroyHandles(meta: WidgetMeta) {\n\tconst { destroyMap, middlewareIds } = meta;\n\tif (!destroyMap) {\n\t\treturn;\n\t}\n\tfor (let i = 0; i < middlewareIds.length; i++) {\n\t\tconst id = middlewareIds[i];\n\t\tconst destroy = destroyMap.get(id);\n\t\tdestroy && destroy();\n\t\tdestroyMap.delete(id);\n\t\tif (destroyMap.size === 0) {\n\t\t\tbreak;\n\t\t}\n\t}\n\tdestroyMap.clear();\n}\n\nfunction runDiffs(meta: WidgetMeta, current: any, next: any) {\n\tlet customProperties: any = {};\n\tmeta.customDiffMap = meta.customDiffMap || new Map();\n\tif (meta.customDiffMap.size) {\n\t\tmeta.customDiffMap.forEach((diffMap) => {\n\t\t\tdiffMap.forEach((diff, propertyName) => {\n\t\t\t\tconst result = diff({ ...current }, { ...next });\n\t\t\t\tif (result) {\n\t\t\t\t\tcustomProperties[propertyName] = result;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\treturn customProperties;\n}\n\nexport const invalidator = factory(({ id }) => {\n\tconst [widgetId] = id.split('-');\n\treturn () => {\n\t\tconst widgetMeta = widgetMetaMap.get(widgetId);\n\t\tif (widgetMeta) {\n\t\t\treturn widgetMeta.invalidator();\n\t\t}\n\t};\n});\n\nexport const node = factory(({ id }) => {\n\treturn {\n\t\tget(key: string | number): HTMLElement | null {\n\t\t\tconst [widgetId] = id.split('-');\n\t\t\tconst widgetMeta = widgetMetaMap.get(widgetId);\n\t\t\tif (widgetMeta) {\n\t\t\t\twidgetMeta.nodeMap = widgetMeta.nodeMap || new Map();\n\t\t\t\tconst mountNode = widgetMeta.mountNode;\n\t\t\t\tconst node = widgetMeta.nodeMap.get(key);\n\t\t\t\tif (\n\t\t\t\t\tnode &&\n\t\t\t\t\t(mountNode.contains(node) ||\n\t\t\t\t\t\t(global.document.body !== mountNode && global.document.body.contains(node)))\n\t\t\t\t) {\n\t\t\t\t\treturn node;\n\t\t\t\t}\n\t\t\t\trequestedDomNodes.add(`${widgetId}-${key}`);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t};\n});\n\nexport const diffProperty = factory(({ id }) => {\n\tfunction callback<T extends (...args: any) => any, K extends keyof ReturnType<T>>(\n\t\tproperty: K,\n\t\tproperties: T,\n\t\tdiff: (current: ReturnType<T>, next: ReturnType<T>) => void | ReturnType<T>[K]\n\t): void;\n\tfunction callback(propertyName: string, diff: (current: any, next: any) => void): void;\n\tfunction callback(propertyName: string, propertiesOrDiff: any, diff?: any) {\n\t\tconst [widgetId] = id.split('-');\n\t\tconst widgetMeta = widgetMetaMap.get(widgetId);\n\t\tif (!diff) {\n\t\t\tdiff = propertiesOrDiff;\n\t\t}\n\t\tif (widgetMeta) {\n\t\t\twidgetMeta.customDiffMap = widgetMeta.customDiffMap || new Map();\n\t\t\twidgetMeta.customDiffProperties = widgetMeta.customDiffProperties || new Set();\n\t\t\tconst propertyDiffMap = widgetMeta.customDiffMap.get(id) || new Map();\n\t\t\tif (!propertyDiffMap.has(propertyName)) {\n\t\t\t\tconst result = diff({}, widgetMeta.originalProperties);\n\t\t\t\tif (result !== undefined) {\n\t\t\t\t\tif (has('dojo-debug')) {\n\t\t\t\t\t\tif (widgetMeta.propertiesCalled) {\n\t\t\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t\t\t`Calling \"propertyDiff\" middleware after accessing properties in \"${\n\t\t\t\t\t\t\t\t\twidgetMeta.widgetName\n\t\t\t\t\t\t\t\t}\", can result in referencing stale properties.`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twidgetMeta.properties = { ...widgetMeta.properties, [propertyName]: result };\n\t\t\t\t}\n\t\t\t\tpropertyDiffMap.set(propertyName, diff);\n\t\t\t\twidgetMeta.customDiffProperties.add(propertyName);\n\t\t\t}\n\t\t\twidgetMeta.customDiffMap.set(id, propertyDiffMap);\n\t\t}\n\t}\n\n\treturn callback;\n});\n\nexport const destroy = factory(({ id }) => {\n\treturn (destroyFunction: () => void): void => {\n\t\tconst [widgetId] = id.split('-');\n\t\tconst widgetMeta = widgetMetaMap.get(widgetId);\n\t\tif (widgetMeta) {\n\t\t\twidgetMeta.destroyMap = widgetMeta.destroyMap || new Map();\n\t\t\tif (!widgetMeta.destroyMap.has(id)) {\n\t\t\t\twidgetMeta.destroyMap.set(id, destroyFunction);\n\t\t\t}\n\t\t}\n\t};\n});\n\nexport const getRegistry = factory(({ id }) => {\n\tconst [widgetId] = id.split('-');\n\treturn (): RegistryHandler | null => {\n\t\tconst widgetMeta = widgetMetaMap.get(widgetId);\n\t\tif (widgetMeta) {\n\t\t\tif (!widgetMeta.registryHandler) {\n\t\t\t\twidgetMeta.registryHandler = new RegistryHandler();\n\t\t\t\twidgetMeta.registryHandler.base = widgetMeta.registry;\n\t\t\t\twidgetMeta.registryHandler.on('invalidate', widgetMeta.invalidator);\n\t\t\t}\n\t\t\twidgetMeta.registryHandler = widgetMeta.registryHandler || new RegistryHandler();\n\t\t\treturn widgetMeta.registryHandler;\n\t\t}\n\t\treturn null;\n\t};\n});\n\nexport const defer = factory(({ id }) => {\n\tconst [widgetId] = id.split('-');\n\tlet isDeferred = false;\n\treturn {\n\t\tpause() {\n\t\t\tconst widgetMeta = widgetMetaMap.get(widgetId);\n\t\t\tif (!isDeferred && widgetMeta) {\n\t\t\t\twidgetMeta.deferRefs = widgetMeta.deferRefs + 1;\n\t\t\t\tisDeferred = true;\n\t\t\t}\n\t\t},\n\t\tresume() {\n\t\t\tconst widgetMeta = widgetMetaMap.get(widgetId);\n\t\t\tif (isDeferred && widgetMeta) {\n\t\t\t\twidgetMeta.deferRefs = widgetMeta.deferRefs - 1;\n\t\t\t\tisDeferred = false;\n\t\t\t}\n\t\t}\n\t};\n});\n\nfunction wrapFunctionProperties(id: string, properties: any) {\n\tconst props: any = {};\n\tconst propertyNames = Object.keys(properties);\n\tfor (let i = 0; i < propertyNames.length; i++) {\n\t\tconst propertyName = propertyNames[i];\n\t\tif (typeof properties[propertyName] === 'function') {\n\t\t\tprops[propertyName] = function WrappedProperty(...args: any[]) {\n\t\t\t\tconst widgetMeta = widgetMetaMap.get(id);\n\t\t\t\tif (widgetMeta) {\n\t\t\t\t\treturn widgetMeta.originalProperties[propertyName](...args);\n\t\t\t\t}\n\t\t\t\treturn properties[propertyName](...args);\n\t\t\t};\n\t\t\tprops[propertyName].unwrap = () => {\n\t\t\t\tconst widgetMeta = widgetMetaMap.get(id);\n\t\t\t\tif (widgetMeta) {\n\t\t\t\t\treturn widgetMeta.originalProperties[propertyName];\n\t\t\t\t}\n\t\t\t\treturn properties[propertyName];\n\t\t\t};\n\t\t} else {\n\t\t\tprops[propertyName] = properties[propertyName];\n\t\t}\n\t}\n\treturn props;\n}\n\nexport function renderer(renderer: () => RenderResult): Renderer {\n\tlet _mountOptions: MountOptions & { domNode: HTMLElement } = {\n\t\tsync: false,\n\t\tmerge: true,\n\t\ttransition: undefined,\n\t\tdomNode: global.document.body,\n\t\tregistry: new Registry()\n\t};\n\tlet _invalidationQueue: InvalidationQueueItem[] = [];\n\tlet _processQueue: (ProcessItem | DetachApplication | AttachApplication)[] = [];\n\tlet _deferredProcessQueue: (ProcessItem | DetachApplication | AttachApplication)[] = [];\n\tlet _applicationQueue: ApplicationInstruction[] = [];\n\tlet _eventMap = new WeakMap<Function, EventListener>();\n\tlet _idToWrapperMap = new Map<string, DNodeWrapper>();\n\tlet _wrapperSiblingMap = new WeakMap<DNodeWrapper, DNodeWrapper>();\n\tlet _idToChildrenWrappers = new Map<string, DNodeWrapper[]>();\n\tlet _insertBeforeMap: undefined | WeakMap<DNodeWrapper, Node> = new WeakMap<DNodeWrapper, Node>();\n\tlet _nodeToWrapperMap = new WeakMap<VNode | WNode<any>, WNodeWrapper>();\n\tlet _renderScheduled: number | undefined;\n\tlet _deferredRenderCallbacks: Function[] = [];\n\tlet parentInvalidate: () => void;\n\tlet _allMergedNodes: Node[] = [];\n\tlet _appWrapperId: string | undefined;\n\tlet _deferredProcessIds = new Map<number, Function>();\n\n\tfunction nodeOperation(\n\t\tpropName: string,\n\t\tpropValue: (() => boolean) | boolean,\n\t\tpreviousValue: boolean,\n\t\tdomNode: HTMLElement & { [index: string]: any }\n\t): void {\n\t\tlet result = propValue && !previousValue;\n\t\tif (typeof propValue === 'function') {\n\t\t\tresult = propValue();\n\t\t}\n\t\tif (result === true) {\n\t\t\t_deferredRenderCallbacks.push(() => {\n\t\t\t\tdomNode[propName]();\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction updateEvent(\n\t\tdomNode: Node,\n\t\teventName: string,\n\t\tcurrentValue: (event: Event) => void,\n\t\tpreviousValue?: Function\n\t) {\n\t\tif (previousValue) {\n\t\t\tconst previousEvent = _eventMap.get(previousValue);\n\t\t\tpreviousEvent && domNode.removeEventListener(eventName, previousEvent);\n\t\t}\n\n\t\tlet callback = currentValue;\n\n\t\tif (eventName === 'input') {\n\t\t\tcallback = function(this: any, evt: Event) {\n\t\t\t\tcurrentValue.call(this, evt);\n\t\t\t\t(evt.target as any)['oninput-value'] = (evt.target as HTMLInputElement).value;\n\t\t\t};\n\t\t}\n\n\t\tdomNode.addEventListener(eventName, callback);\n\t\t_eventMap.set(currentValue, callback);\n\t}\n\n\tfunction removeOrphanedEvents(\n\t\tdomNode: Element,\n\t\tpreviousProperties: VNodeProperties,\n\t\tproperties: VNodeProperties,\n\t\tonlyEvents: boolean = false\n\t) {\n\t\tObject.keys(previousProperties).forEach((propName) => {\n\t\t\tconst isEvent = propName.substr(0, 2) === 'on' || onlyEvents;\n\t\t\tconst eventName = onlyEvents ? propName : propName.substr(2);\n\t\t\tif (isEvent && !properties[propName]) {\n\t\t\t\tconst eventCallback = _eventMap.get(previousProperties[propName]);\n\t\t\t\tif (eventCallback) {\n\t\t\t\t\tdomNode.removeEventListener(eventName, eventCallback);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction resolveRegistryItem(wrapper: WNodeWrapper, instance?: any, id?: string) {\n\t\tif (!isWidget(wrapper.node.widgetConstructor)) {\n\t\t\tconst owningNode = _nodeToWrapperMap.get(wrapper.node);\n\t\t\tif (owningNode) {\n\t\t\t\tif (owningNode.instance) {\n\t\t\t\t\tinstance = owningNode.instance;\n\t\t\t\t} else {\n\t\t\t\t\tid = owningNode.id;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet registry: RegistryHandler | undefined;\n\t\t\tif (instance) {\n\t\t\t\tconst instanceData = widgetInstanceMap.get(instance);\n\t\t\t\tif (instanceData) {\n\t\t\t\t\tregistry = instanceData.registry;\n\t\t\t\t}\n\t\t\t} else if (id !== undefined) {\n\t\t\t\tconst widgetMeta = widgetMetaMap.get(id);\n\t\t\t\tif (widgetMeta) {\n\t\t\t\t\tif (!widgetMeta.registryHandler) {\n\t\t\t\t\t\twidgetMeta.registryHandler = new RegistryHandler();\n\t\t\t\t\t\twidgetMeta.registryHandler.base = widgetMeta.registry;\n\t\t\t\t\t\twidgetMeta.registryHandler.on('invalidate', widgetMeta.invalidator);\n\t\t\t\t\t}\n\t\t\t\t\tregistry = widgetMeta.registryHandler;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (registry) {\n\t\t\t\tlet registryLabel: symbol | string;\n\t\t\t\tif (isLazyDefine(wrapper.node.widgetConstructor)) {\n\t\t\t\t\tconst { label, registryItem } = wrapper.node.widgetConstructor;\n\t\t\t\t\tif (!registry.has(label)) {\n\t\t\t\t\t\tregistry.define(label, registryItem);\n\t\t\t\t\t}\n\t\t\t\t\tregistryLabel = label;\n\t\t\t\t} else {\n\t\t\t\t\tregistryLabel = wrapper.node.widgetConstructor as any;\n\t\t\t\t}\n\t\t\t\tlet item = registry.get(registryLabel) as any;\n\t\t\t\tif (isWNodeFactory(item)) {\n\t\t\t\t\tconst node = item(wrapper.node.properties, wrapper.node.children);\n\t\t\t\t\tif (isWidgetFunction(node.widgetConstructor)) {\n\t\t\t\t\t\twrapper.registryItem = node.widgetConstructor;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twrapper.registryItem = item;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction mapNodeToInstance(nodes: DNode[], wrapper: WNodeWrapper) {\n\t\twhile (nodes.length) {\n\t\t\tlet node = nodes.pop();\n\t\t\tif (isWNode(node) || isVNode(node)) {\n\t\t\t\tif (!_nodeToWrapperMap.has(node)) {\n\t\t\t\t\t_nodeToWrapperMap.set(node, wrapper);\n\t\t\t\t\tif (node.children && node.children.length) {\n\t\t\t\t\t\tnodes = [...nodes, ...node.children];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction renderedToWrapper(\n\t\trendered: DNode[],\n\t\tparent: DNodeWrapper,\n\t\tcurrentParent: DNodeWrapper | null\n\t): DNodeWrapper[] {\n\t\tconst { requiresInsertBefore, hasPreviousSiblings, namespace, depth } = parent;\n\t\tconst wrappedRendered: DNodeWrapper[] = [];\n\t\tconst hasParentWNode = isWNodeWrapper(parent);\n\t\tconst hasVirtualParentNode = isVirtualWrapper(parent);\n\t\tconst currentParentChildren =\n\t\t\t(isVNodeWrapper(currentParent) && _idToChildrenWrappers.get(currentParent.id)) || [];\n\t\tconst hasCurrentParentChildren = currentParentChildren.length > 0;\n\t\tconst insertBefore =\n\t\t\t((requiresInsertBefore || hasPreviousSiblings !== false) && (hasParentWNode || hasVirtualParentNode)) ||\n\t\t\t(hasCurrentParentChildren && rendered.length > 1);\n\t\tlet previousItem: DNodeWrapper | undefined;\n\t\tif (isWNodeWrapper(parent) && rendered.length) {\n\t\t\tmapNodeToInstance([...rendered], parent);\n\t\t}\n\t\tfor (let i = 0; i < rendered.length; i++) {\n\t\t\tlet renderedItem = rendered[i];\n\t\t\tif (!renderedItem || renderedItem === true) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (typeof renderedItem === 'string') {\n\t\t\t\trenderedItem = toTextVNode(renderedItem);\n\t\t\t}\n\t\t\tconst owningNode = _nodeToWrapperMap.get(renderedItem);\n\t\t\tconst wrapper: DNodeWrapper = {\n\t\t\t\tnode: renderedItem,\n\t\t\t\tdepth: depth + 1,\n\t\t\t\torder: i,\n\t\t\t\tparentId: parent.id,\n\t\t\t\trequiresInsertBefore: insertBefore,\n\t\t\t\thasParentWNode,\n\t\t\t\tnamespace: namespace\n\t\t\t} as DNodeWrapper;\n\t\t\tif (isVNode(renderedItem)) {\n\t\t\t\tif (renderedItem.deferredPropertiesCallback) {\n\t\t\t\t\t(wrapper as VNodeWrapper).deferredProperties = renderedItem.deferredPropertiesCallback(false);\n\t\t\t\t}\n\t\t\t\tif (renderedItem.properties.exitAnimation) {\n\t\t\t\t\tparent.hasAnimations = true;\n\t\t\t\t\tlet nextParent = _idToWrapperMap.get(parent.parentId);\n\t\t\t\t\twhile (nextParent) {\n\t\t\t\t\t\tif (nextParent.hasAnimations) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnextParent.hasAnimations = true;\n\t\t\t\t\t\tnextParent = _idToWrapperMap.get(nextParent.parentId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (owningNode) {\n\t\t\t\twrapper.owningId = owningNode.id;\n\t\t\t}\n\t\t\tif (isWNode(renderedItem)) {\n\t\t\t\tresolveRegistryItem(wrapper as WNodeWrapper, (parent as any).instance, (parent as any).id);\n\t\t\t}\n\t\t\tif (previousItem) {\n\t\t\t\t_wrapperSiblingMap.set(previousItem, wrapper);\n\t\t\t}\n\t\t\twrappedRendered.push(wrapper);\n\t\t\tpreviousItem = wrapper;\n\t\t}\n\t\treturn wrappedRendered;\n\t}\n\n\tfunction findParentDomNode(currentNode: DNodeWrapper): Node | undefined {\n\t\tlet parentDomNode: Node | undefined;\n\t\tlet parentWrapper = _idToWrapperMap.get(currentNode.parentId);\n\n\t\twhile (!parentDomNode && parentWrapper) {\n\t\t\tif (\n\t\t\t\t!parentDomNode &&\n\t\t\t\tisVNodeWrapper(parentWrapper) &&\n\t\t\t\t!isVirtualWrapper(parentWrapper) &&\n\t\t\t\tparentWrapper.domNode\n\t\t\t) {\n\t\t\t\tparentDomNode = parentWrapper.domNode;\n\t\t\t}\n\t\t\tparentWrapper = _idToWrapperMap.get(parentWrapper.parentId);\n\t\t}\n\t\treturn parentDomNode;\n\t}\n\n\tfunction runDeferredProperties(next: VNodeWrapper) {\n\t\tconst { deferredPropertiesCallback } = next.node;\n\t\tif (deferredPropertiesCallback) {\n\t\t\tconst properties = next.node.properties;\n\t\t\t_deferredRenderCallbacks.push(() => {\n\t\t\t\tif (_idToWrapperMap.has(next.owningId)) {\n\t\t\t\t\tconst deferredProperties = next.deferredProperties;\n\t\t\t\t\tnext.deferredProperties = deferredPropertiesCallback(true);\n\t\t\t\t\tprocessProperties(next, {\n\t\t\t\t\t\tproperties: { ...deferredProperties, ...properties }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction findInsertBefore(next: DNodeWrapper) {\n\t\tlet insertBefore: Node | null = null;\n\t\tlet searchNode: DNodeWrapper | undefined = next;\n\t\twhile (!insertBefore) {\n\t\t\tconst nextSibling = _wrapperSiblingMap.get(searchNode);\n\t\t\tif (nextSibling) {\n\t\t\t\tif (isBodyWrapper(nextSibling) || isHeadWrapper(nextSibling)) {\n\t\t\t\t\tsearchNode = nextSibling;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet domNode = nextSibling.domNode;\n\t\t\t\tif (isWNodeWrapper(nextSibling) || isVirtualWrapper(nextSibling)) {\n\t\t\t\t\tif (!nextSibling.childDomWrapperId) {\n\t\t\t\t\t\tnextSibling.childDomWrapperId = findDomNodeOnParentWrapper(nextSibling.id);\n\t\t\t\t\t}\n\t\t\t\t\tif (nextSibling.childDomWrapperId) {\n\t\t\t\t\t\tconst childWrapper = _idToWrapperMap.get(nextSibling.childDomWrapperId);\n\t\t\t\t\t\tif (childWrapper && !isBodyWrapper(childWrapper) && !isHeadWrapper(childWrapper)) {\n\t\t\t\t\t\t\tdomNode = childWrapper.domNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (domNode && domNode.parentNode) {\n\t\t\t\t\tinsertBefore = domNode;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tsearchNode = nextSibling;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsearchNode = searchNode && _idToWrapperMap.get(searchNode.parentId);\n\t\t\tif (!searchNode || (isVNodeWrapper(searchNode) && !isVirtualWrapper(searchNode))) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn insertBefore;\n\t}\n\n\tfunction setValue(domNode: any, propValue?: any, previousValue?: any) {\n\t\tconst domValue = domNode.value;\n\t\tconst onInputValue = domNode['oninput-value'];\n\t\tconst onSelectValue = domNode['select-value'];\n\n\t\tif (onSelectValue && domValue !== onSelectValue) {\n\t\t\tdomNode.value = onSelectValue;\n\t\t\tif (domNode.value === onSelectValue) {\n\t\t\t\tdomNode['select-value'] = undefined;\n\t\t\t}\n\t\t} else if ((onInputValue && domValue === onInputValue) || propValue !== previousValue) {\n\t\t\tdomNode.value = propValue;\n\t\t\tdomNode['oninput-value'] = undefined;\n\t\t}\n\t}\n\n\tfunction setProperties(\n\t\tdomNode: HTMLElement,\n\t\tcurrentProperties: VNodeProperties = {},\n\t\tnextWrapper: VNodeWrapper,\n\t\tincludesEventsAndAttributes = true\n\t): void {\n\t\tconst properties = nextWrapper.deferredProperties\n\t\t\t? { ...nextWrapper.deferredProperties, ...nextWrapper.node.properties }\n\t\t\t: nextWrapper.node.properties;\n\t\tconst propNames = Object.keys(properties);\n\t\tconst propCount = propNames.length;\n\t\tif (propNames.indexOf('classes') === -1 && currentProperties.classes) {\n\t\t\tdomNode.removeAttribute('class');\n\t\t}\n\n\t\tincludesEventsAndAttributes && removeOrphanedEvents(domNode, currentProperties, properties);\n\n\t\tfor (let i = 0; i < propCount; i++) {\n\t\t\tconst propName = propNames[i];\n\t\t\tlet propValue = properties[propName];\n\t\t\tconst previousValue = currentProperties[propName];\n\t\t\tif (propName === 'classes') {\n\t\t\t\tconst previousClassString = createClassPropValue(previousValue);\n\t\t\t\tlet currentClassString = createClassPropValue(propValue);\n\t\t\t\tif (previousClassString !== currentClassString) {\n\t\t\t\t\tif (currentClassString) {\n\t\t\t\t\t\tif (nextWrapper.merged) {\n\t\t\t\t\t\t\tconst domClasses = (domNode.getAttribute('class') || '').split(' ');\n\t\t\t\t\t\t\tfor (let i = 0; i < domClasses.length; i++) {\n\t\t\t\t\t\t\t\tif (currentClassString.indexOf(domClasses[i]) === -1) {\n\t\t\t\t\t\t\t\t\tcurrentClassString = `${domClasses[i]} ${currentClassString}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdomNode.setAttribute('class', currentClassString);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdomNode.removeAttribute('class');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (nodeOperations.indexOf(propName) !== -1) {\n\t\t\t\tnodeOperation(propName, propValue, previousValue, domNode);\n\t\t\t} else if (propName === 'styles') {\n\t\t\t\tconst styleNames = Object.keys(propValue);\n\t\t\t\tconst styleCount = styleNames.length;\n\t\t\t\tfor (let j = 0; j < styleCount; j++) {\n\t\t\t\t\tconst styleName = styleNames[j];\n\t\t\t\t\tconst newStyleValue = propValue[styleName];\n\t\t\t\t\tconst oldStyleValue = previousValue && previousValue[styleName];\n\t\t\t\t\tif (newStyleValue === oldStyleValue) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t(domNode.style as any)[styleName] = newStyleValue || '';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!propValue && typeof previousValue === 'string') {\n\t\t\t\t\tpropValue = '';\n\t\t\t\t}\n\t\t\t\tif (propName === 'value') {\n\t\t\t\t\tif ((domNode as HTMLElement).tagName === 'SELECT') {\n\t\t\t\t\t\t(domNode as any)['select-value'] = propValue;\n\t\t\t\t\t}\n\t\t\t\t\tsetValue(domNode, propValue, previousValue);\n\t\t\t\t} else if (propName !== 'key' && propValue !== previousValue) {\n\t\t\t\t\tconst type = typeof propValue;\n\t\t\t\t\tif (type === 'function' && propName.lastIndexOf('on', 0) === 0 && includesEventsAndAttributes) {\n\t\t\t\t\t\tupdateEvent(domNode, propName.substr(2), propValue, previousValue);\n\t\t\t\t\t} else if (type === 'string' && propName !== 'innerHTML' && includesEventsAndAttributes) {\n\t\t\t\t\t\tupdateAttribute(domNode, propName, propValue, nextWrapper.namespace);\n\t\t\t\t\t} else if (propName === 'scrollLeft' || propName === 'scrollTop') {\n\t\t\t\t\t\tif ((domNode as any)[propName] !== propValue) {\n\t\t\t\t\t\t\t(domNode as any)[propName] = propValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t(domNode as any)[propName] = propValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _createDeferredRenderCallback(): (() => void) | undefined {\n\t\tconst callbacks = _deferredRenderCallbacks;\n\t\t_deferredRenderCallbacks = [];\n\t\tif (callbacks.length) {\n\t\t\treturn () => {\n\t\t\t\tlet callback: Function | undefined;\n\t\t\t\twhile ((callback = callbacks.shift())) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction _scheduleDeferredRenderCallbacks() {\n\t\tconst { sync } = _mountOptions;\n\t\tconst run = _createDeferredRenderCallback();\n\t\tif (run) {\n\t\t\tif (sync) {\n\t\t\t\trun();\n\t\t\t} else {\n\t\t\t\tlet id: number;\n\t\t\t\tid = global.requestAnimationFrame(() => {\n\t\t\t\t\t_deferredProcessIds.delete(id);\n\t\t\t\t\trun();\n\t\t\t\t});\n\t\t\t\t_deferredProcessIds.set(id, run);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction processProperties(next: VNodeWrapper, previousProperties: PreviousProperties) {\n\t\tif (next.node.attributes && next.node.events) {\n\t\t\tupdateAttributes(\n\t\t\t\tnext.domNode as HTMLElement,\n\t\t\t\tpreviousProperties.attributes || {},\n\t\t\t\tnext.node.attributes,\n\t\t\t\tnext.namespace\n\t\t\t);\n\t\t\tsetProperties(next.domNode as HTMLElement, previousProperties.properties, next, false);\n\t\t\tconst events = next.node.events || {};\n\t\t\tif (previousProperties.events) {\n\t\t\t\tremoveOrphanedEvents(\n\t\t\t\t\tnext.domNode as HTMLElement,\n\t\t\t\t\tpreviousProperties.events || {},\n\t\t\t\t\tnext.node.events,\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\t\t\tpreviousProperties.events = previousProperties.events || {};\n\t\t\tObject.keys(events).forEach((event) => {\n\t\t\t\tupdateEvent(next.domNode as HTMLElement, event, events[event], previousProperties.events[event]);\n\t\t\t});\n\t\t} else {\n\t\t\tsetProperties(next.domNode as HTMLElement, previousProperties.properties, next);\n\t\t}\n\t}\n\n\tfunction unmount() {\n\t\t_processQueue.push({\n\t\t\tcurrent: [_idToWrapperMap.get(_appWrapperId!)!],\n\t\t\tnext: [],\n\t\t\tmeta: {}\n\t\t});\n\t\tif (_renderScheduled) {\n\t\t\tglobal.cancelAnimationFrame(_renderScheduled);\n\t\t}\n\t\t_runProcessQueue();\n\t\t_runDomInstructionQueue();\n\t\t_deferredProcessIds.forEach((callback, id) => {\n\t\t\tglobal.cancelAnimationFrame(id);\n\t\t\tcallback();\n\t\t});\n\t\tconst run = _createDeferredRenderCallback();\n\t\trun && run();\n\t\t_invalidationQueue = [];\n\t\t_processQueue = [];\n\t\t_deferredProcessQueue = [];\n\t\t_applicationQueue = [];\n\t\t_deferredRenderCallbacks = [];\n\t\t_allMergedNodes = [];\n\t\t_eventMap = new WeakMap();\n\t\t_idToWrapperMap.clear();\n\t\t_idToChildrenWrappers.clear();\n\t\t_wrapperSiblingMap = new WeakMap();\n\t\t_nodeToWrapperMap = new WeakMap();\n\t\t_insertBeforeMap = undefined;\n\t}\n\n\tfunction mount(mountOptions: Partial<MountOptions> = {}) {\n\t\tlet domNode = mountOptions.domNode;\n\t\tif (!domNode) {\n\t\t\tif (has('dojo-debug') && domNode === null) {\n\t\t\t\tconsole.warn('Unable to find node to mount the application, defaulting to the document body.');\n\t\t\t}\n\t\t\tdomNode = global.document.body as HTMLElement;\n\t\t}\n\t\t_mountOptions = { ..._mountOptions, ...mountOptions, domNode };\n\t\tconst renderResult = wrapNodes(renderer)({}, []);\n\t\t_appWrapperId = `${wrapperId++}`;\n\t\tconst nextWrapper = {\n\t\t\tid: _appWrapperId,\n\t\t\tnode: renderResult,\n\t\t\torder: 0,\n\t\t\tdepth: 1,\n\t\t\towningId: '-1',\n\t\t\tparentId: '-1',\n\t\t\tsiblingId: '-1',\n\t\t\tproperties: {}\n\t\t};\n\t\t_idToWrapperMap.set('-1', {\n\t\t\tid: `-1`,\n\t\t\tdepth: 0,\n\t\t\torder: 0,\n\t\t\towningId: '',\n\t\t\tdomNode,\n\t\t\tnode: v('fake'),\n\t\t\tparentId: '-1'\n\t\t});\n\t\t_processQueue.push({\n\t\t\tcurrent: [],\n\t\t\tnext: [nextWrapper],\n\t\t\tmeta: { mergeNodes: arrayFrom(domNode.childNodes) }\n\t\t});\n\t\t_runProcessQueue();\n\t\t_runDomInstructionQueue();\n\t\t_cleanUpMergedNodes();\n\t\t_insertBeforeMap = undefined;\n\t\t_scheduleDeferredRenderCallbacks();\n\t\tif (!_renderScheduled) {\n\t\t\tsetRendering(false);\n\t\t}\n\t}\n\n\tfunction invalidate() {\n\t\tparentInvalidate && parentInvalidate();\n\t}\n\n\tfunction _schedule(): void {\n\t\tconst { sync } = _mountOptions;\n\t\tif (sync) {\n\t\t\t_runInvalidationQueue();\n\t\t} else if (!_renderScheduled) {\n\t\t\tsetRendering(true);\n\t\t\t_renderScheduled = global.requestAnimationFrame(() => {\n\t\t\t\t_runInvalidationQueue();\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction getWNodeWrapper(id: string) {\n\t\tconst wrapper = _idToWrapperMap.get(id);\n\t\tif (wrapper && isWNodeWrapper(wrapper)) {\n\t\t\treturn wrapper;\n\t\t}\n\t}\n\n\tfunction _runInvalidationQueue() {\n\t\t_renderScheduled = undefined;\n\t\tlet invalidationQueue = [..._invalidationQueue];\n\t\tconst previouslyRendered = [];\n\t\t_invalidationQueue = [];\n\t\tinvalidationQueue.sort((a, b) => {\n\t\t\tlet result = b.depth - a.depth;\n\t\t\tif (result === 0) {\n\t\t\t\tresult = b.order - a.order;\n\t\t\t}\n\t\t\treturn result;\n\t\t});\n\t\tif (_deferredProcessQueue.length) {\n\t\t\t_processQueue = [..._deferredProcessQueue];\n\t\t\t_deferredProcessQueue = [];\n\t\t\t_runProcessQueue();\n\t\t\tif (_deferredProcessQueue.length) {\n\t\t\t\t_invalidationQueue = [...invalidationQueue];\n\t\t\t\tinvalidationQueue = [];\n\t\t\t}\n\t\t}\n\t\tlet item: InvalidationQueueItem | undefined;\n\t\twhile ((item = invalidationQueue.pop())) {\n\t\t\tlet { id } = item;\n\t\t\tconst current = getWNodeWrapper(id);\n\t\t\tif (!current || previouslyRendered.indexOf(id) !== -1 || !_idToWrapperMap.has(current.parentId)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tpreviouslyRendered.push(id);\n\t\t\tconst sibling = _wrapperSiblingMap.get(current);\n\t\t\tconst next = {\n\t\t\t\tnode: {\n\t\t\t\t\ttype: WNODE,\n\t\t\t\t\twidgetConstructor: current.node.widgetConstructor,\n\t\t\t\t\tproperties: current.properties || {},\n\t\t\t\t\tchildren: current.node.children || []\n\t\t\t\t},\n\t\t\t\tinstance: current.instance,\n\t\t\t\tid: current.id,\n\t\t\t\tproperties: current.properties,\n\t\t\t\tdepth: current.depth,\n\t\t\t\torder: current.order,\n\t\t\t\towningId: current.owningId,\n\t\t\t\tparentId: current.parentId,\n\t\t\t\tregistryItem: current.registryItem\n\t\t\t};\n\n\t\t\tsibling && _wrapperSiblingMap.set(next, sibling);\n\t\t\tconst result = _updateWidget({ current, next });\n\t\t\tif (result && result.item) {\n\t\t\t\t_processQueue.push(result.item);\n\t\t\t\t_idToWrapperMap.set(id, next);\n\t\t\t\t_runProcessQueue();\n\t\t\t}\n\t\t}\n\t\t_runDomInstructionQueue();\n\t\t_cleanUpMergedNodes();\n\t\t_scheduleDeferredRenderCallbacks();\n\t\tif (!_renderScheduled) {\n\t\t\tsetRendering(false);\n\t\t}\n\t}\n\n\tfunction _cleanUpMergedNodes() {\n\t\tif (_deferredProcessQueue.length === 0) {\n\t\t\tlet mergedNode: Node | undefined;\n\t\t\twhile ((mergedNode = _allMergedNodes.pop())) {\n\t\t\t\tmergedNode.parentNode && mergedNode.parentNode.removeChild(mergedNode);\n\t\t\t}\n\t\t\t_mountOptions.merge = false;\n\t\t}\n\t}\n\n\tfunction _runProcessQueue() {\n\t\tlet item: DetachApplication | AttachApplication | ProcessItem | undefined;\n\t\twhile ((item = _processQueue.pop())) {\n\t\t\tif (isAttachApplication(item)) {\n\t\t\t\titem.instance && _applicationQueue.push(item as any);\n\t\t\t} else {\n\t\t\t\tconst { current, next, meta } = item;\n\t\t\t\t_process(current || EMPTY_ARRAY, next || EMPTY_ARRAY, meta);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _runDomInstructionQueue(): void {\n\t\t_applicationQueue.reverse();\n\t\tlet item: ApplicationInstruction | undefined;\n\t\twhile ((item = _applicationQueue.pop())) {\n\t\t\tif (item.type === 'create') {\n\t\t\t\tconst {\n\t\t\t\t\tparentDomNode,\n\t\t\t\t\tnext,\n\t\t\t\t\tnext: { domNode, merged, requiresInsertBefore, node }\n\t\t\t\t} = item;\n\n\t\t\t\tprocessProperties(next, { properties: {} });\n\t\t\t\trunDeferredProperties(next);\n\t\t\t\tif (!merged) {\n\t\t\t\t\tlet insertBefore: any;\n\t\t\t\t\tif (requiresInsertBefore) {\n\t\t\t\t\t\tinsertBefore = findInsertBefore(next);\n\t\t\t\t\t} else if (_insertBeforeMap) {\n\t\t\t\t\t\tinsertBefore = _insertBeforeMap.get(next);\n\t\t\t\t\t}\n\t\t\t\t\tparentDomNode.insertBefore(domNode!, insertBefore);\n\t\t\t\t\tif (isDomVNode(next.node) && next.node.onAttach) {\n\t\t\t\t\t\tnext.node.onAttach();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ((domNode as HTMLElement).tagName === 'OPTION' && domNode!.parentElement) {\n\t\t\t\t\tsetValue(domNode!.parentElement);\n\t\t\t\t}\n\t\t\t\tconst { enterAnimation, enterAnimationActive } = node.properties;\n\t\t\t\tif (_mountOptions.transition && enterAnimation && enterAnimation !== true) {\n\t\t\t\t\t_mountOptions.transition.enter(domNode as HTMLElement, enterAnimation, enterAnimationActive);\n\t\t\t\t}\n\t\t\t\tconst owningWrapper = _nodeToWrapperMap.get(next.node);\n\t\t\t\tif (owningWrapper && node.properties.key != null) {\n\t\t\t\t\tif (owningWrapper.instance) {\n\t\t\t\t\t\tconst instanceData = widgetInstanceMap.get(owningWrapper.instance);\n\t\t\t\t\t\tinstanceData && instanceData.nodeHandler.add(domNode as HTMLElement, `${node.properties.key}`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddNodeToMap(owningWrapper.id, node.properties.key, domNode as HTMLElement);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\titem.next.inserted = true;\n\t\t\t} else if (item.type === 'update') {\n\t\t\t\tconst {\n\t\t\t\t\tnext,\n\t\t\t\t\tnext: { domNode },\n\t\t\t\t\tcurrent,\n\t\t\t\t\tcurrent: { domNode: currentDomNode }\n\t\t\t\t} = item;\n\t\t\t\tif (isTextNode(domNode) && isTextNode(currentDomNode) && domNode !== currentDomNode) {\n\t\t\t\t\tcurrentDomNode.parentNode && currentDomNode.parentNode.replaceChild(domNode, currentDomNode);\n\t\t\t\t} else {\n\t\t\t\t\tconst previousProperties = buildPreviousProperties(domNode, current);\n\t\t\t\t\tprocessProperties(next, previousProperties);\n\t\t\t\t\trunDeferredProperties(next);\n\t\t\t\t}\n\t\t\t} else if (item.type === 'delete') {\n\t\t\t\tconst { current } = item;\n\t\t\t\tconst { exitAnimation, exitAnimationActive } = current.node.properties;\n\t\t\t\tif (_mountOptions.transition && exitAnimation && exitAnimation !== true) {\n\t\t\t\t\t_mountOptions.transition.exit(current.domNode as HTMLElement, exitAnimation, exitAnimationActive);\n\t\t\t\t} else {\n\t\t\t\t\tcurrent.domNode!.parentNode!.removeChild(current.domNode!);\n\t\t\t\t}\n\t\t\t} else if (item.type === 'attach') {\n\t\t\t\tconst { instance, attached } = item;\n\t\t\t\tconst instanceData = widgetInstanceMap.get(instance);\n\t\t\t\tif (instanceData) {\n\t\t\t\t\tinstanceData.nodeHandler.addRoot();\n\t\t\t\t\tattached && instanceData.onAttach();\n\t\t\t\t}\n\t\t\t} else if (item.type === 'detach') {\n\t\t\t\tif (item.current.instance) {\n\t\t\t\t\tconst instanceData = widgetInstanceMap.get(item.current.instance);\n\t\t\t\t\tinstanceData && instanceData.onDetach();\n\t\t\t\t}\n\t\t\t\titem.current.instance = undefined;\n\t\t\t}\n\t\t}\n\t\tif (_deferredProcessQueue.length === 0) {\n\t\t\t_nodeToWrapperMap = new WeakMap();\n\t\t}\n\t}\n\n\tfunction _processMergeNodes(next: DNodeWrapper, mergeNodes: Node[]) {\n\t\tconst { merge } = _mountOptions;\n\t\tif (merge && mergeNodes.length) {\n\t\t\tif (isVNodeWrapper(next)) {\n\t\t\t\tlet {\n\t\t\t\t\tnode: { tag }\n\t\t\t\t} = next;\n\t\t\t\tfor (let i = 0; i < mergeNodes.length; i++) {\n\t\t\t\t\tconst domElement = mergeNodes[i] as Element;\n\t\t\t\t\tconst tagName = domElement.tagName || '';\n\t\t\t\t\tif (tag.toUpperCase() === tagName.toUpperCase()) {\n\t\t\t\t\t\tconst mergeNodeIndex = _allMergedNodes.indexOf(domElement);\n\t\t\t\t\t\tif (mergeNodeIndex !== -1) {\n\t\t\t\t\t\t\t_allMergedNodes.splice(mergeNodeIndex, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmergeNodes.splice(i, 1);\n\t\t\t\t\t\tnext.domNode = domElement;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnext.mergeNodes = mergeNodes;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction distinguishableCheck(childNodes: DNodeWrapper[], index: number) {\n\t\tconst parentWNodeWrapper = getWNodeWrapper(childNodes[index].owningId);\n\t\tcheckDistinguishable(childNodes, index, parentWNodeWrapper);\n\t}\n\n\tfunction createKeyMap(wrappers: DNodeWrapper[]): (string | number)[] | false {\n\t\tconst keys: (string | number)[] = [];\n\t\tfor (let i = 0; i < wrappers.length; i++) {\n\t\t\tconst wrapper = wrappers[i];\n\t\t\tif (wrapper.node.properties.key != null) {\n\t\t\t\tkeys.push(wrapper.node.properties.key);\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn keys;\n\t}\n\n\tfunction _process(current: DNodeWrapper[], next: DNodeWrapper[], meta: ProcessMeta = {}): void {\n\t\tlet { mergeNodes = [], oldIndex = 0, newIndex = 0 } = meta;\n\t\tconst currentLength = current.length;\n\t\tconst nextLength = next.length;\n\t\tconst hasPreviousSiblings = currentLength > 1 || (currentLength > 0 && currentLength < nextLength);\n\t\tlet instructions: Instruction[] = [];\n\t\tlet replace = false;\n\t\tif (oldIndex === 0 && newIndex === 0 && currentLength) {\n\t\t\tconst currentKeys = createKeyMap(current);\n\t\t\tif (currentKeys) {\n\t\t\t\tconst nextKeys = createKeyMap(next);\n\t\t\t\tif (nextKeys) {\n\t\t\t\t\tfor (let i = 0; i < currentKeys.length; i++) {\n\t\t\t\t\t\tif (nextKeys.indexOf(currentKeys[i]) !== -1) {\n\t\t\t\t\t\t\tinstructions = [];\n\t\t\t\t\t\t\treplace = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treplace = true;\n\t\t\t\t\t\tinstructions.push({ current: current[i], next: undefined });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (replace || (currentLength === 0 && !_mountOptions.merge)) {\n\t\t\tfor (let i = 0; i < next.length; i++) {\n\t\t\t\tinstructions.push({ current: undefined, next: next[i] });\n\t\t\t}\n\t\t} else {\n\t\t\tif (newIndex < nextLength) {\n\t\t\t\tlet currentWrapper = oldIndex < currentLength ? current[oldIndex] : undefined;\n\t\t\t\tconst nextWrapper = next[newIndex];\n\t\t\t\tnextWrapper.hasPreviousSiblings = hasPreviousSiblings;\n\n\t\t\t\t_processMergeNodes(nextWrapper, mergeNodes);\n\n\t\t\t\tif (currentWrapper && same(currentWrapper, nextWrapper)) {\n\t\t\t\t\toldIndex++;\n\t\t\t\t\tnewIndex++;\n\t\t\t\t\tif (isVNodeWrapper(currentWrapper) && isVNodeWrapper(nextWrapper)) {\n\t\t\t\t\t\tnextWrapper.inserted = currentWrapper.inserted;\n\t\t\t\t\t}\n\t\t\t\t\tinstructions.push({ current: currentWrapper, next: nextWrapper });\n\t\t\t\t} else if (!currentWrapper || findIndexOfChild(current, nextWrapper, oldIndex + 1) === -1) {\n\t\t\t\t\thas('dojo-debug') && current.length && distinguishableCheck(next, newIndex);\n\t\t\t\t\tinstructions.push({ current: undefined, next: nextWrapper });\n\t\t\t\t\tnewIndex++;\n\t\t\t\t} else if (findIndexOfChild(next, currentWrapper, newIndex + 1) === -1) {\n\t\t\t\t\thas('dojo-debug') && distinguishableCheck(current, oldIndex);\n\t\t\t\t\tinstructions.push({ current: currentWrapper, next: undefined });\n\t\t\t\t\toldIndex++;\n\t\t\t\t} else {\n\t\t\t\t\thas('dojo-debug') && distinguishableCheck(next, newIndex);\n\t\t\t\t\thas('dojo-debug') && distinguishableCheck(current, oldIndex);\n\t\t\t\t\tinstructions.push({ current: currentWrapper, next: undefined });\n\t\t\t\t\tinstructions.push({ current: undefined, next: nextWrapper });\n\t\t\t\t\toldIndex++;\n\t\t\t\t\tnewIndex++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newIndex < nextLength) {\n\t\t\t\t_processQueue.push({ current, next, meta: { mergeNodes, oldIndex, newIndex } });\n\t\t\t}\n\t\t\tif (currentLength > oldIndex && newIndex >= nextLength) {\n\t\t\t\tfor (let i = oldIndex; i < currentLength; i++) {\n\t\t\t\t\thas('dojo-debug') && distinguishableCheck(current, i);\n\t\t\t\t\tinstructions.push({ current: current[i], next: undefined });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < instructions.length; i++) {\n\t\t\tconst result = _processOne(instructions[i]);\n\t\t\tif (result === false) {\n\t\t\t\tif (_mountOptions.merge && mergeNodes.length) {\n\t\t\t\t\tif (newIndex < nextLength) {\n\t\t\t\t\t\t_processQueue.pop();\n\t\t\t\t\t}\n\t\t\t\t\t_processQueue.push({ next, current, meta });\n\t\t\t\t\t_deferredProcessQueue = _processQueue;\n\t\t\t\t\t_processQueue = [];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst { widget, item, dom } = result;\n\t\t\twidget && _processQueue.push(widget);\n\t\t\titem && _processQueue.push(item);\n\t\t\tdom && _applicationQueue.push(dom);\n\t\t}\n\t}\n\n\tfunction _processOne({ current, next }: Instruction): ProcessResult | false {\n\t\tif (current !== next) {\n\t\t\tif (!current && next) {\n\t\t\t\tif (isVNodeWrapper(next)) {\n\t\t\t\t\treturn _createDom({ next });\n\t\t\t\t} else {\n\t\t\t\t\treturn _createWidget({ next });\n\t\t\t\t}\n\t\t\t} else if (current && next) {\n\t\t\t\tif (isVNodeWrapper(current) && isVNodeWrapper(next)) {\n\t\t\t\t\treturn _updateDom({ current, next });\n\t\t\t\t} else if (isWNodeWrapper(current) && isWNodeWrapper(next)) {\n\t\t\t\t\treturn _updateWidget({ current, next });\n\t\t\t\t}\n\t\t\t} else if (current && !next) {\n\t\t\t\tif (isVNodeWrapper(current)) {\n\t\t\t\t\treturn _removeDom({ current });\n\t\t\t\t} else if (isWNodeWrapper(current)) {\n\t\t\t\t\treturn _removeWidget({ current });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn {};\n\t}\n\n\tfunction createWidgetOptions(id: string, widgetId: string, middleware?: any) {\n\t\treturn {\n\t\t\tid,\n\t\t\tproperties: () => {\n\t\t\t\tconst widgetMeta = widgetMetaMap.get(widgetId);\n\t\t\t\tif (widgetMeta) {\n\t\t\t\t\twidgetMeta.propertiesCalled = true;\n\t\t\t\t\treturn { ...widgetMeta.properties };\n\t\t\t\t}\n\t\t\t\treturn {};\n\t\t\t},\n\t\t\tchildren: () => {\n\t\t\t\tconst widgetMeta = widgetMetaMap.get(widgetId);\n\t\t\t\tif (widgetMeta) {\n\t\t\t\t\treturn widgetMeta.children;\n\t\t\t\t}\n\t\t\t\treturn [];\n\t\t\t},\n\t\t\tmiddleware\n\t\t};\n\t}\n\n\tfunction resolveMiddleware(\n\t\tmiddlewares: any,\n\t\tid: string,\n\t\tmiddlewareIds: string[] = []\n\t): { middlewares: any; ids: string[] } {\n\t\tconst keys = Object.keys(middlewares);\n\t\tconst results: any = {};\n\t\tconst uniqueId = `${id}-${metaId++}`;\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tconst middleware = middlewares[keys[i]]();\n\t\t\tconst payload = createWidgetOptions(uniqueId, id);\n\t\t\tif (middleware.middlewares) {\n\t\t\t\tconst { middlewares: resolvedMiddleware } = resolveMiddleware(\n\t\t\t\t\tmiddleware.middlewares,\n\t\t\t\t\tid,\n\t\t\t\t\tmiddlewareIds\n\t\t\t\t);\n\t\t\t\tpayload.middleware = resolvedMiddleware;\n\t\t\t\tresults[keys[i]] = middleware.callback(payload);\n\t\t\t} else {\n\t\t\t\tresults[keys[i]] = middleware.callback(payload);\n\t\t\t}\n\t\t}\n\t\tmiddlewareIds.push(uniqueId);\n\t\treturn { middlewares: results, ids: middlewareIds };\n\t}\n\n\tfunction _createWidget({ next }: CreateWidgetInstruction): ProcessResult | false {\n\t\tlet {\n\t\t\tnode: { widgetConstructor }\n\t\t} = next;\n\t\tlet { registry } = _mountOptions;\n\t\tlet Constructor = next.registryItem || widgetConstructor;\n\t\tif (!isWidget(Constructor)) {\n\t\t\tresolveRegistryItem(next);\n\t\t\tif (!next.registryItem) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tConstructor = next.registryItem;\n\t\t}\n\n\t\tlet rendered: RenderResult;\n\t\tlet invalidate: () => void;\n\t\tnext.properties = { ...next.node.properties };\n\t\tnext.id = next.id || `${wrapperId++}`;\n\t\t_idToWrapperMap.set(next.id, next);\n\t\tconst { id, depth, order } = next;\n\t\tif (!isWidgetBaseConstructor(Constructor)) {\n\t\t\tlet widgetMeta = widgetMetaMap.get(id);\n\t\t\tif (!widgetMeta) {\n\t\t\t\tinvalidate = () => {\n\t\t\t\t\tconst widgetMeta = widgetMetaMap.get(id);\n\t\t\t\t\tif (widgetMeta) {\n\t\t\t\t\t\twidgetMeta.dirty = true;\n\t\t\t\t\t\tif (!widgetMeta.rendering && _idToWrapperMap.has(id)) {\n\t\t\t\t\t\t\t_invalidationQueue.push({ id, depth, order });\n\t\t\t\t\t\t\t_schedule();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\twidgetMeta = {\n\t\t\t\t\twidgetName: Constructor.name || 'unknown',\n\t\t\t\t\tmountNode: _mountOptions.domNode,\n\t\t\t\t\tdirty: false,\n\t\t\t\t\tinvalidator: invalidate,\n\t\t\t\t\tproperties: wrapFunctionProperties(id, next.node.properties),\n\t\t\t\t\toriginalProperties: { ...next.node.properties },\n\t\t\t\t\tchildren: next.node.children,\n\t\t\t\t\tdeferRefs: 0,\n\t\t\t\t\trendering: true,\n\t\t\t\t\tmiddleware: {},\n\t\t\t\t\tmiddlewareIds: [],\n\t\t\t\t\tregistry: _mountOptions.registry,\n\t\t\t\t\tpropertiesCalled: false\n\t\t\t\t};\n\n\t\t\t\twidgetMetaMap.set(next.id, widgetMeta);\n\t\t\t\tif ((Constructor as any).middlewares && Object.keys((Constructor as any).middlewares).length) {\n\t\t\t\t\tconst { middlewares, ids } = resolveMiddleware((Constructor as any).middlewares, id);\n\t\t\t\t\twidgetMeta.middleware = middlewares;\n\t\t\t\t\twidgetMeta.middlewareIds = ids;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinvalidate = widgetMeta.invalidator;\n\t\t\t}\n\n\t\t\trendered = Constructor(createWidgetOptions(id, id, widgetMeta.middleware));\n\t\t\twidgetMeta.rendering = false;\n\t\t\twidgetMeta.propertiesCalled = false;\n\t\t\tif (widgetMeta.deferRefs > 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\tlet instance = new Constructor() as WidgetBaseInterface & {\n\t\t\t\tinvalidate: any;\n\t\t\t\tregistry: any;\n\t\t\t};\n\t\t\tinstance.registry.base = registry;\n\t\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\t\tinvalidate = () => {\n\t\t\t\tinstanceData.dirty = true;\n\t\t\t\tif (!instanceData.rendering && _idToWrapperMap.has(id)) {\n\t\t\t\t\t_invalidationQueue.push({ id, depth, order });\n\t\t\t\t\t_schedule();\n\t\t\t\t}\n\t\t\t};\n\t\t\tinstanceData.invalidate = invalidate;\n\t\t\tinstanceData.rendering = true;\n\t\t\tinstance.__setProperties__(next.node.properties);\n\t\t\tinstance.__setChildren__(next.node.children);\n\t\t\tnext.instance = instance;\n\t\t\trendered = instance.__render__();\n\t\t\tinstanceData.rendering = false;\n\t\t}\n\n\t\tlet children: DNodeWrapper[] | undefined;\n\t\tif (rendered) {\n\t\t\trendered = Array.isArray(rendered) ? rendered : [rendered];\n\t\t\tchildren = renderedToWrapper(rendered, next, null);\n\t\t\t_idToChildrenWrappers.set(id, children);\n\t\t}\n\n\t\tif (!parentInvalidate && !(Constructor as any).isWNodeWrapper) {\n\t\t\tparentInvalidate = invalidate;\n\t\t}\n\n\t\treturn {\n\t\t\titem: {\n\t\t\t\tnext: children,\n\t\t\t\tmeta: { mergeNodes: next.mergeNodes }\n\t\t\t},\n\t\t\twidget: { type: 'attach', instance: next.instance, id, attached: true }\n\t\t};\n\t}\n\n\tfunction _updateWidget({ current, next }: UpdateWidgetInstruction): ProcessResult {\n\t\tcurrent = getWNodeWrapper(current.id) || current;\n\t\tconst { instance, domNode, hasAnimations, id } = current;\n\t\tlet {\n\t\t\tnode: { widgetConstructor }\n\t\t} = next;\n\t\tconst Constructor = next.registryItem || widgetConstructor;\n\n\t\tif (!isWidget(Constructor)) {\n\t\t\treturn {};\n\t\t}\n\t\tlet rendered: RenderResult;\n\t\tlet processResult: ProcessResult = {};\n\t\tlet didRender = false;\n\t\tlet currentChildren = _idToChildrenWrappers.get(current.id);\n\t\tnext.hasAnimations = hasAnimations;\n\t\tnext.id = id;\n\t\tnext.properties = { ...next.node.properties };\n\t\t_wrapperSiblingMap.delete(current);\n\t\tif (domNode && domNode.parentNode) {\n\t\t\tnext.domNode = domNode;\n\t\t}\n\n\t\tif (!isWidgetBaseConstructor(Constructor)) {\n\t\t\tconst widgetMeta = widgetMetaMap.get(id);\n\t\t\tif (widgetMeta) {\n\t\t\t\twidgetMeta.originalProperties = { ...next.properties };\n\t\t\t\twidgetMeta.properties = wrapFunctionProperties(id, widgetMeta.originalProperties);\n\t\t\t\twidgetMeta.children = next.node.children;\n\t\t\t\twidgetMeta.rendering = true;\n\t\t\t\tconst customProperties = runDiffs(widgetMeta, current.properties, widgetMeta.originalProperties);\n\t\t\t\twidgetMeta.properties = { ...widgetMeta.properties, ...customProperties };\n\t\t\t\tif (current.node.children.length > 0 || next.node.children.length > 0) {\n\t\t\t\t\twidgetMeta.dirty = true;\n\t\t\t\t}\n\t\t\t\tif (!widgetMeta.dirty) {\n\t\t\t\t\tpropertiesDiff(\n\t\t\t\t\t\tcurrent.properties,\n\t\t\t\t\t\tnext.properties,\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\twidgetMeta.dirty = true;\n\t\t\t\t\t\t},\n\t\t\t\t\t\twidgetMeta.customDiffProperties ? [...widgetMeta.customDiffProperties.values()] : []\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (widgetMeta.dirty) {\n\t\t\t\t\t_idToChildrenWrappers.delete(id);\n\t\t\t\t\tdidRender = true;\n\t\t\t\t\trendered = Constructor(createWidgetOptions(id, id, widgetMeta.middleware));\n\t\t\t\t\twidgetMeta.dirty = false;\n\t\t\t\t\tif (widgetMeta.deferRefs > 0) {\n\t\t\t\t\t\trendered = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twidgetMeta.rendering = false;\n\t\t\t\twidgetMeta.propertiesCalled = false;\n\t\t\t}\n\t\t} else {\n\t\t\tconst instanceData = widgetInstanceMap.get(instance!)!;\n\t\t\tnext.instance = instance;\n\t\t\tinstanceData.rendering = true;\n\t\t\tinstance!.__setProperties__(next.node.properties);\n\t\t\tinstance!.__setChildren__(next.node.children);\n\t\t\tif (instanceData.dirty) {\n\t\t\t\tdidRender = true;\n\t\t\t\t_idToChildrenWrappers.delete(id);\n\t\t\t\trendered = instance!.__render__();\n\t\t\t}\n\t\t\tinstanceData.rendering = false;\n\t\t}\n\t\t_idToWrapperMap.set(next.id, next);\n\t\tprocessResult.widget = { type: 'attach', instance, id, attached: false };\n\n\t\tlet children: DNodeWrapper[] | undefined;\n\t\tif (rendered) {\n\t\t\trendered = Array.isArray(rendered) ? rendered : [rendered];\n\t\t\tchildren = renderedToWrapper(rendered, next, current);\n\t\t\t_idToChildrenWrappers.set(id, children);\n\t\t}\n\n\t\tif (didRender) {\n\t\t\tprocessResult.item = {\n\t\t\t\tcurrent: currentChildren,\n\t\t\t\tnext: children,\n\t\t\t\tmeta: {}\n\t\t\t};\n\t\t}\n\t\treturn processResult;\n\t}\n\n\tfunction _removeWidget({ current }: RemoveWidgetInstruction): ProcessResult {\n\t\tcurrent = getWNodeWrapper(current.id) || current;\n\t\t_idToWrapperMap.delete(current.id);\n\t\tconst meta = widgetMetaMap.get(current.id);\n\t\tlet currentChildren = _idToChildrenWrappers.get(current.id);\n\t\t_idToChildrenWrappers.delete(current.id);\n\t\t_wrapperSiblingMap.delete(current);\n\t\tlet processResult: ProcessResult = {\n\t\t\titem: {\n\t\t\t\tcurrent: currentChildren,\n\t\t\t\tmeta: {}\n\t\t\t}\n\t\t};\n\t\tif (meta) {\n\t\t\tmeta.registryHandler && meta.registryHandler.destroy();\n\t\t\tdestroyHandles(meta);\n\t\t\twidgetMetaMap.delete(current.id);\n\t\t} else {\n\t\t\tprocessResult.widget = { type: 'detach', current, instance: current.instance };\n\t\t}\n\n\t\treturn processResult;\n\t}\n\n\tfunction findDomNodeOnParentWrapper(id: string): string | undefined {\n\t\tconst children = _idToChildrenWrappers.get(id) || [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst child = children[i];\n\t\t\tif (child.domNode) {\n\t\t\t\treturn child.id;\n\t\t\t}\n\t\t\tconst childId = findDomNodeOnParentWrapper(child.id);\n\t\t\tif (childId) {\n\t\t\t\treturn childId;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _createDom({ next }: CreateDomInstruction): ProcessResult {\n\t\tconst parentDomNode = findParentDomNode(next)!;\n\t\tconst isVirtual = isVirtualWrapper(next);\n\t\tconst isBody = isBodyWrapper(next);\n\t\tconst isHead = isHeadWrapper(next);\n\t\tlet mergeNodes: Node[] = [];\n\t\tnext.id = `${wrapperId++}`;\n\t\t_idToWrapperMap.set(next.id, next);\n\t\tif (!next.domNode) {\n\t\t\tif ((next.node as any).domNode) {\n\t\t\t\tnext.domNode = (next.node as any).domNode;\n\t\t\t} else {\n\t\t\t\tif (next.node.tag === 'svg') {\n\t\t\t\t\tnext.namespace = NAMESPACE_SVG;\n\t\t\t\t}\n\t\t\t\tif (isBody) {\n\t\t\t\t\tnext.domNode = global.document.body;\n\t\t\t\t} else if (isHead) {\n\t\t\t\t\tnext.domNode = global.document.head;\n\t\t\t\t} else if (next.node.tag && !isVirtual) {\n\t\t\t\t\tif (next.namespace) {\n\t\t\t\t\t\tnext.domNode = global.document.createElementNS(next.namespace, next.node.tag);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnext.domNode = global.document.createElement(next.node.tag);\n\t\t\t\t\t}\n\t\t\t\t} else if (next.node.text != null) {\n\t\t\t\t\tnext.domNode = global.document.createTextNode(next.node.text);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (_insertBeforeMap && _allMergedNodes.length) {\n\t\t\t\tif (parentDomNode === _allMergedNodes[0].parentNode) {\n\t\t\t\t\t_insertBeforeMap.set(next, _allMergedNodes[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (_mountOptions.merge) {\n\t\t\tnext.merged = true;\n\t\t\tif (isTextNode(next.domNode)) {\n\t\t\t\tif (next.domNode.data !== next.node.text) {\n\t\t\t\t\t_allMergedNodes = [next.domNode, ..._allMergedNodes];\n\t\t\t\t\tnext.domNode = global.document.createTextNode(next.node.text);\n\t\t\t\t\tnext.merged = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmergeNodes = arrayFrom(next.domNode.childNodes);\n\t\t\t\t_allMergedNodes = [..._allMergedNodes, ...mergeNodes];\n\t\t\t}\n\t\t}\n\t\tlet children: DNodeWrapper[] | undefined;\n\t\tif (next.domNode || isVirtual) {\n\t\t\tif (next.node.children && next.node.children.length) {\n\t\t\t\tchildren = renderedToWrapper(next.node.children, next, null);\n\t\t\t\t_idToChildrenWrappers.set(next.id, children);\n\t\t\t}\n\t\t}\n\t\tconst dom: ApplicationInstruction | undefined = isSpecialWrapper(next)\n\t\t\t? undefined\n\t\t\t: {\n\t\t\t\t\tnext: next!,\n\t\t\t\t\tparentDomNode: parentDomNode,\n\t\t\t\t\ttype: 'create'\n\t\t\t  };\n\t\tif (children) {\n\t\t\treturn {\n\t\t\t\titem: {\n\t\t\t\t\tcurrent: [],\n\t\t\t\t\tnext: children,\n\t\t\t\t\tmeta: { mergeNodes }\n\t\t\t\t},\n\t\t\t\tdom,\n\t\t\t\twidget: isVirtual ? { type: 'attach', id: (next as any).id, attached: false } : undefined\n\t\t\t};\n\t\t}\n\t\treturn { dom };\n\t}\n\n\tfunction _updateDom({ current, next }: UpdateDomInstruction): ProcessResult {\n\t\tnext.domNode = current.domNode;\n\t\tnext.namespace = current.namespace;\n\t\tnext.id = current.id;\n\t\tnext.childDomWrapperId = current.childDomWrapperId;\n\t\tlet children: DNodeWrapper[] | undefined;\n\t\tlet currentChildren = _idToChildrenWrappers.get(next.id);\n\t\tif (next.node.text != null && next.node.text !== current.node.text) {\n\t\t\tnext.domNode = global.document.createTextNode(next.node.text);\n\t\t} else if (next.node.children) {\n\t\t\tchildren = renderedToWrapper(next.node.children, next, current);\n\t\t\t_idToChildrenWrappers.set(next.id, children);\n\t\t}\n\t\t_wrapperSiblingMap.delete(current);\n\t\t_idToWrapperMap.set(next.id, next);\n\t\treturn {\n\t\t\titem: {\n\t\t\t\tcurrent: currentChildren,\n\t\t\t\tnext: children,\n\t\t\t\tmeta: {}\n\t\t\t},\n\t\t\tdom: { type: 'update', next, current }\n\t\t};\n\t}\n\n\tfunction _removeDom({ current }: RemoveDomInstruction): ProcessResult {\n\t\tconst isSpecial = isSpecialWrapper(current);\n\t\tconst children = _idToChildrenWrappers.get(current.id);\n\t\t_idToChildrenWrappers.delete(current.id);\n\t\t_idToWrapperMap.delete(current.id);\n\t\t_wrapperSiblingMap.delete(current);\n\t\tif (current.node.properties.key) {\n\t\t\tconst widgetMeta = widgetMetaMap.get(current.owningId);\n\t\t\tconst parentWrapper = getWNodeWrapper(current.owningId);\n\t\t\tif (widgetMeta) {\n\t\t\t\twidgetMeta.nodeMap && widgetMeta.nodeMap.delete(current.node.properties.key);\n\t\t\t} else if (parentWrapper && parentWrapper.instance) {\n\t\t\t\tconst instanceData = widgetInstanceMap.get(parentWrapper.instance);\n\t\t\t\tinstanceData && instanceData.nodeHandler.remove(current.node.properties.key);\n\t\t\t}\n\t\t}\n\t\tif (current.hasAnimations || isSpecial) {\n\t\t\treturn {\n\t\t\t\titem: { current: children, meta: {} },\n\t\t\t\tdom: isSpecial ? undefined : { type: 'delete', current }\n\t\t\t};\n\t\t}\n\n\t\tif (children) {\n\t\t\t_deferredRenderCallbacks.push(() => {\n\t\t\t\tlet wrappers = children || [];\n\t\t\t\tlet wrapper: DNodeWrapper | undefined;\n\t\t\t\tlet specialIds = [];\n\t\t\t\twhile ((wrapper = wrappers.pop())) {\n\t\t\t\t\tif (isWNodeWrapper(wrapper)) {\n\t\t\t\t\t\twrapper = getWNodeWrapper(wrapper.id) || wrapper;\n\t\t\t\t\t\tif (wrapper.instance) {\n\t\t\t\t\t\t\tconst instanceData = widgetInstanceMap.get(wrapper.instance);\n\t\t\t\t\t\t\tinstanceData && instanceData.onDetach();\n\t\t\t\t\t\t\twrapper.instance = undefined;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst meta = widgetMetaMap.get(wrapper.id);\n\t\t\t\t\t\t\tif (meta) {\n\t\t\t\t\t\t\t\tmeta.registryHandler && meta.registryHandler.destroy();\n\t\t\t\t\t\t\t\tdestroyHandles(meta);\n\t\t\t\t\t\t\t\twidgetMetaMap.delete(wrapper.id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet wrapperChildren = _idToChildrenWrappers.get(wrapper.id);\n\t\t\t\t\tif (wrapperChildren) {\n\t\t\t\t\t\twrappers.push(...wrapperChildren);\n\t\t\t\t\t}\n\t\t\t\t\tif (isBodyWrapper(wrapper) || isHeadWrapper(wrapper)) {\n\t\t\t\t\t\tspecialIds.push(wrapper.id);\n\t\t\t\t\t} else if (specialIds.indexOf(wrapper.parentId) !== -1) {\n\t\t\t\t\t\tif (isWNodeWrapper(wrapper) || isVirtualWrapper(wrapper)) {\n\t\t\t\t\t\t\tspecialIds.push(wrapper.id);\n\t\t\t\t\t\t} else if (wrapper.domNode && wrapper.domNode.parentNode) {\n\t\t\t\t\t\t\twrapper.domNode.parentNode.removeChild(wrapper.domNode);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t_idToChildrenWrappers.delete(wrapper.id);\n\t\t\t\t\t_idToWrapperMap.delete(wrapper.id);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn {\n\t\t\tdom: { type: 'delete', current }\n\t\t};\n\t}\n\n\treturn {\n\t\tmount,\n\t\tunmount,\n\t\tinvalidate\n\t};\n}\n\nexport default renderer;\n","/* tslint:disable:interface-name */\nimport Map from '../../shim/Map';\nimport { create, invalidator, destroy } from '../vdom';\n\nconst factory = create({ invalidator, destroy });\n\ninterface CacheWrapper {\n\tstatus: 'pending' | 'resolved';\n\tvalue: any;\n}\n\nexport interface ICacheResult<S = void> {\n\tgetOrSet: {\n\t\t<T extends void extends S ? any : keyof S>(\n\t\t\tkey: void extends S ? any : T,\n\t\t\tvalue: void extends S ? () => Promise<T> : () => Promise<S[T]>,\n\t\t\tinvalidate?: boolean\n\t\t): void extends S ? undefined | T : undefined | S[T];\n\t\t<T extends void extends S ? any : keyof S>(\n\t\t\tkey: void extends S ? any : T,\n\t\t\tvalue: void extends S ? () => T : () => S[T],\n\t\t\tinvalidate?: boolean\n\t\t): void extends S ? T : S[T];\n\t\t<T extends void extends S ? any : keyof S>(\n\t\t\tkey: void extends S ? any : T,\n\t\t\tvalue: void extends S ? T : S[T],\n\t\t\tinvalidate?: boolean\n\t\t): void extends S ? T : S[T];\n\t};\n\tget<T extends void extends S ? any : keyof S>(\n\t\tkey: void extends S ? any : T\n\t): void extends S ? T | undefined : S[T] | undefined;\n\tset: {\n\t\t<T extends void extends S ? any : keyof S>(\n\t\t\tkey: void extends S ? any : T,\n\t\t\tvalue: void extends S ? (value: T | undefined) => Promise<T> : (value: S[T] | undefined) => Promise<S[T]>,\n\t\t\tinvalidate?: boolean\n\t\t): void extends S ? T | undefined : S[T] | undefined;\n\t\t<T extends void extends S ? any : keyof S>(\n\t\t\tkey: void extends S ? any : T,\n\t\t\tvalue: void extends S ? (value: T | undefined) => T : (value: S[T] | undefined) => S[T],\n\t\t\tinvalidate?: boolean\n\t\t): void extends S ? T : S[T];\n\t\t<T extends void extends S ? any : keyof S>(\n\t\t\tkey: void extends S ? any : T,\n\t\t\tvalue: void extends S ? T : S[T],\n\t\t\tinvalidate?: boolean\n\t\t): void extends S ? T : S[T];\n\t};\n\thas<T extends void extends S ? any : keyof S>(key: void extends S ? any : T): boolean;\n\tdelete<T extends void extends S ? any : keyof S>(key: void extends S ? any : T, invalidate?: boolean): void;\n\tclear(invalidate?: boolean): void;\n}\n\nconst icacheFactory = factory(\n\t({ middleware: { invalidator, destroy } }): ICacheResult<any> => {\n\t\tconst cacheMap = new Map<string, CacheWrapper>();\n\t\tdestroy(() => {\n\t\t\tcacheMap.clear();\n\t\t});\n\n\t\tconst api: any = {\n\t\t\tget: (key: any): any => {\n\t\t\t\tconst cachedValue = cacheMap.get(key);\n\t\t\t\tif (!cachedValue || cachedValue.status === 'pending') {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\treturn cachedValue.value;\n\t\t\t}\n\t\t};\n\n\t\tapi.set = (key: any, value: any, invalidate: boolean = true): any => {\n\t\t\tconst current = api.get(key);\n\t\t\tif (typeof value === 'function') {\n\t\t\t\tvalue = value(current);\n\t\t\t\tif (value && typeof value.then === 'function') {\n\t\t\t\t\tcacheMap.set(key, {\n\t\t\t\t\t\tstatus: 'pending',\n\t\t\t\t\t\tvalue\n\t\t\t\t\t});\n\t\t\t\t\tvalue.then((result: any) => {\n\t\t\t\t\t\tconst cachedValue = cacheMap.get(key);\n\t\t\t\t\t\tif (cachedValue && cachedValue.value === value) {\n\t\t\t\t\t\t\tcacheMap.set(key, {\n\t\t\t\t\t\t\t\tstatus: 'resolved',\n\t\t\t\t\t\t\t\tvalue: result\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tinvalidate && invalidator();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcacheMap.set(key, {\n\t\t\t\tstatus: 'resolved',\n\t\t\t\tvalue\n\t\t\t});\n\t\t\tinvalidate && invalidator();\n\t\t\treturn value;\n\t\t};\n\t\tapi.has = (key: any) => {\n\t\t\treturn cacheMap.has(key);\n\t\t};\n\t\tapi.delete = (key: any, invalidate: boolean = true) => {\n\t\t\tcacheMap.delete(key);\n\t\t\tinvalidate && invalidator();\n\t\t};\n\t\tapi.clear = (invalidate: boolean = true): void => {\n\t\t\tcacheMap.clear();\n\t\t\tinvalidate && invalidator();\n\t\t};\n\t\tapi.getOrSet = (key: any, value: any, invalidate: boolean = true): any | undefined => {\n\t\t\tlet cachedValue = cacheMap.get(key);\n\t\t\tif (!cachedValue) {\n\t\t\t\tapi.set(key, value, invalidate);\n\t\t\t}\n\t\t\tcachedValue = cacheMap.get(key);\n\t\t\tif (!cachedValue || cachedValue.status === 'pending') {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn cachedValue.value;\n\t\t};\n\t\treturn api;\n\t}\n);\n\nexport const createICacheMiddleware = <S = void>() => icacheFactory.withType<ICacheResult<S>>();\n\nexport const icache = createICacheMiddleware();\n\nexport default icache;\n","import { create, getRegistry, invalidator, destroy } from '../vdom';\nimport { RegistryLabel } from '../interfaces';\nimport { Handle } from '../Destroyable';\n\nconst injectorFactory = create({ getRegistry, invalidator, destroy });\n\nexport const injector = injectorFactory(({ middleware: { getRegistry, invalidator, destroy } }) => {\n\tconst handles: Handle[] = [];\n\tdestroy(() => {\n\t\tlet handle: Handle | undefined;\n\t\twhile ((handle = handles.pop())) {\n\t\t\thandle.destroy();\n\t\t}\n\t});\n\tconst registry = getRegistry();\n\treturn {\n\t\tsubscribe(label: RegistryLabel, callback: Function = invalidator) {\n\t\t\tif (registry) {\n\t\t\t\tconst item = registry.getInjector(label);\n\t\t\t\tif (item) {\n\t\t\t\t\tconst handle = item.invalidator.on('invalidate', () => {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t});\n\t\t\t\t\thandles.push(handle);\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tconst index = handles.indexOf(handle);\n\t\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\t\thandles.splice(index, 1);\n\t\t\t\t\t\t\thandle.destroy();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tget<T>(label: RegistryLabel): T | null {\n\t\t\tif (registry) {\n\t\t\t\tconst item = registry.getInjector<T>(label);\n\t\t\t\tif (item) {\n\t\t\t\t\treturn item.injector();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t};\n});\n\nexport default injector;\n","import { Evented, EventObject } from '../core/Evented';\n\nexport type InjectorEventMap = {\n\tinvalidate: EventObject<'invalidate'>;\n};\n\nexport class Injector<T = any> extends Evented<InjectorEventMap> {\n\tprivate _payload: T;\n\tprivate _invalidator: undefined | (() => void);\n\n\tconstructor(payload: T) {\n\t\tsuper();\n\t\tthis._payload = payload;\n\t}\n\n\tpublic setInvalidator(invalidator: () => void) {\n\t\tthis._invalidator = invalidator;\n\t}\n\n\tpublic get(): T {\n\t\treturn this._payload;\n\t}\n\n\tpublic set(payload: T): void {\n\t\tthis._payload = payload;\n\t\tif (this._invalidator) {\n\t\t\tthis._invalidator();\n\t\t}\n\t}\n}\n\nexport default Injector;\n","import global from '../shim/global';\nimport { Theme, ThemeWithVariants, ThemeWithVariant, NamedVariant } from './interfaces';\nimport Injector from './Injector';\nimport cssVars from '../shim/cssVariables';\nimport Map from '../shim/Map';\nimport has from './has';\n\nexport interface ThemeWithVariantsInjectorPayload {\n\ttheme: ThemeWithVariants;\n\tvariant: NamedVariant;\n}\n\nexport interface ThemeInjectorPayload {\n\ttheme: Theme;\n}\n\nexport function isVariantModule(variant: string | NamedVariant): variant is NamedVariant {\n\treturn typeof variant !== 'string';\n}\n\nexport function isThemeWithVariant(theme: Theme | ThemeWithVariants | ThemeWithVariant): theme is ThemeWithVariant {\n\treturn theme && theme.hasOwnProperty('variant');\n}\n\nexport function isThemeWithVariants(theme: Theme | ThemeWithVariants | ThemeWithVariant): theme is ThemeWithVariants {\n\treturn theme && theme.hasOwnProperty('variants');\n}\n\nexport function isThemeInjectorPayloadWithVariant(\n\ttheme: ThemeInjectorPayload | ThemeWithVariantsInjectorPayload | undefined\n): theme is ThemeWithVariantsInjectorPayload {\n\treturn !!theme && theme.hasOwnProperty('variant');\n}\n\nlet processCssVariant = function(_: string) {};\n\nif (!has('dom-css-variables')) {\n\tconst setUpCssVariantSupport = () => {\n\t\tconst styleId = '__dojo_processed_styles';\n\t\tconst processedCssMap = new Map<string, string>();\n\t\tlet variantStyleElement: HTMLStyleElement | undefined;\n\n\t\tfunction applyStyles(css: string) {\n\t\t\tconst style = document.createElement('style');\n\t\t\tstyle.textContent = css;\n\t\t\tstyle.setAttribute('id', styleId);\n\t\t\tif (variantStyleElement && variantStyleElement.parentNode) {\n\t\t\t\tvariantStyleElement.parentNode.replaceChild(style, variantStyleElement);\n\t\t\t} else {\n\t\t\t\tglobal.document.head.appendChild(style);\n\t\t\t}\n\t\t\tvariantStyleElement = style;\n\t\t}\n\n\t\treturn function processCssVariant(variantName: string) {\n\t\t\tconst processedCss = processedCssMap.get(variantName);\n\t\t\tif (processedCss) {\n\t\t\t\tapplyStyles(processedCss);\n\t\t\t} else {\n\t\t\t\tcssVars({\n\t\t\t\t\texclude: `style[id=${styleId}]`,\n\t\t\t\t\tonSuccess: (css) => {\n\t\t\t\t\t\tlet temp = css;\n\t\t\t\t\t\tlet index = temp.indexOf(variantName);\n\t\t\t\t\t\tlet variantCss = '';\n\t\t\t\t\t\twhile (index !== -1) {\n\t\t\t\t\t\t\ttemp = temp.substring(index + variantName.length);\n\t\t\t\t\t\t\tconst match = temp.match(/\\{([^}]+)\\}/);\n\t\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\t\tif (variantCss) {\n\t\t\t\t\t\t\t\t\tvariantCss = `${variantCss.substring(0, variantCss.length - 1)}${match[0].substring(\n\t\t\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t\t\t)}`;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvariantCss = match[0];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tindex = temp.indexOf(variantName);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (variantCss) {\n\t\t\t\t\t\t\tcss = `:root ${variantCss}${css}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn css;\n\t\t\t\t\t},\n\t\t\t\t\tonComplete: (css) => {\n\t\t\t\t\t\tprocessedCssMap.set(variantName, css);\n\t\t\t\t\t\tapplyStyles(css);\n\t\t\t\t\t},\n\t\t\t\t\tupdateDOM: false,\n\t\t\t\t\tsilent: true\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t};\n\tprocessCssVariant = setUpCssVariantSupport();\n}\n\nfunction createThemeInjectorPayload(\n\ttheme: Theme | ThemeWithVariants | ThemeWithVariant,\n\tvariant?: string | NamedVariant\n): ThemeWithVariantsInjectorPayload | ThemeInjectorPayload {\n\tif (isThemeWithVariant(theme)) {\n\t\tif (typeof theme.variant === 'string') {\n\t\t\treturn {\n\t\t\t\ttheme: theme.theme,\n\t\t\t\tvariant: { name: theme.variant, value: theme.theme.variants[theme.variant] }\n\t\t\t};\n\t\t}\n\t\treturn { theme: theme.theme, variant: theme.variant };\n\t} else if (isThemeWithVariants(theme)) {\n\t\tvariant = variant || 'default';\n\t\tif (isVariantModule(variant)) {\n\t\t\tif (!has('dom-css-variables')) {\n\t\t\t\tprocessCssVariant(variant.value.root);\n\t\t\t}\n\t\t\treturn { theme, variant };\n\t\t}\n\t\tif (!has('dom-css-variables')) {\n\t\t\tprocessCssVariant(theme.variants[variant].root);\n\t\t}\n\n\t\treturn { theme: theme, variant: { name: variant, value: theme.variants[variant] } };\n\t}\n\treturn { theme };\n}\n\nexport class ThemeInjector extends Injector {\n\tconstructor(theme?: Theme | ThemeWithVariants | ThemeWithVariant) {\n\t\tsuper(theme ? createThemeInjectorPayload(theme) : theme);\n\t}\n\n\tset<T extends ThemeWithVariants>(theme: T, variant?: keyof T['variants'] | NamedVariant): void;\n\tset(theme: ThemeWithVariant): void;\n\tset(theme: Theme): void;\n\tset(theme: Theme | ThemeWithVariants | ThemeWithVariant, variant?: string | NamedVariant) {\n\t\tsuper.set(createThemeInjectorPayload(theme, variant));\n\t}\n\n\tget(): ThemeWithVariantsInjectorPayload | ThemeInjectorPayload | undefined {\n\t\treturn super.get();\n\t}\n}\n\nexport default ThemeInjector;\n","import { Theme, Classes, ClassNames, ThemeWithVariant, ThemeWithVariants, NamedVariant } from './../interfaces';\nimport { create, invalidator, diffProperty, getRegistry } from '../vdom';\nimport icache from './icache';\nimport injector from './injector';\nimport Set from '../../shim/Set';\nimport { auto } from '../diff';\nimport Registry from '../Registry';\nimport {\n\tThemeInjector,\n\tisThemeInjectorPayloadWithVariant,\n\tisThemeWithVariants,\n\tisThemeWithVariant,\n\tThemeInjectorPayload,\n\tThemeWithVariantsInjectorPayload\n} from '../ThemeInjector';\n\nexport { Theme, Classes, ClassNames } from './../interfaces';\n\nexport interface ThemeProperties {\n\ttheme?: Theme | ThemeWithVariant;\n\tclasses?: Classes;\n}\n\nexport const THEME_KEY = ' _key';\n\nexport const INJECTED_THEME_KEY = '__theme_injector';\n\nfunction registerThemeInjector(theme: Theme | ThemeWithVariant | undefined, themeRegistry: Registry): ThemeInjector {\n\tconst themeInjector = new ThemeInjector(theme);\n\tthemeRegistry.defineInjector(INJECTED_THEME_KEY, (invalidator) => {\n\t\tthemeInjector.setInvalidator(invalidator);\n\t\treturn () => themeInjector;\n\t});\n\treturn themeInjector;\n}\n\nconst factory = create({ invalidator, icache, diffProperty, injector, getRegistry }).properties<ThemeProperties>();\n\nexport const theme = factory(\n\t({ middleware: { invalidator, icache, diffProperty, injector, getRegistry }, properties }) => {\n\t\tlet themeKeys = new Set();\n\n\t\tdiffProperty('theme', properties, (current, next) => {\n\t\t\tconst { changed } = auto(current.theme, next.theme, 3);\n\t\t\tif (changed) {\n\t\t\t\ticache.clear();\n\t\t\t\tinvalidator();\n\t\t\t}\n\t\t});\n\t\tdiffProperty('classes', (current: ThemeProperties, next: ThemeProperties) => {\n\t\t\tlet result = false;\n\t\t\tif ((current.classes && !next.classes) || (!current.classes && next.classes)) {\n\t\t\t\tresult = true;\n\t\t\t} else if (current.classes && next.classes) {\n\t\t\t\tconst keys = [...themeKeys.values()];\n\t\t\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\t\t\tlet key = keys[i];\n\t\t\t\t\tresult = auto(current.classes[key], next.classes[key], 2).changed;\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (result) {\n\t\t\t\ticache.clear();\n\t\t\t\tinvalidator();\n\t\t\t}\n\t\t});\n\n\t\tfunction getTheme() {\n\t\t\tconst { theme } = properties();\n\t\t\tif (theme) {\n\t\t\t\treturn theme;\n\t\t\t}\n\t\t\tconst themeInjector = injector.get<ThemeInjector>(INJECTED_THEME_KEY);\n\t\t\tif (themeInjector) {\n\t\t\t\tconst themePayload = themeInjector.get();\n\t\t\t\tif (isThemeInjectorPayloadWithVariant(themePayload)) {\n\t\t\t\t\treturn { theme: themePayload.theme, variant: themePayload.variant };\n\t\t\t\t} else if (themePayload) {\n\t\t\t\t\treturn themePayload.theme;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst themeInjector = injector.get(INJECTED_THEME_KEY);\n\t\tif (!themeInjector) {\n\t\t\tconst registry = getRegistry();\n\t\t\tif (registry) {\n\t\t\t\tregisterThemeInjector(undefined, registry.base);\n\t\t\t}\n\t\t}\n\t\tinjector.subscribe(INJECTED_THEME_KEY, () => {\n\t\t\ticache.clear();\n\t\t\tinvalidator();\n\t\t});\n\n\t\tfunction set(theme: Theme): void;\n\t\tfunction set<T extends ThemeWithVariants>(theme: T, variant?: keyof T['variants'] | NamedVariant): void;\n\t\tfunction set<T extends ThemeWithVariants>(\n\t\t\ttheme: Theme | T,\n\t\t\tvariant?: keyof T['variants'] | NamedVariant\n\t\t): void {\n\t\t\tconst currentTheme = injector.get<ThemeInjector>(INJECTED_THEME_KEY);\n\t\t\tif (currentTheme) {\n\t\t\t\tif (isThemeWithVariants(theme)) {\n\t\t\t\t\tcurrentTheme.set(theme, variant);\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTheme.set(theme);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tclasses<T extends ClassNames>(css: T): T {\n\t\t\t\tconst cachedTheme = icache.get<T>(css);\n\t\t\t\tif (cachedTheme) {\n\t\t\t\t\treturn cachedTheme;\n\t\t\t\t}\n\t\t\t\tconst { [THEME_KEY]: key, ...classes } = css;\n\t\t\t\tthemeKeys.add(key);\n\t\t\t\tlet theme = classes as ClassNames;\n\t\t\t\tlet { classes: currentClasses } = properties();\n\t\t\t\tlet currentTheme = getTheme();\n\n\t\t\t\tif (currentTheme && isThemeWithVariant(currentTheme)) {\n\t\t\t\t\tcurrentTheme = isThemeWithVariants(currentTheme.theme)\n\t\t\t\t\t\t? currentTheme.theme.theme\n\t\t\t\t\t\t: currentTheme.theme;\n\t\t\t\t}\n\n\t\t\t\tif (currentTheme && currentTheme[key]) {\n\t\t\t\t\ttheme = { ...theme, ...currentTheme[key] };\n\t\t\t\t}\n\t\t\t\tif (currentClasses && currentClasses[key]) {\n\t\t\t\t\tconst classKeys = Object.keys(currentClasses[key]);\n\t\t\t\t\tfor (let i = 0; i < classKeys.length; i++) {\n\t\t\t\t\t\tconst classKey = classKeys[i];\n\t\t\t\t\t\tif (theme[classKey]) {\n\t\t\t\t\t\t\ttheme[classKey] = `${theme[classKey]} ${currentClasses[key][classKey].join(' ')}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ticache.set(css, theme, false);\n\t\t\t\treturn theme as T;\n\t\t\t},\n\t\t\tvariant() {\n\t\t\t\tconst theme = getTheme();\n\t\t\t\tif (theme && isThemeWithVariant(theme)) {\n\t\t\t\t\treturn theme.variant.value.root;\n\t\t\t\t}\n\t\t\t},\n\t\t\tset,\n\t\t\tget(): ThemeWithVariantsInjectorPayload | ThemeInjectorPayload | undefined {\n\t\t\t\tconst currentTheme = injector.get<ThemeInjector>(INJECTED_THEME_KEY);\n\t\t\t\tif (currentTheme) {\n\t\t\t\t\treturn currentTheme.get();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n);\n\nexport default theme;\n","import { create } from '@dojo/framework/core/vdom';\nimport coreTheme, {\n\tThemeProperties as CoreThemeProperties\n} from '@dojo/framework/core/middleware/theme';\nimport { ThemeWithVariant, ClassNames, Theme } from '@dojo/framework/core/interfaces';\nimport { isThemeInjectorPayloadWithVariant } from '@dojo/framework/core/ThemeInjector';\n\nconst factory = create({ coreTheme });\nexport const THEME_KEY = ' _key';\n\nfunction uppercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toUpperCase()}${value.slice(1)}`;\n}\n\nfunction lowercaseFirstChar(value: string) {\n\treturn `${value.charAt(0).toLowerCase()}${value.slice(1)}`;\n}\n\nfunction isThemeWithVariant(theme: any): theme is ThemeWithVariant {\n\treturn theme && theme.hasOwnProperty('variant');\n}\n\nexport interface ThemeProperties extends CoreThemeProperties {}\n\nexport const theme = factory(function({ middleware: { coreTheme }, properties }) {\n\tfunction getTheme() {\n\t\tconst { theme } = properties();\n\t\tif (theme) {\n\t\t\treturn theme;\n\t\t}\n\n\t\tconst themePayload = coreTheme.get();\n\t\tif (isThemeInjectorPayloadWithVariant(themePayload)) {\n\t\t\treturn { theme: themePayload.theme, variant: themePayload.variant };\n\t\t} else if (themePayload) {\n\t\t\treturn themePayload.theme;\n\t\t}\n\t}\n\n\treturn {\n\t\tcompose: <T extends ClassNames, B extends ClassNames>(\n\t\t\tbaseCss: B,\n\t\t\tcss: T,\n\t\t\tprefix?: string\n\t\t): Theme | ThemeWithVariant => {\n\t\t\tconst theme = getTheme();\n\t\t\tconst baseKey = baseCss[THEME_KEY];\n\t\t\tconst variantKey = css[THEME_KEY];\n\t\t\tconst virtualCss = Object.keys(baseCss).reduce(\n\t\t\t\t(virtualCss, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn virtualCss;\n\t\t\t\t\t}\n\t\t\t\t\tif (prefix && !virtualCss[`${prefix}${uppercaseFirstChar(key)}`]) {\n\t\t\t\t\t\tvirtualCss[`${prefix}${uppercaseFirstChar(key)}`] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\tif (!css[key]) {\n\t\t\t\t\t\tvirtualCss[key] = ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn virtualCss;\n\t\t\t\t},\n\t\t\t\t{ [THEME_KEY]: variantKey } as ClassNames\n\t\t\t);\n\t\t\tconst virtualTheme = coreTheme.classes(virtualCss);\n\t\t\tconst variantTheme = coreTheme.classes(css);\n\t\t\tlet baseTheme = coreTheme.classes(baseCss);\n\t\t\tif (prefix) {\n\t\t\t\tconst prefixedCss = Object.keys({ ...virtualTheme, ...variantTheme }).reduce(\n\t\t\t\t\t(prefixCss, key) => {\n\t\t\t\t\t\tif (key.indexOf(prefix) === 0 && key !== prefix) {\n\t\t\t\t\t\t\tconst classKey = lowercaseFirstChar(key.replace(prefix, ''));\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!variantTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key] &&\n\t\t\t\t\t\t\t\tvirtualTheme[key].trim()\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = `${baseTheme[classKey]} ${virtualTheme[\n\t\t\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\t\t].trim()}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\t\t\tprefixCss[classKey] = variantTheme[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn prefixCss;\n\t\t\t\t\t},\n\t\t\t\t\t{} as ClassNames\n\t\t\t\t);\n\t\t\t\tbaseTheme = { ...baseTheme, ...prefixedCss };\n\n\t\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariant: theme.variant\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...theme,\n\t\t\t\t\t[baseKey]: baseTheme\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst constructedTheme = Object.keys(baseTheme).reduce(\n\t\t\t\t(theme, key) => {\n\t\t\t\t\tif (key === THEME_KEY) {\n\t\t\t\t\t\treturn theme;\n\t\t\t\t\t}\n\t\t\t\t\tconst variantComposesClass = variantTheme[key] && variantTheme[key].trim();\n\t\t\t\t\tif (variantTheme[key]) {\n\t\t\t\t\t\ttheme[key] = variantComposesClass;\n\t\t\t\t\t} else if (virtualTheme[key] && virtualTheme[key].trim()) {\n\t\t\t\t\t\ttheme[key] = `${theme[key]} ${virtualTheme[key].trim()}`;\n\t\t\t\t\t}\n\t\t\t\t\treturn theme;\n\t\t\t\t},\n\t\t\t\t{ ...baseTheme } as ClassNames\n\t\t\t);\n\n\t\t\tif (isThemeWithVariant(theme)) {\n\t\t\t\treturn {\n\t\t\t\t\ttheme: {\n\t\t\t\t\t\ttheme: {\n\t\t\t\t\t\t\t...theme.theme.theme,\n\t\t\t\t\t\t\t[baseKey]: constructedTheme\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvariants: theme.theme.variants\n\t\t\t\t\t},\n\t\t\t\t\tvariant: theme.variant\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...theme,\n\t\t\t\t[baseKey]: constructedTheme\n\t\t\t};\n\t\t},\n\t\t...coreTheme\n\t};\n});\n\nexport default theme;\n","import { create, tsx } from '@dojo/framework/core/vdom';\nimport theme from '../middleware/theme';\nimport { formatAriaProperties } from '../common/util';\nimport * as css from '../theme/default/icon.m.css';\n\nexport type IconType = keyof typeof css;\n\nexport interface IconProperties {\n\t/** An optional, visually hidden label for the icon */\n\taltText?: string;\n\t/** Custom aria attributes */\n\taria?: { [key: string]: string | null };\n\t/** Icon type, e.g. downIcon, searchIcon, etc. */\n\ttype: IconType;\n\t/** Size modifier for the icon; small, medium or large */\n\tsize?: 'small' | 'medium' | 'large';\n}\n\nconst factory = create({ theme }).properties<IconProperties>();\n\nexport const Icon = factory(function Icon({ properties, middleware: { theme } }) {\n\tconst { aria = {}, type, altText, size } = properties();\n\n\tconst classes = theme.classes(css);\n\tconst sizeClass = size && classes[size as keyof typeof classes];\n\n\treturn (\n\t\t<i\n\t\t\tclasses={[theme.variant(), classes.root, classes.icon, classes[type], sizeClass]}\n\t\t\trole=\"img\"\n\t\t\taria-hidden={altText ? 'false' : 'true'}\n\t\t\taria-label={altText}\n\t\t\t{...formatAriaProperties(aria)}\n\t\t/>\n\t);\n});\n\nexport default Icon;\n","import { create, w } from '@dojo/framework/core/vdom';\nimport Header from '@dojo/widgets/header';\nimport * as css from './styles/Menu.m.css';\n\nconst extraClasses = {\n\t'@dojo/widgets/header': {\n\t\troot: [css.root],\n\t\ttitle: [css.title]\n\t}\n};\n\nconst factory = create();\n\nexport default factory(function Menu() {\n\treturn w(Header, {classes: extraClasses}, [\n\t\t{\n\t\t\ttitle: 'SQL Executor v0.2',\n\n\t\t}\n\t]);\n});\n","import { Evented, EventObject } from '../core/Evented';\nimport Map from '../shim/Map';\nimport { NodeHandlerInterface } from './interfaces';\n\n/**\n * Enum to identify the type of event.\n * Listening to 'Projector' will notify when projector is created or updated\n * Listening to 'Widget' will notify when widget root is created or updated\n */\nexport enum NodeEventType {\n\tProjector = 'Projector',\n\tWidget = 'Widget'\n}\n\nexport type NodeHandlerEventMap = {\n\tProjector: EventObject<NodeEventType.Projector>;\n\tWidget: EventObject<NodeEventType.Widget>;\n};\n\nexport class NodeHandler extends Evented<NodeHandlerEventMap> implements NodeHandlerInterface {\n\tprivate _nodeMap = new Map<string | number, Element>();\n\n\tpublic get(key: string | number): Element | undefined {\n\t\treturn this._nodeMap.get(key);\n\t}\n\n\tpublic has(key: string | number): boolean {\n\t\treturn this._nodeMap.has(key);\n\t}\n\n\tpublic add(element: Element, key: string | number): void {\n\t\tthis._nodeMap.set(key, element);\n\t\tthis.emit({ type: `${key}` });\n\t}\n\n\tpublic addRoot(): void {\n\t\tthis.emit({ type: NodeEventType.Widget });\n\t}\n\n\tpublic remove(key: string | number) {\n\t\tthis._nodeMap.delete(key);\n\t}\n\n\tpublic addProjector(): void {\n\t\tthis.emit({ type: NodeEventType.Projector });\n\t}\n\n\tpublic clear(): void {\n\t\tthis._nodeMap.clear();\n\t}\n}\n\nexport default NodeHandler;\n","import Map from '../shim/Map';\nimport WeakMap from '../shim/WeakMap';\nimport { auto } from './diff';\nimport {\n\tAfterRender,\n\tBeforeProperties,\n\tBeforeRender,\n\tDiffPropertyReaction,\n\tDNode,\n\tRender,\n\tWidgetMetaConstructor,\n\tWidgetBaseInterface,\n\tWidgetProperties,\n\tMetaBase,\n\tRenderResult\n} from './interfaces';\nimport RegistryHandler from './RegistryHandler';\nimport NodeHandler from './NodeHandler';\nimport { WIDGET_BASE_TYPE } from './Registry';\nimport { Handle } from '../core/Destroyable';\nimport { Base } from './meta/Base';\nimport { widgetInstanceMap, v } from './vdom';\n\ninterface ReactionFunctionConfig {\n\tpropertyName: string;\n\treaction: DiffPropertyReaction;\n}\n\nexport type BoundFunctionData = { boundFunc: (...args: any[]) => any; scope: any };\n\nconst decoratorMap = new WeakMap<Function, Map<string, any[]>>();\nconst builtDecoratorMap = new WeakMap<Function, Map<string, any[]>>();\nconst boundAuto = auto.bind(null);\n\nfunction isDomMeta(meta: any): meta is Base {\n\treturn Boolean(meta.afterRender);\n}\n\nconst IGNORE_LIST: (string | symbol)[] = ['render', ...Object.getOwnPropertyNames(Object.getPrototypeOf({}))];\n\nconst autoBindCache = new Map<any, string[]>();\n\nfunction autoBind(instance: any) {\n\tlet prototype = instance.constructor.prototype;\n\n\tlet keys: string[] = [];\n\n\tif (autoBindCache.has(prototype)) {\n\t\tkeys = autoBindCache.get(prototype) as string[];\n\t} else {\n\t\twhile (prototype) {\n\t\t\tconst ownKeys = Object.getOwnPropertyNames(prototype);\n\t\t\tif (prototype.constructor.hasOwnProperty('_type')) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tconst descriptors = Object.getOwnPropertyDescriptors(prototype);\n\t\t\tconst descriptorKeys = Object.keys(descriptors);\n\t\t\tconst getterKeys = descriptorKeys.filter((key) => descriptors[key].get || descriptors[key].set);\n\t\t\tconst filteredKeys = ownKeys.filter((key) => getterKeys.indexOf(key) === -1);\n\n\t\t\tkeys = [...keys, ...filteredKeys];\n\t\t\tprototype = Object.getPrototypeOf(prototype);\n\t\t}\n\n\t\tkeys = keys.filter((k) => typeof instance[k] === 'function' && IGNORE_LIST.indexOf(k) === -1);\n\n\t\tautoBindCache.set(prototype, keys);\n\t}\n\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key = keys[i];\n\n\t\tconst boundFunc = instance[key].bind(instance);\n\t\tObject.defineProperty(instance, key, {\n\t\t\tconfigurable: true,\n\t\t\tget() {\n\t\t\t\treturn boundFunc;\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n * Main widget base for all widgets to extend\n */\nexport class WidgetBase<P = WidgetProperties, C extends DNode = DNode> implements WidgetBaseInterface<P, C> {\n\t/**\n\t * static identifier\n\t */\n\tstatic _type = WIDGET_BASE_TYPE;\n\n\t/**\n\t * property specifically for typing when using tsx\n\t */\n\t/* tslint:disable-next-line:variable-name */\n\tpublic __properties__!: this['properties'] & WidgetProperties & { __children__?: DNode | (DNode | DNode[])[] };\n\n\t/**\n\t * children array\n\t */\n\tprivate _children: (C | null)[];\n\n\t/**\n\t * Indicates if it is the initial set properties cycle\n\t */\n\tprivate _initialProperties = true;\n\n\t/**\n\t * internal widget properties\n\t */\n\tprivate _properties: P & WidgetProperties & { [index: string]: any };\n\n\t/**\n\t * Array of property keys considered changed from the previous set properties\n\t */\n\tprivate _changedPropertyKeys: string[] = [];\n\n\t/**\n\t * map of decorators that are applied to this widget\n\t */\n\tprivate _decoratorCache: Map<string, any[]>;\n\n\tprivate _registry: RegistryHandler = new RegistryHandler();\n\n\tprivate _metaMap: Map<WidgetMetaConstructor<any>, MetaBase> | undefined;\n\n\tprivate _boundRenderFunc: Render;\n\n\tprivate _boundInvalidate: () => void;\n\n\tprivate _nodeHandler: NodeHandler = new NodeHandler();\n\n\tprivate _handles: Handle[] = [];\n\n\t/**\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tthis._children = [];\n\t\tthis._decoratorCache = new Map<string, any[]>();\n\t\tthis._properties = {} as P;\n\t\tthis._boundRenderFunc = this.render.bind(this);\n\t\tthis._boundInvalidate = this.invalidate.bind(this);\n\t\tthis.own(this._registry);\n\t\tthis.own(this._registry.on('invalidate', this._boundInvalidate));\n\n\t\twidgetInstanceMap.set(this, {\n\t\t\tdirty: true,\n\t\t\tonAttach: (): void => {\n\t\t\t\tthis.onAttach();\n\t\t\t},\n\t\t\tonDetach: (): void => {\n\t\t\t\tthis.onDetach();\n\t\t\t\tthis.destroy();\n\t\t\t},\n\t\t\tnodeHandler: this._nodeHandler,\n\t\t\trendering: false,\n\t\t\tinputProperties: {},\n\t\t\tregistry: this.registry\n\t\t});\n\n\t\tthis.own({\n\t\t\tdestroy: () => {\n\t\t\t\twidgetInstanceMap.delete(this);\n\t\t\t\tthis._nodeHandler.clear();\n\t\t\t\tthis._nodeHandler.destroy();\n\t\t\t}\n\t\t});\n\n\t\tthis._runAfterConstructors();\n\t}\n\n\tprotected meta<T extends MetaBase>(MetaType: WidgetMetaConstructor<T>): T {\n\t\tif (this._metaMap === undefined) {\n\t\t\tthis._metaMap = new Map<WidgetMetaConstructor<any>, MetaBase>();\n\t\t}\n\t\tlet cached = this._metaMap.get(MetaType);\n\t\tif (!cached) {\n\t\t\tcached = new MetaType({\n\t\t\t\tinvalidate: this._boundInvalidate,\n\t\t\t\tnodeHandler: this._nodeHandler,\n\t\t\t\tbind: this\n\t\t\t});\n\t\t\tthis.own(cached);\n\t\t\tthis._metaMap.set(MetaType, cached);\n\t\t}\n\n\t\treturn cached as T;\n\t}\n\n\tprotected onAttach(): void {\n\t\t// Do nothing by default.\n\t}\n\n\tprotected onDetach(): void {\n\t\t// Do nothing by default.\n\t}\n\n\tpublic get properties(): Readonly<P> & Readonly<WidgetProperties> {\n\t\treturn this._properties;\n\t}\n\n\tpublic get changedPropertyKeys(): string[] {\n\t\treturn [...this._changedPropertyKeys];\n\t}\n\n\tpublic __setProperties__(originalProperties: this['properties']): void {\n\t\tconst instanceData = widgetInstanceMap.get(this);\n\t\tif (instanceData) {\n\t\t\tinstanceData.inputProperties = originalProperties;\n\t\t}\n\t\tconst properties = this._runBeforeProperties(originalProperties);\n\t\tconst registeredDiffPropertyNames = this.getDecorator('registeredDiffProperty');\n\t\tconst changedPropertyKeys: string[] = [];\n\t\tconst propertyNames = Object.keys(properties);\n\n\t\tif (this._initialProperties) {\n\t\t\tautoBind(this);\n\t\t}\n\n\t\tif (this._initialProperties === false || registeredDiffPropertyNames.length !== 0) {\n\t\t\tconst allProperties = [...propertyNames, ...Object.keys(this._properties)];\n\t\t\tconst checkedProperties: (string | number)[] = [];\n\t\t\tconst diffPropertyResults: any = {};\n\t\t\tlet runReactions = false;\n\n\t\t\tfor (let i = 0; i < allProperties.length; i++) {\n\t\t\t\tconst propertyName = allProperties[i];\n\t\t\t\tif (checkedProperties.indexOf(propertyName) !== -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcheckedProperties.push(propertyName);\n\t\t\t\tconst previousProperty = this._properties[propertyName];\n\t\t\t\tconst newProperty = properties[propertyName];\n\t\t\t\tif (registeredDiffPropertyNames.indexOf(propertyName) !== -1) {\n\t\t\t\t\trunReactions = true;\n\t\t\t\t\tconst diffFunctions = this.getDecorator(`diffProperty:${propertyName}`);\n\t\t\t\t\tfor (let i = 0; i < diffFunctions.length; i++) {\n\t\t\t\t\t\tconst result = diffFunctions[i](previousProperty, newProperty);\n\t\t\t\t\t\tif (result.changed && changedPropertyKeys.indexOf(propertyName) === -1) {\n\t\t\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (propertyName in properties) {\n\t\t\t\t\t\t\tdiffPropertyResults[propertyName] = result.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst result = boundAuto(previousProperty, newProperty);\n\t\t\t\t\tif (result.changed && changedPropertyKeys.indexOf(propertyName) === -1) {\n\t\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t\t}\n\t\t\t\t\tif (propertyName in properties) {\n\t\t\t\t\t\tdiffPropertyResults[propertyName] = result.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (runReactions) {\n\t\t\t\tconst reactionFunctions: ReactionFunctionConfig[] = this.getDecorator('diffReaction');\n\t\t\t\tconst executedReactions: Function[] = [];\n\t\t\t\treactionFunctions.forEach(({ reaction, propertyName }) => {\n\t\t\t\t\tconst propertyChanged = changedPropertyKeys.indexOf(propertyName) !== -1;\n\t\t\t\t\tconst reactionRun = executedReactions.indexOf(reaction) !== -1;\n\t\t\t\t\tif (propertyChanged && !reactionRun) {\n\t\t\t\t\t\treaction.call(this, this._properties, diffPropertyResults);\n\t\t\t\t\t\texecutedReactions.push(reaction);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis._properties = diffPropertyResults;\n\t\t\tthis._changedPropertyKeys = changedPropertyKeys;\n\t\t} else {\n\t\t\tfor (let i = 0; i < propertyNames.length; i++) {\n\t\t\t\tconst propertyName = propertyNames[i];\n\t\t\t\tif (typeof properties[propertyName] === 'function') {\n\t\t\t\t\tproperties[propertyName] = properties[propertyName];\n\t\t\t\t} else {\n\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._changedPropertyKeys = changedPropertyKeys;\n\t\t\tthis._properties = { ...properties };\n\t\t}\n\t\tthis._initialProperties = false;\n\n\t\tif (this._changedPropertyKeys.length > 0) {\n\t\t\tthis.invalidate();\n\t\t}\n\t}\n\n\tpublic get children(): (C | null)[] {\n\t\treturn this._children;\n\t}\n\n\tpublic __setChildren__(children: (C | null)[]): void {\n\t\tif (this._children.length > 0 || children.length > 0) {\n\t\t\tthis._children = children;\n\t\t\tthis.invalidate();\n\t\t}\n\t}\n\n\tpublic __render__(): RenderResult {\n\t\tconst instanceData = widgetInstanceMap.get(this);\n\t\tif (instanceData) {\n\t\t\tinstanceData.dirty = false;\n\t\t}\n\t\tconst render = this._runBeforeRenders();\n\t\tconst dNode = this._runAfterRenders(render());\n\t\treturn dNode;\n\t}\n\n\tpublic invalidate(): void {\n\t\tconst instanceData = widgetInstanceMap.get(this);\n\t\tif (instanceData && instanceData.invalidate) {\n\t\t\tinstanceData.invalidate();\n\t\t}\n\t}\n\n\tprotected render(): DNode | DNode[] {\n\t\treturn v('div', {}, this.children);\n\t}\n\n\t/**\n\t * Function to add decorators to WidgetBase\n\t *\n\t * @param decoratorKey The key of the decorator\n\t * @param value The value of the decorator\n\t */\n\tprotected addDecorator(decoratorKey: string, value: any): void {\n\t\tvalue = Array.isArray(value) ? value : [value];\n\t\tif (this.hasOwnProperty('constructor')) {\n\t\t\tlet decoratorList = decoratorMap.get(this.constructor);\n\t\t\tif (!decoratorList) {\n\t\t\t\tdecoratorList = new Map<string, any[]>();\n\t\t\t\tdecoratorMap.set(this.constructor, decoratorList);\n\t\t\t}\n\n\t\t\tlet specificDecoratorList = decoratorList.get(decoratorKey);\n\t\t\tif (!specificDecoratorList) {\n\t\t\t\tspecificDecoratorList = [];\n\t\t\t\tdecoratorList.set(decoratorKey, specificDecoratorList);\n\t\t\t}\n\t\t\tspecificDecoratorList.push(...value);\n\t\t} else {\n\t\t\tconst decorators = this.getDecorator(decoratorKey);\n\t\t\tthis._decoratorCache.set(decoratorKey, [...decorators, ...value]);\n\t\t}\n\t}\n\n\t/**\n\t * Function to build the list of decorators from the global decorator map.\n\t *\n\t * @param decoratorKey  The key of the decorator\n\t * @return An array of decorator values\n\t * @private\n\t */\n\tprivate _buildDecoratorList(decoratorKey: string): any[] {\n\t\tconst allDecorators = [];\n\n\t\tlet constructor = this.constructor;\n\n\t\twhile (constructor) {\n\t\t\tconst instanceMap = decoratorMap.get(constructor);\n\t\t\tif (instanceMap) {\n\t\t\t\tconst decorators = instanceMap.get(decoratorKey);\n\n\t\t\t\tif (decorators) {\n\t\t\t\t\tallDecorators.unshift(...decorators);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconstructor = Object.getPrototypeOf(constructor);\n\t\t}\n\n\t\tconst buildDecorators = builtDecoratorMap.get(this.constructor) || new Map();\n\t\tbuildDecorators.set(decoratorKey, allDecorators);\n\t\tbuiltDecoratorMap.set(this.constructor, buildDecorators);\n\t\treturn allDecorators;\n\t}\n\n\t/**\n\t * Function to retrieve decorator values\n\t *\n\t * @param decoratorKey The key of the decorator\n\t * @returns An array of decorator values\n\t */\n\tprotected getDecorator(decoratorKey: string): any[] {\n\t\tlet decoratorCache = builtDecoratorMap.get(this.constructor);\n\t\tlet allDecorators =\n\t\t\tthis._decoratorCache.get(decoratorKey) || (decoratorCache && decoratorCache.get(decoratorKey));\n\n\t\tif (allDecorators !== undefined) {\n\t\t\treturn allDecorators;\n\t\t}\n\n\t\tallDecorators = this._buildDecoratorList(decoratorKey);\n\n\t\tallDecorators = [...allDecorators];\n\t\tthis._decoratorCache.set(decoratorKey, allDecorators);\n\t\treturn allDecorators;\n\t}\n\n\tpublic get registry(): RegistryHandler {\n\t\treturn this._registry;\n\t}\n\n\tprivate _runBeforeProperties(properties: any) {\n\t\tconst beforeProperties: BeforeProperties[] = this.getDecorator('beforeProperties');\n\t\tif (beforeProperties.length > 0) {\n\t\t\treturn beforeProperties.reduce(\n\t\t\t\t(properties, beforePropertiesFunction) => {\n\t\t\t\t\treturn { ...properties, ...beforePropertiesFunction.call(this, properties) };\n\t\t\t\t},\n\t\t\t\t{ ...properties }\n\t\t\t);\n\t\t}\n\t\treturn properties;\n\t}\n\n\t/**\n\t * Run all registered before renders and return the updated render method\n\t */\n\tprivate _runBeforeRenders(): Render {\n\t\tconst beforeRenders = this.getDecorator('beforeRender');\n\n\t\tif (beforeRenders.length > 0) {\n\t\t\treturn beforeRenders.reduce((render: Render, beforeRenderFunction: BeforeRender) => {\n\t\t\t\tconst updatedRender = beforeRenderFunction.call(this, render, this._properties, this._children);\n\t\t\t\tif (!updatedRender) {\n\t\t\t\t\tconsole.warn('Render function not returned from beforeRender, using previous render');\n\t\t\t\t\treturn render;\n\t\t\t\t}\n\t\t\t\treturn updatedRender;\n\t\t\t}, this._boundRenderFunc);\n\t\t}\n\t\treturn this._boundRenderFunc;\n\t}\n\n\t/**\n\t * Run all registered after renders and return the decorated DNodes\n\t *\n\t * @param dNode The DNodes to run through the after renders\n\t */\n\tprivate _runAfterRenders(dNode: DNode | DNode[]): DNode | DNode[] {\n\t\tconst afterRenders = this.getDecorator('afterRender');\n\n\t\tif (afterRenders.length > 0) {\n\t\t\tdNode = afterRenders.reduce((dNode: DNode | DNode[], afterRenderFunction: AfterRender) => {\n\t\t\t\treturn afterRenderFunction.call(this, dNode);\n\t\t\t}, dNode);\n\t\t}\n\n\t\tif (this._metaMap !== undefined) {\n\t\t\tthis._metaMap.forEach((meta) => {\n\t\t\t\tisDomMeta(meta) && meta.afterRender();\n\t\t\t});\n\t\t}\n\n\t\treturn dNode;\n\t}\n\n\tprivate _runAfterConstructors(): void {\n\t\tconst afterConstructors = this.getDecorator('afterConstructor');\n\n\t\tif (afterConstructors.length > 0) {\n\t\t\tafterConstructors.forEach((afterConstructor) => afterConstructor.call(this));\n\t\t}\n\t}\n\n\tprotected own(handle: Handle): void {\n\t\tthis._handles.push(handle);\n\t}\n\n\tprotected destroy() {\n\t\twhile (this._handles.length > 0) {\n\t\t\tconst handle = this._handles.pop();\n\t\t\tif (handle) {\n\t\t\t\thandle.destroy();\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport default WidgetBase;\n","export type DecoratorHandler = (target: any, propertyKey?: string) => void;\n\n/**\n * Generic decorator handler to take care of whether or not the decorator was called at the class level\n * or the method level.\n *\n * @param handler\n */\nexport function handleDecorator(handler: DecoratorHandler) {\n\treturn function(target: any, propertyKey?: string, descriptor?: PropertyDescriptor) {\n\t\tif (typeof target === 'function') {\n\t\t\thandler(target.prototype, undefined);\n\t\t} else {\n\t\t\thandler(target, propertyKey);\n\t\t}\n\t};\n}\n\nexport default handleDecorator;\n","import { handleDecorator } from './handleDecorator';\nimport { DiffPropertyFunction } from './../interfaces';\nimport { auto } from './../diff';\n\n/**\n * Decorator that can be used to register a function as a specific property diff\n *\n * @param propertyName  The name of the property of which the diff function is applied\n * @param diffType      The diff type, default is DiffType.AUTO.\n * @param diffFunction  A diff function to run if diffType if DiffType.CUSTOM\n */\nexport function diffProperty(\n\tpropertyName: string,\n\tdiffFunction: DiffPropertyFunction = auto,\n\treactionFunction?: Function\n) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator(`diffProperty:${propertyName}`, diffFunction.bind(null));\n\t\ttarget.addDecorator('registeredDiffProperty', propertyName);\n\t\tif (reactionFunction || propertyKey) {\n\t\t\ttarget.addDecorator('diffReaction', {\n\t\t\t\tpropertyName,\n\t\t\t\treaction: propertyKey ? target[propertyKey] : reactionFunction\n\t\t\t});\n\t\t}\n\t});\n}\n\nexport default diffProperty;\n","import { deepMixin } from '@dojo/framework/core/util';\nimport * as Grid from 'dgrid/Grid';\nimport * as declare from 'dojo/_base/declare';\nimport * as CellSelection from 'dgrid/CellSelection';\nimport * as Selector from 'dgrid/Selector';\nimport * as ColumnHider from 'dgrid/extensions/ColumnHider';\nimport * as ColumnReorder from 'dgrid/extensions/ColumnReorder';\nimport * as ColumnResizer from 'dgrid/extensions/ColumnResizer';\nimport * as CompoundColumns from 'dgrid/extensions/CompoundColumns';\nimport * as ColumnSet from 'dgrid/ColumnSet';\nimport * as Tree from 'dgrid/Tree';\nimport * as MemoryStore from 'dstore/Memory';\nimport * as TreeStore from 'dstore/Tree';\nimport * as Trackable from 'dstore/Trackable';\nimport * as StoreMixin from 'dgrid/_StoreMixin';\nimport * as OnDemandGrid from 'dgrid/OnDemandGrid';\nimport * as Keyboard from 'dgrid/Keyboard';\nimport * as Pagination from 'dgrid/extensions/Pagination';\nimport * as Selection from 'dgrid/Selection';\nimport { DNode, WidgetProperties } from '@dojo/framework/core/interfaces';\nimport { WidgetBase } from '@dojo/framework/core/WidgetBase';\nimport { diffProperty } from '@dojo/framework/core/decorators/diffProperty';\nimport { w, dom } from '@dojo/framework/core/vdom';\nimport { columnsDiff } from './diff';\n\nexport enum SelectionMode {\n\tnone = 'none',\n\tmultiple = 'multiple',\n\tsingle = 'single',\n\textended = 'extended'\n}\n\nexport interface Selections {\n\t[id: string]: boolean;\n}\n\nexport interface DgridWrapperFeatures {\n\t// Setting pagination to true turns off infinite scrolling and displays rows in discrete pages.\n\tpagination?: boolean;\n\t// Add keyboard navigation capability.\n\tkeyboard?: boolean;\n\t// Add selection capabilities to a grid.\n\tselection?: SelectionType;\n\t// Add selector column to the grid.  selection must be set as well.\n\tselector?: boolean;\n\t// Support hierarchical data\n\t// When tree is enabled, the items in the data array are expected to have the following properties:\n\t//  - hasChildren: boolean, true indicates this item has children\n\t//  - parent: ID, if this item is a child, parent is the ID of the parent item.\n\ttree?: boolean;\n\t// Enable the column hider extension.\n\tcolumnHider?: boolean;\n\t// Enable the column reorder extension.\n\tcolumnReorder?: boolean;\n\t// Enable the column resizer extension.\n\tcolumnResizer?: boolean;\n\t// Enable the compound column extension.\n\tcompoundColumns?: boolean;\n\t// Enable the column set mixin.\n\tcolumnSet?: boolean;\n}\n\nexport interface DgridWrapperProperties extends WidgetProperties {\n\tfeatures?: DgridWrapperFeatures;\n\n\t// Grid properties\n\tcolumns?: ColumnSpec;\n\tsubRows?: Array<Column[]>;\n\n\t// An array of data items that will be pushed into a Memory store and passed to the dgrid grid.\n\tdata: {}[];\n\n\t// Grid Events\n\t// See https://github.com/SitePen/dgrid/blob/master/doc/usage/Working-with-Events.md\n\tonSort?: (sort: SortData) => void;\n\tonError?: (error: ErrorData) => void;\n\n\t// _StoreMixin properties\n\t// See https://github.com/SitePen/dgrid/blob/master/_StoreMixin.js for documentation and default values.\n\tnoDataMessage?: string;\n\tloadingMessage?: string;\n\n\t// Pagination properties\n\t// See https://github.com/SitePen/dgrid/blob/master/extensions/Pagination.js for documentation and default values.\n\trowsPerPage?: number;\n\tpagingTextBox?: boolean;\n\tpreviousNextArrows?: boolean;\n\tfirstLastArrows?: boolean;\n\tpagingLinks?: number;\n\tpageSizeOptions?: number[];\n\tshowLoadingMessage?: boolean;\n\n\t// Keyboard properties\n\t// See https://github.com/SitePen/dgrid/blob/master/Keyboard.js for documentation and default values.\n\tpageSkip?: number;\n\ttabIndex?: number;\n\tonCellFocusIn?: (focused: CellFocusData) => void;\n\tonCellFocusOut?: (focused: CellFocusData) => void;\n\n\t// Selection properties\n\t// See https://github.com/SitePen/dgrid/blob/master/Selection.js for documentation and default values.\n\tdeselectOnRefresh?: boolean;\n\tallowSelectAll?: boolean;\n\tselection?: Selections;\n\tselectionMode?: SelectionMode;\n\tallowTextSelection?: boolean;\n\tonSelect?: (selected: SelectionData, selections: Selections) => void;\n\tonDeselect?: (deselected: SelectionData, selections: Selections) => void;\n\n\t// Tree properties\n\t// See https://github.com/SitePen/dgrid/blob/master/Tree.js for documentation and default values.\n\tcollapseOnRefresh?: boolean;\n\tenableTreeTransitions?: boolean;\n\ttreeIndentWidth?: number;\n\n\t// Column Hider properties\n\t// See https://github.com/SitePen/dgrid/blob/master/extensions/ColumnHider.js for documentation and default values.\n\tonColumnStateChange?: (columnChange: ColumnStateChangeData) => void;\n\n\t// Column Reorder properties\n\t// See https://github.com/SitePen/dgrid/blob/master/extensions/ColumnReorder.js for documentation and default values.\n\tonColumnReorder?: (columnReorder: ColumnReorderData) => void;\n\n\t// Column Resizer properties\n\t// See https://github.com/SitePen/dgrid/blob/master/extensions/ColumnResizer.js for documentation and default values.\n\tonColumnResize?: (columnResize: ColumnResizeData) => void;\n\n\tminWidth?: number;\n\tadjustLastColumn?: boolean;\n\n\t// Keep the scroll position\n\tkeepScrollPosition?: boolean;\n\n\tcolumnSets?: Array<Array<Column[]>>;\n}\n\n// List of dgrid property names that must be passed to dgrid when a grid is constructed.\n// These keys can not update an existing grid.  If they change, a new grid must be constructed.\nexport const constructionKeys = [\n\t'previousNextArrows',\n\t'firstLastArrows',\n\t'pagingLinks',\n\t'tabIndex',\n\t'allowSelectAll',\n\t'selection',\n\t'treeIndentWidth'\n];\n\nexport interface Column {\n\tfield?: string;\n\tid?: string | number;\n\tlabel?: string;\n\tclassName?: string;\n\tcolSpan?: number;\n\trowSpan?: number;\n\tsortable?: boolean;\n\tformatter?: string | Formatter;\n\tselector?: string;\n\tchildren?: Column[];\n\tshowChildHeaders?: boolean;\n\n\tget?(item: any): any;\n\tset?(item: any): any;\n\trenderCell?(object: any, value: any, node: HTMLElement): HTMLElement | void;\n\trenderHeaderCell?(node: HTMLElement): HTMLElement | void;\n}\n\nexport type ColumnSpec = { [key: string]: Column | string } | Column[];\n\nexport type Formatter = (value: any, object: any) => string;\n\nexport enum SelectionType {\n\trow = 'row',\n\tcell = 'cell'\n}\n\nexport interface SelectionData {\n\ttype: SelectionType;\n\tdata: {\n\t\t// The data item used to render the selected row.\n\t\titem: any;\n\t\t// If the type is \"cell\", this contains the field name that corresponds to the selected cell.\n\t\tfield?: string;\n\t}[];\n}\n\nexport interface ColumnStateChangeData {\n\tfield?: string;\n\tid?: string | number;\n\thidden: boolean;\n}\n\nexport interface ColumnResizeData {\n\tid?: string | number;\n\tfield?: string;\n\twidth?: number;\n\tparentType?: string;\n}\n\nexport interface ColumnReorderData {\n\tsubRow?: ColumnSpec;\n\tfield?: string;\n\tid?: string | number;\n}\n\nexport interface ErrorData {\n\terror?: Error | string;\n}\n\nexport interface SortData {\n\tparentType?: string;\n\tsort?: { property: string; descending?: boolean }[];\n}\n\nexport interface CellFocusData {\n\trow?: {};\n\tcell?: {};\n\tparentType?: string;\n}\n\nexport interface DgridInnerWrapperProperties extends DgridWrapperProperties {\n\t// The inner wrapper can pass a state object to the outer wrapper widget so\n\t// a dgrid grid can be destroyed and recreated back to the same state when\n\t// desired.\n\tgridState?: DgridState;\n\tonGridState: (state: DgridState) => void;\n}\n\n/**\n * When a dgrid grid is destroyed some of its state will need to be restored when the next\n * grid is created.  This interface describes that state.\n */\nexport interface DgridState {\n\tcurrentPage?: number;\n}\n\ninterface DgridGrid extends Grid, Pagination, Keyboard, Selection {}\n\ninterface DgridProperties\n\textends Grid.KwArgs,\n\t\tStoreMixin.KwArgs,\n\t\tPagination.KwArgs,\n\t\tOnDemandGrid.KwArgs,\n\t\tSelection.KwArgs,\n\t\tColumnSet.KwArgs {\n\tselection?: Selections;\n}\n\ninterface DgridSelectionEvent extends Event {\n\trows?: { data: any }[];\n\tcells?: { data: any }[];\n}\n\ninterface DgridColumnHiderEvent extends Event {\n\tgrid: DgridGrid;\n\tcolumn: Column;\n\thidden: boolean;\n}\n\ninterface DgridColumnReorderEvent extends Event {\n\tgrid: DgridGrid;\n\tsubRow: ColumnSpec;\n\tcolumn: Column;\n}\n\ninterface DgridColumnResizeEvent extends Event {\n\tgrid: DgridGrid;\n\tcolumnId: string | number;\n\twidth: number;\n\tparentType?: string;\n}\n\ninterface DgridSortEvent extends Event {\n\tgrid: DgridGrid;\n\tparentType?: string;\n\tsort?: { property: string; descending?: boolean }[];\n}\n\ninterface DgridErrorEvent extends Event {\n\tgrid: DgridGrid;\n\terror?: Error | string;\n}\n\ninterface DgridCellFocusEvent extends Event {\n\tgrid: DgridGrid;\n\trow?: {};\n\tcell?: {};\n\tparentType?: string;\n}\n\nfunction duplicate<T extends {}>(source: T): T {\n\tconst target = Object.create(Object.getPrototypeOf(source));\n\n\treturn deepMixin(target, source);\n}\n\nfunction buildSelectEvent(event: DgridSelectionEvent): SelectionData {\n\tconst selectionType = event.rows ? SelectionType.row : SelectionType.cell;\n\tconst data: SelectionData = {\n\t\ttype: selectionType,\n\t\tdata: []\n\t};\n\tif (selectionType === SelectionType.row) {\n\t\tevent.rows &&\n\t\t\t(data.data = event.rows.map((rowData: any) => {\n\t\t\t\treturn {\n\t\t\t\t\titem: rowData.data\n\t\t\t\t};\n\t\t\t}));\n\t} else {\n\t\tevent.cells &&\n\t\t\t(data.data = event.cells.map((cellData: any) => {\n\t\t\t\treturn {\n\t\t\t\t\titem: cellData.row.data,\n\t\t\t\t\tfield: cellData.column.field\n\t\t\t\t};\n\t\t\t}));\n\t}\n\n\treturn data;\n}\n\nfunction buildColumnStateChange({ column: { field, id }, hidden }: DgridColumnHiderEvent): ColumnStateChangeData {\n\treturn {\n\t\tfield,\n\t\tid,\n\t\thidden\n\t};\n}\n\nfunction buildColumnReorder({ column: { field, id }, subRow }: DgridColumnReorderEvent): ColumnReorderData {\n\treturn {\n\t\tfield,\n\t\tid,\n\t\tsubRow\n\t};\n}\n\nfunction buildColumnResize({\n\tgrid: { columns },\n\twidth,\n\tparentType,\n\tcolumnId\n}: DgridColumnResizeEvent): ColumnResizeData {\n\tconst { field, id } = columns[columnId];\n\treturn {\n\t\tfield,\n\t\tid,\n\t\twidth,\n\t\tparentType\n\t};\n}\n\nfunction buildSort({ parentType, sort }: DgridSortEvent): SortData {\n\treturn {\n\t\tparentType,\n\t\tsort\n\t};\n}\n\nfunction buildError({ error }: DgridErrorEvent): ErrorData {\n\treturn {\n\t\terror\n\t};\n}\n\nfunction buildCellFocus({ row, cell, parentType }: DgridCellFocusEvent): CellFocusData {\n\treturn {\n\t\trow,\n\t\tcell,\n\t\tparentType\n\t};\n}\n\nfunction duplicateColumnDef(columnsSpec: Grid.ColumnSpec): Grid.ColumnSpec {\n\tif (Array.isArray(columnsSpec)) {\n\t\tif (columnsSpec.length === 0) {\n\t\t\treturn [];\n\t\t}\n\t\treturn columnsSpec.map((columnSpec) => {\n\t\t\treturn duplicate(columnSpec);\n\t\t});\n\t} else {\n\t\treturn duplicate(columnsSpec);\n\t}\n}\n\nfunction duplicateColumnSets(columnSets: Array<Array<Grid.Column[]>>): Array<Array<Grid.Column[]>> {\n\treturn columnSets.map((subRows) => {\n\t\treturn subRows.map((subRow) => {\n\t\t\treturn subRow.map((column) => duplicate(column));\n\t\t});\n\t});\n}\n\nfunction buildConstructor(properties: DgridInnerWrapperProperties, emitGridState: () => void): any {\n\tconst {\n\t\tpagination = false,\n\t\tkeyboard = false,\n\t\tselection = undefined,\n\t\tselector = false,\n\t\ttree = false,\n\t\tcolumnHider = false,\n\t\tcolumnReorder = false,\n\t\tcolumnResizer = false,\n\t\tcompoundColumns = false,\n\t\tcolumnSet = false\n\t} = properties.features || {};\n\n\tlet mixins: any[] = [];\n\tlet overrides: any = {};\n\tif (pagination) {\n\t\tmixins.push(Grid);\n\t\tmixins.push(Pagination);\n\n\t\toverrides._updateNavigation = function _updateNavigation(total: number) {\n\t\t\tthis.inherited(_updateNavigation, arguments);\n\t\t\temitGridState();\n\t\t};\n\t} else {\n\t\tmixins.push(OnDemandGrid);\n\t}\n\n\tif (tree) {\n\t\tmixins.push(Tree);\n\t}\n\n\tif (keyboard) {\n\t\tmixins.push(Keyboard);\n\t}\n\n\tif (selection) {\n\t\tmixins.push(selection === SelectionType.row ? Selection : CellSelection);\n\t\tif (selector) {\n\t\t\tmixins.push(Selector);\n\t\t}\n\t}\n\n\tif (columnHider) {\n\t\tmixins.push(ColumnHider);\n\t}\n\n\tif (columnReorder) {\n\t\tmixins.push(ColumnReorder);\n\t}\n\n\tif (columnResizer) {\n\t\tmixins.push(ColumnResizer);\n\t}\n\n\tif (compoundColumns) {\n\t\tmixins.push(CompoundColumns);\n\t}\n\n\tif (columnSet) {\n\t\tmixins.push(ColumnSet);\n\t}\n\n\treturn declare(mixins as any, overrides);\n}\n\nfunction buildCollection(properties: DgridProperties, data?: {}[], features?: DgridWrapperFeatures): any {\n\tconst treeEnabled = features && features.tree;\n\tlet mixins: any[] = [MemoryStore, Trackable];\n\tlet overrides: any = {};\n\n\tif (treeEnabled) {\n\t\tmixins.push(TreeStore);\n\t\toverrides.getRootCollection = function() {\n\t\t\treturn this.root.filter((item: any) => {\n\t\t\t\treturn item.parent == null;\n\t\t\t});\n\t\t};\n\t}\n\n\tconst Store = declare(mixins as any, overrides);\n\tlet collection = new Store({\n\t\tdata\n\t});\n\tif (treeEnabled) {\n\t\tcollection = collection.getRootCollection();\n\t}\n\treturn collection;\n}\n\n/**\n * Wrap a dgrid widget, so that it can exist inside of the Dojo 2 widgeting system.\n *\n * This widget will construct a dgrid widget based on DgridProperties but it will only react to\n * changes in DgridProperties#data.  If the other properties change, then this widget will need\n * to be destroyed and a new one created.\n */\nexport class DgridInnerWrapper extends WidgetBase<DgridInnerWrapperProperties> {\n\tprivate _grid!: DgridGrid;\n\n\tprotected render(): DNode {\n\t\tlet grid = this._grid;\n\t\tif (!grid) {\n\t\t\tgrid = this._grid = this.initGrid();\n\t\t\tthis.registerGridEvents();\n\t\t} else {\n\t\t\tthis.setChangedGridProperites();\n\t\t}\n\t\treturn dom({ node: grid.domNode });\n\t}\n\n\tprotected onAttach(): void {\n\t\tconst grid = this._grid;\n\t\tconst handle = grid.on('dgrid-refresh-complete', () => {\n\t\t\thandle.remove();\n\t\t\tthis.restoreGridState();\n\t\t});\n\t\tgrid.startup();\n\t}\n\n\tprotected onDetach(): void {\n\t\t// @dojo/framework expects this node to still be attached so we need to\n\t\tthis._grid && this._grid.destroy();\n\t}\n\n\tprivate emitGridState(): void {\n\t\tthis.properties.onGridState({\n\t\t\tcurrentPage: this._grid._currentPage\n\t\t});\n\t}\n\n\tprivate initGrid(): DgridGrid {\n\t\tconst Constructor = buildConstructor(this.properties, this.emitGridState.bind(this));\n\t\treturn new Constructor(this.filterProperties(this.properties));\n\t}\n\n\tprivate restoreGridState() {\n\t\tconst { gridState } = this.properties;\n\t\tif (gridState) {\n\t\t\tconst { currentPage } = gridState;\n\t\t\tif (currentPage && currentPage > 1 && this._grid.gotoPage) {\n\t\t\t\tthis._grid.gotoPage(currentPage);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate filterProperties(properties: DgridWrapperProperties): DgridProperties {\n\t\t// Remove DgridWrapperProperties properties not used by dgrid.\n\t\tconst { features, data, ...otherProperties } = properties;\n\t\tconst newProperties: DgridProperties = otherProperties;\n\t\tconst columnSet = features && features.columnSet;\n\t\tif (data != null) {\n\t\t\tnewProperties.collection = buildCollection(newProperties, data, this.properties.features);\n\t\t}\n\t\tif (columnSet) {\n\t\t\tif (newProperties.columnSets != null) {\n\t\t\t\tnewProperties.columnSets = duplicateColumnSets(newProperties.columnSets);\n\t\t\t} else {\n\t\t\t\tnewProperties.columnSets = [];\n\t\t\t}\n\t\t\tdelete newProperties.columns;\n\t\t} else {\n\t\t\tif (newProperties.columns != null) {\n\t\t\t\tnewProperties.columns = duplicateColumnDef(newProperties.columns);\n\t\t\t}\n\t\t\tdelete newProperties.columnSets;\n\t\t}\n\t\tif (newProperties.selection == null && 'selection' in newProperties) {\n\t\t\tnewProperties.selection = {};\n\t\t}\n\t\treturn newProperties;\n\t}\n\n\tprivate setChangedGridProperites(): void {\n\t\t// Set only the properties that changed to minimize how much DOM dgrid rebuild.\n\t\tconst properties: any = this.properties;\n\t\tconst changeProperties: any = {};\n\t\tthis.changedPropertyKeys.forEach((key) => {\n\t\t\tchangeProperties[key] = properties[key];\n\t\t});\n\t\tthis._grid && this._grid.set(this.filterProperties(changeProperties));\n\t}\n\n\tprivate registerGridEvents(): void {\n\t\tconst properties = this.properties;\n\t\tconst grid = this._grid;\n\t\tif (properties.features) {\n\t\t\tconst { selection, columnHider, columnReorder, columnResizer, keyboard } = properties.features;\n\t\t\tif (selection) {\n\t\t\t\tgrid.on('dgrid-select', (event: DgridSelectionEvent) => {\n\t\t\t\t\tconst onSelect = properties.onSelect;\n\t\t\t\t\tonSelect && onSelect(buildSelectEvent(event), grid.selection);\n\t\t\t\t});\n\t\t\t\tgrid.on('dgrid-deselect', (event: DgridSelectionEvent) => {\n\t\t\t\t\tconst onDeselect = properties.onDeselect;\n\t\t\t\t\tonDeselect && onDeselect(buildSelectEvent(event), grid.selection);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (columnHider) {\n\t\t\t\tgrid.on('dgrid-columnstatechange', (event: DgridColumnHiderEvent) => {\n\t\t\t\t\tconst onColumnStateChange = properties.onColumnStateChange;\n\t\t\t\t\tonColumnStateChange && onColumnStateChange(buildColumnStateChange(event));\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (columnReorder) {\n\t\t\t\tgrid.on('dgrid-columnreorder', (event: DgridColumnReorderEvent) => {\n\t\t\t\t\tconst onColumnReorder = properties.onColumnReorder;\n\t\t\t\t\tonColumnReorder && onColumnReorder(buildColumnReorder(event));\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (columnResizer) {\n\t\t\t\tgrid.on('dgrid-columnresize', (event: DgridColumnResizeEvent) => {\n\t\t\t\t\tconst onColumnResize = properties.onColumnResize;\n\t\t\t\t\tonColumnResize && onColumnResize(buildColumnResize(event));\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (keyboard) {\n\t\t\t\tgrid.on('dgrid-cellfocusin', (event: DgridCellFocusEvent) => {\n\t\t\t\t\tconst onCellFocusIn = properties.onCellFocusIn;\n\t\t\t\t\tonCellFocusIn && onCellFocusIn(buildCellFocus(event));\n\t\t\t\t});\n\n\t\t\t\tgrid.on('dgrid-cellfocusout', (event: DgridCellFocusEvent) => {\n\t\t\t\t\tconst onCellFocusOut = properties.onCellFocusOut;\n\t\t\t\t\tonCellFocusOut && onCellFocusOut(buildCellFocus(event));\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst { onSort, onError } = properties;\n\n\t\tif (onSort) {\n\t\t\tgrid.on('dgrid-sort', (event: DgridSortEvent) => {\n\t\t\t\tonSort(buildSort(event));\n\t\t\t});\n\t\t}\n\n\t\tif (onError) {\n\t\t\tgrid.on('dgrid-error', (event: DgridErrorEvent) => {\n\t\t\t\tonError(buildError(event));\n\t\t\t});\n\t\t}\n\t}\n}\n\nconst keyPrefix = 'dgridWrapper';\n\n@diffProperty('columns', columnsDiff)\nexport class DgridWrapper extends WidgetBase<DgridWrapperProperties> {\n\tprivate key = 0;\n\tprivate _gridState: DgridState | undefined;\n\n\tprotected render(): DNode {\n\t\tconst changedPropertyKeys = this.changedPropertyKeys;\n\t\t// Some properties require the dgrid grid to be destroyed and recreated because a different\n\t\t// combination of mixins is required.  Some properties when changed can be handled by an existing\n\t\t// grid.  Determine if a new grid is needed or not.  If a new grid is needed, generate a new\n\t\t// key and let the vdom throw away the old grid.\n\t\tif (changedPropertyKeys.indexOf('features') >= 0) {\n\t\t\tthis.key++;\n\t\t} else {\n\t\t\tconst gridConstructionKeys = changedPropertyKeys.filter((key) => {\n\t\t\t\treturn constructionKeys.indexOf(key) >= 0;\n\t\t\t});\n\t\t\tif (gridConstructionKeys.length) {\n\t\t\t\tthis.key++;\n\t\t\t}\n\t\t}\n\t\treturn w(DgridInnerWrapper, {\n\t\t\tkey: `${keyPrefix}${this.key}`,\n\t\t\t...this.properties,\n\t\t\tgridState: this._gridState,\n\t\t\tonGridState: (gridState: DgridState) => {\n\t\t\t\tthis._gridState = gridState;\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport default DgridWrapper;\n","import {v} from '@dojo/framework/core/vdom';\r\n\r\nabstract class Icon {\r\n    abstract iconLocation: string;\r\n\r\n    getIcon() {\r\n        let el = document.createElement('img');\r\n        el.setAttribute(\"src\", this.iconLocation);\r\n        return el;\r\n    }\r\n\r\n    getSizedIcon() {\r\n        return this.getIcon();\r\n    }\r\n\r\n    get() {\r\n        return this.getSizedIcon();\r\n    }\r\n\r\n    vi() {\r\n        return v('img', {src: this.iconLocation})\r\n    }\r\n}\r\n\r\nexport default Icon;","let failedScroll =  require('./crervon-right.svg');\r\n\r\nimport Icon from './IconInterface';\r\n\r\nclass FailedScroll extends Icon {\r\n    iconLocation = failedScroll;\r\n\r\n}\r\n\r\nexport default new FailedScroll();","let failedScroll = require('./success-scroll.png');\r\nimport Icon from './IconInterface';\r\n\r\nclass FailedScroll extends Icon {\r\n    iconLocation = failedScroll;\r\n    sizedIcon() {\r\n        let el = this.getIcon();\r\n        el.setAttribute(\"width\", '16px');\r\n        el.setAttribute('height', '16px');\r\n        return el;\r\n    }\r\n\r\n}\r\n\r\nexport default new FailedScroll();","let failedScroll = require('./failed-scroll.png');\r\nimport Icon from './IconInterface';\r\n\r\nclass FailedScroll extends Icon {\r\n    iconLocation = failedScroll;\r\n    sizedIcon() {\r\n        let el = this.getIcon();\r\n        el.setAttribute(\"width\", '16px');\r\n        el.setAttribute('height', '16px');\r\n        return el;\r\n    }\r\n}\r\n\r\nexport default new FailedScroll();\r\n","import global from '../../shim/global';\nimport { create, diffProperty, node, destroy, invalidator } from '../vdom';\nimport { createICacheMiddleware } from './icache';\nimport { FocusProperties } from '../interfaces';\n\nexport { FocusProperties } from '../interfaces';\n\nexport interface FocusState {\n\tcurrent: number;\n}\n\nconst icache = createICacheMiddleware<FocusState>();\n\nconst factory = create({ icache, diffProperty, node, destroy, invalidator }).properties<FocusProperties>();\n\nexport const focus = factory(({ middleware: { icache, diffProperty, node, destroy, invalidator } }) => {\n\tlet initialized = false;\n\tlet currentElement: HTMLElement | undefined;\n\tlet previous = 0;\n\tconst nodeSet = new Set<HTMLElement>();\n\tdiffProperty('focus', (_: FocusProperties, next: FocusProperties) => {\n\t\tconst result = next.focus && next.focus();\n\t\tif (result) {\n\t\t\tconst current = icache.getOrSet('current', 0);\n\t\t\ticache.set('current', current + 1);\n\t\t}\n\t});\n\tfunction onFocusChange() {\n\t\tconst activeElement = global.document.activeElement;\n\t\tif ((nodeSet.has(currentElement!) || nodeSet.has(activeElement)) && currentElement !== activeElement) {\n\t\t\tinvalidator();\n\t\t}\n\t\tcurrentElement = activeElement;\n\t}\n\tdestroy(() => {\n\t\tglobal.document.removeEventListener('focusin', onFocusChange);\n\t\tglobal.document.removeEventListener('focusout', onFocusChange);\n\t\tnodeSet.clear();\n\t});\n\treturn {\n\t\tshouldFocus(): boolean {\n\t\t\tconst current = icache.get('current') || 0;\n\t\t\tconst shouldFocus = current !== previous;\n\t\t\tprevious = current;\n\t\t\treturn shouldFocus;\n\t\t},\n\t\tfocus(): void {\n\t\t\tconst current = icache.getOrSet('current', 0);\n\t\t\ticache.set('current', current + 1);\n\t\t},\n\t\tisFocused(key: string | number): boolean {\n\t\t\tconst domNode = node.get(key);\n\t\t\tif (!domNode) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tnodeSet.add(domNode);\n\t\t\tif (!initialized) {\n\t\t\t\tglobal.document.addEventListener('focusin', onFocusChange);\n\t\t\t\tglobal.document.addEventListener('focusout', onFocusChange);\n\t\t\t\tinitialized = true;\n\t\t\t}\n\t\t\treturn global.document.activeElement === domNode;\n\t\t}\n\t};\n});\n\nexport default focus;\n","let failedScroll = require('./success-circle.svg');\r\nimport Icon from './IconInterface';\r\n\r\nclass FailedScroll extends Icon {\r\n    iconLocation = failedScroll;\r\n\r\n}\r\n\r\n\r\n\r\nexport default new FailedScroll();","let failedScroll = require('./failed-circle.svg');\r\nimport Icon from './IconInterface';\r\n\r\nclass FailedScroll extends Icon {\r\n    iconLocation = failedScroll;\r\n\r\n}\r\n\r\nexport default new FailedScroll();","let failedScroll = require('./pluss.svg');\r\nimport Icon from './IconInterface';\r\n\r\nclass FailedScroll extends Icon {\r\n    iconLocation = failedScroll;\r\n\r\n}\r\n\r\nexport default new FailedScroll();","import Map from '../../shim/Map';\nimport Set from '../../shim/Set';\nimport { create, diffProperty, invalidator, destroy } from '../vdom';\nimport { Invalidator } from '../interfaces';\nimport { isThenable } from '../../shim/Promise';\nimport { auto } from '../diff';\n\n// Resource General\n\ntype SubscriptionType = 'read' | 'find' | 'meta' | 'loading' | 'failed';\ntype InvalidatorMaps = { [key in SubscriptionType]: Map<string, Set<Invalidator>> };\ntype StatusType = 'LOADING' | 'FAILED';\ntype ResourceQuery<S> = { [P in keyof S]?: any };\ntype TransformConfig<T, S = void> = { [P in keyof T]: S extends void ? string : keyof S };\ninterface ResourceOptions<S> {\n\tpage: number | number[];\n\tsize: number;\n\tquery: ResourceQuery<S>;\n}\ninterface Options<S> {\n\t(options?: Partial<ResourceOptions<S>>): ResourceOptions<S>;\n\toptions: any;\n}\nexport interface ResourceFindOptions<S> {\n\toptions: ResourceOptions<S>;\n\tquery: ResourceQuery<S>;\n\tstart: number;\n\ttype?: string;\n}\n\nexport interface ResourceInitOptions {\n\tid: string;\n}\n\n// Resource Template\n\nexport interface ResourceReadRequest<RESOURCE> {\n\toffset: number;\n\tsize: number;\n\tquery: ResourceQuery<RESOURCE>;\n}\nexport interface ResourceReadResponse<RESOURCE> {\n\tdata: RESOURCE[];\n\ttotal: number;\n}\nexport interface ResourceFindRequest<RESOURCE> {\n\toptions: ResourceOptions<RESOURCE>;\n\tquery: ResourceQuery<RESOURCE>;\n\tstart: number;\n\ttype: string;\n}\nexport interface ResourceFindResponse<RESOURCE> {\n\titem: RESOURCE;\n\tindex: number;\n}\n\nexport interface ResourceFindResult<RESOURCE> {\n\titem: RESOURCE;\n\tpage: number;\n\tindex: number;\n\tpageIndex: number;\n}\n\nexport interface ResourceMeta {\n\ttotal: number | undefined;\n}\n\nexport interface ResourceGet<RESOURCE> {\n\t(request?: Partial<ResourceReadRequest<RESOURCE>>): ResourceReadResponse<RESOURCE>;\n}\nexport interface ResourcePut<RESOURCE> {\n\t(readResponse: ResourceReadResponse<RESOURCE>, readRequest: ResourceReadRequest<RESOURCE>): void;\n\t(findResponse: ResourceFindResponse<RESOURCE> | undefined, findRequest: ResourceFindRequest<RESOURCE>): void;\n}\nexport interface ResourceControls<RESOURCE> {\n\tget: ResourceGet<RESOURCE>;\n\tput: ResourcePut<RESOURCE>;\n}\nexport interface ResourceRead<RESOURCE> {\n\t(request: ResourceReadRequest<RESOURCE>, controls: ResourceControls<RESOURCE>): void | Promise<void>;\n}\nexport interface ResourceFind<RESOURCE> {\n\t(options: ResourceFindRequest<RESOURCE>, controls: ResourceControls<RESOURCE>): void | Promise<void>;\n}\n\ninterface BaseResourceInitRequest {\n\tid: string;\n}\n\nexport interface ResourceInit<RESOURCE, INIT> {\n\t(request: BaseResourceInitRequest & INIT, controls: ResourceControls<RESOURCE>): void;\n}\n\ninterface ResourceTemplate<RESOURCE = {}, MIDDLEWARE = {}> {\n\tread: ResourceRead<RESOURCE>;\n\tfind: ResourceFind<RESOURCE>;\n}\n\ninterface ResourceTemplateWithInit<RESOURCE = {}, INIT = any, MIDDLEWARE = {}> {\n\tinit: ResourceInit<RESOURCE, INIT>;\n\tread: ResourceRead<RESOURCE>;\n\tfind: ResourceFind<RESOURCE>;\n}\n\n// Resource Interfaces\n\nexport interface Resource<S = {}> {\n\tfind(options: ResourceFindOptions<S>): ResourceFindResult<S> | undefined;\n\tgetOrRead(options: ResourceOptions<S>): (undefined | S[])[];\n\tmeta(options: ResourceOptions<S>, read: boolean): ResourceMeta | undefined;\n\tisLoading(options: ResourceOptions<S> | ResourceFindOptions<S>): boolean;\n\tisFailed(options: ResourceOptions<S>): boolean;\n\tsubscribeFind(invalidator: Invalidator, options: ResourceFindOptions<S>): void;\n\tsubscribeRead(invalidator: Invalidator, options: ResourceOptions<S>): void;\n\tsubscribeMeta(invalidator: Invalidator, options: ResourceOptions<S>): void;\n\tsubscribeLoading(invalidator: Invalidator, options: ResourceOptions<S> | ResourceFindOptions<S>): void;\n\tsubscribeFailed(invalidator: Invalidator, options: ResourceOptions<S> | ResourceFindOptions<S>): void;\n\tunsubscribe(invalidator: Invalidator): void;\n\tinit(initOptions: ResourceInitOptions, requireDiff?: boolean): void;\n\tdestroy(id: string): void;\n}\n\nexport type ResourceProperty<MIDDLEWARE> = MIDDLEWARE extends infer RESOURCE\n\t? {\n\t\t\ttemplate: {\n\t\t\t\ttemplate: ResourceTemplate<RESOURCE, MIDDLEWARE>;\n\t\t\t\ttransform?: TransformConfig<MIDDLEWARE, any>;\n\t\t\t\tinitOptions?: ResourceInitOptions;\n\t\t\t\tid?: string;\n\t\t\t};\n\t\t\toptions?: Options<MIDDLEWARE>;\n\t  }\n\t: any;\n\nexport interface ResourceMiddlewareProperties<MIDDLEWARE> {\n\tresource: ResourceProperty<MIDDLEWARE>;\n}\n\ninterface ResourceTemplateWrapper<RESOURCE = {}, MIDDLEWARE = {}> {\n\ttemplate: ResourceTemplate<RESOURCE, any>;\n\ttransform?: TransformConfig<{ [P in keyof MIDDLEWARE]: {} }, RESOURCE>;\n\tinitOptions?: ResourceInitOptions;\n\tid?: string;\n}\n\n// Resource Middleware Interfaces\n\ninterface ResourceMiddleware<MIDDLEWARE = {}> {\n\t<RESOURCE>(\n\t\toptions: {\n\t\t\ttemplate: ResourceTemplate<RESOURCE, MIDDLEWARE>;\n\t\t\toptions?: Options<{}>;\n\t\t}\n\t): {\n\t\ttemplate: {\n\t\t\ttemplate: ResourceTemplate<RESOURCE, MIDDLEWARE>;\n\t\t};\n\t\toptions: Options<{}>;\n\t\ttransform?: any;\n\t};\n\t<RESOURCE, MIDDLEWARE>(\n\t\toptions: {\n\t\t\ttemplate: ResourceTemplate<RESOURCE, any>;\n\t\t\ttransform: TransformConfig<MIDDLEWARE, RESOURCE>;\n\t\t\toptions?: Options<{}>;\n\t\t}\n\t): {\n\t\ttemplate: {\n\t\t\ttemplate: ResourceTemplate<any, any>;\n\t\t\ttransform: TransformConfig<MIDDLEWARE, RESOURCE>;\n\t\t};\n\t\toptions: Options<{}>;\n\t};\n\t<RESOURCE, INIT, DATA extends RESOURCE>(\n\t\toptions: {\n\t\t\ttemplate: ResourceTemplateWithInit<RESOURCE, INIT, MIDDLEWARE>;\n\t\t\tinitOptions: INIT & { id: string };\n\t\t\toptions?: Options<{}>;\n\t\t}\n\t): {\n\t\ttemplate: {\n\t\t\ttemplate: ResourceTemplateWithInit<RESOURCE, INIT, MIDDLEWARE>;\n\t\t};\n\t\toptions: Options<{}>;\n\t\ttransform?: any;\n\t};\n\t<RESOURCE, INIT, MIDDLEWARE, DATA extends RESOURCE>(\n\t\toptions: {\n\t\t\ttemplate: ResourceTemplateWithInit<RESOURCE, INIT, any>;\n\t\t\ttransform: TransformConfig<MIDDLEWARE, RESOURCE>;\n\t\t\tinitOptions: INIT & { id: string };\n\t\t\toptions?: Options<{}>;\n\t\t}\n\t): {\n\t\ttemplate: {\n\t\t\ttemplate: ResourceTemplateWithInit<any, INIT, any>;\n\t\t\ttransform: TransformConfig<MIDDLEWARE, RESOURCE>;\n\t\t};\n\t\toptions: Options<{}>;\n\t};\n\t<RESOURCE, MIDDLEWARE>(\n\t\toptions: {\n\t\t\ttemplate: ResourceTemplateWrapper<RESOURCE, MIDDLEWARE>;\n\t\t\toptions: Options<{}>;\n\t\t}\n\t): {\n\t\ttemplate: {\n\t\t\ttemplate: ResourceTemplate<any, any>;\n\t\t\ttransform: TransformConfig<MIDDLEWARE, RESOURCE>;\n\t\t};\n\t\toptions: Options<{}>;\n\t};\n\tcreateOptions(id: string): Options<{}>;\n\tgetOrRead<RESOURCE>(\n\t\ttemplate: ResourceTemplate<RESOURCE> & { type: 'standard' },\n\t\toptions: ResourceOptions<any>\n\t): RESOURCE[][];\n\tgetOrRead<RESOURCE, INIT>(\n\t\ttemplate: ResourceTemplateWithInit<RESOURCE, INIT> & { type: 'init' },\n\t\toptions: ResourceOptions<any>,\n\t\tinitOptions: INIT & { id: string }\n\t): RESOURCE[][];\n\tgetOrRead<T extends ResourceTemplate<any, any>>(\n\t\ttemplate: {\n\t\t\ttemplate: T;\n\t\t\ttransform?: any;\n\t\t\tdata?: any;\n\t\t},\n\t\toptions: ResourceOptions<any>\n\t): T extends ResourceTemplate<infer RESOURCE> ? RESOURCE[][] : void;\n\tfind<RESOURCE>(\n\t\ttemplate: ResourceTemplate<RESOURCE> & { type: 'standard' },\n\t\toptions: ResourceFindOptions<any>\n\t): ResourceFindResult<RESOURCE> | undefined;\n\tfind<RESOURCE, INIT>(\n\t\ttemplate: ResourceTemplateWithInit<RESOURCE, INIT> & { type: 'init' },\n\t\toptions: ResourceFindOptions<any>,\n\t\tinitOptions: INIT & { id: string }\n\t): ResourceFindResult<RESOURCE> | undefined;\n\tfind<T extends ResourceTemplate<any, any>>(\n\t\ttemplate: {\n\t\t\ttemplate: T;\n\t\t\ttransform?: any;\n\t\t\tdata?: any;\n\t\t},\n\t\toptions: ResourceFindOptions<any>\n\t): T extends ResourceTemplate<infer RESOURCE> ? ResourceFindResult<RESOURCE> | undefined : void;\n\tmeta<RESOURCE>(\n\t\ttemplate: ResourceTemplate<RESOURCE> & { type: 'standard' },\n\t\toptions: ResourceOptions<any>,\n\t\trequest?: boolean\n\t): ResourceMeta | undefined;\n\tmeta<RESOURCE, INIT>(\n\t\ttemplate: ResourceTemplateWithInit<RESOURCE, INIT> & { type: 'init' },\n\t\toptions: ResourceOptions<any>,\n\t\tinitOptions: INIT & { id: string },\n\t\trequest?: boolean\n\t): ResourceMeta | undefined;\n\tmeta<T extends ResourceTemplate<any, any>>(\n\t\ttemplate: {\n\t\t\ttemplate: T;\n\t\t\ttransform?: any;\n\t\t\tdata?: any;\n\t\t},\n\t\toptions: ResourceOptions<any>,\n\t\trequest?: boolean\n\t): ResourceMeta | undefined;\n\tisLoading<RESOURCE>(\n\t\ttemplate: ResourceTemplate<RESOURCE> & { type: 'standard' },\n\t\toptions: ResourceOptions<any> | ResourceFindOptions<any>\n\t): boolean;\n\tisLoading<RESOURCE, INIT>(\n\t\ttemplate: ResourceTemplateWithInit<RESOURCE, INIT> & { type: 'init' },\n\t\toptions: ResourceOptions<any> | ResourceFindOptions<any>,\n\t\tinitOptions: INIT & { id: string }\n\t): boolean;\n\tisLoading<T extends ResourceTemplate<any, any>>(\n\t\ttemplate: {\n\t\t\ttemplate: T;\n\t\t\ttransform?: any;\n\t\t\tdata?: any;\n\t\t},\n\t\toptions: ResourceOptions<any> | ResourceFindOptions<any>\n\t): boolean;\n\tisFailed<RESOURCE>(\n\t\ttemplate: ResourceTemplate<RESOURCE> & { type: 'standard' },\n\t\toptions: ResourceOptions<any> | ResourceFindOptions<any>\n\t): boolean;\n\tisFailed<RESOURCE, INIT>(\n\t\ttemplate: ResourceTemplateWithInit<RESOURCE, INIT> & { type: 'init' },\n\t\toptions: ResourceOptions<any> | ResourceFindOptions<any>,\n\t\tinitOptions: INIT & { id: string }\n\t): boolean;\n\tisFailed<T extends ResourceTemplate<any, any>>(\n\t\ttemplate: {\n\t\t\ttemplate: T;\n\t\t\ttransform?: any;\n\t\t\tdata?: any;\n\t\t},\n\t\toptions: ResourceOptions<any> | ResourceFindOptions<any>\n\t): boolean;\n}\n\nexport function createResourceTemplate<RESOURCE = void>(\n\ttemplate: ResourceTemplate<RESOURCE>\n): ResourceTemplate<RESOURCE> & { type: 'standard' } {\n\treturn template as ResourceTemplate<RESOURCE> & { type: 'standard' };\n}\n\nexport function createResourceTemplateWithInit<RESOURCE = void, INIT = never>(\n\ttemplate: ResourceTemplateWithInit<RESOURCE, INIT>\n): ResourceTemplateWithInit<RESOURCE, INIT> & { type: 'init' } {\n\treturn template as ResourceTemplateWithInit<RESOURCE, INIT> & { type: 'init' };\n}\n\nexport function createMemoryResourceTemplate<RESOURCE = void>(): ResourceTemplateWithInit<\n\tRESOURCE,\n\t{ data: RESOURCE[] }\n> & { type: 'init' } {\n\treturn { ...memoryTemplate } as ResourceTemplateWithInit<RESOURCE, { data: RESOURCE[] }> & { type: 'init' };\n}\n\nexport function defaultFilter(query: ResourceQuery<any>, item: any, type: string = 'contains') {\n\tconst queryKeys = Object.keys(query);\n\tfor (let i = 0; i < queryKeys.length; i++) {\n\t\tconst queryKey = queryKeys[i];\n\t\tconst value = query[queryKeys[i]];\n\t\tif (value) {\n\t\t\tconst itemValue = item[queryKey];\n\t\t\tlet result = true;\n\t\t\tif (typeof itemValue === 'string' && typeof value === 'string' && type !== 'exact') {\n\t\t\t\tif (type === 'contains') {\n\t\t\t\t\tresult = item[queryKey].toLowerCase().indexOf(value.toLowerCase()) !== -1;\n\t\t\t\t} else {\n\t\t\t\t\tresult = item[queryKey].toLowerCase().indexOf(value.toLowerCase()) === 0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = value === item[queryKey];\n\t\t\t}\n\t\t\tif (!result) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n\nexport function defaultFind(request: ResourceFindRequest<any>, { put, get }: ResourceControls<any>) {\n\tconst { type, options } = request;\n\tconst { query } = options;\n\tconst { data } = get({ query });\n\tlet found: ResourceFindResponse<any> | undefined;\n\tfor (let i = 0; i < data.length; i++) {\n\t\tconst item = data[i];\n\t\tif (item && defaultFilter(request.query, item, type)) {\n\t\t\tif (!found || i >= request.start) {\n\t\t\t\tfound = {\n\t\t\t\t\titem,\n\t\t\t\t\tindex: i\n\t\t\t\t};\n\t\t\t\tif (i >= request.start) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tput(found, request);\n}\n\nexport const memoryTemplate: ResourceTemplateWithInit<any, { data: any }> = Object.freeze({\n\tinit: ({ data }, { put }) => {\n\t\tput({ data, total: data.length }, { offset: 0, size: 30, query: {} });\n\t},\n\tread: (request, { get, put }) => {\n\t\tconst { data } = get();\n\t\tconst { offset, size } = request;\n\t\tconst filteredData = Object.keys(request.query).length\n\t\t\t? data.filter((item) => item && defaultFilter(request.query, item, 'contains'))\n\t\t\t: data;\n\t\tput({ data: filteredData.slice(offset, offset + size), total: filteredData.length }, request);\n\t},\n\tfind: (request, { get, put }) => {\n\t\tconst { type, options } = request;\n\t\tconst { query } = options;\n\t\tlet { data } = get({ query });\n\t\tif (!data.length) {\n\t\t\tdata = get().data.filter((item) => defaultFilter(query, item));\n\t\t}\n\t\tlet found: ResourceFindResponse<any> | undefined;\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tconst item = data[i];\n\t\t\tif (item && defaultFilter(request.query, item, type)) {\n\t\t\t\tif (!found || i >= request.start) {\n\t\t\t\t\tfound = {\n\t\t\t\t\t\titem,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t};\n\t\t\t\t\tif (i >= request.start) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tput(found, request);\n\t}\n});\n\nfunction getMetaKey({ query, size }: ResourceOptions<any>) {\n\treturn `size-${size}-query-${JSON.stringify(query)}`;\n}\n\nfunction getFindKey(findOptions: ResourceFindOptions<any>) {\n\tconst { options, ...find } = getFindOptions(findOptions);\n\treturn `size-${options.size}-query-${JSON.stringify(options.query)}-find-${JSON.stringify(find)}`;\n}\n\nfunction getReadKey({ page, size, query }: ResourceOptions<any>): string {\n\treturn `page-${JSON.stringify(page)}-size-${size}-query-${JSON.stringify(query)}`;\n}\n\nfunction getDataKey({ query = {} }: Partial<ResourceOptions<any>> | Partial<ResourceReadRequest<any>> = {}): string {\n\treturn `${JSON.stringify(query)}`;\n}\n\nfunction getFindOptions(findOptions: ResourceFindOptions<any>) {\n\tconst { type = 'contains', start, query, options } = findOptions;\n\treturn { type, start, query, options };\n}\n\nfunction isFindOptions(options: any): options is ResourceFindOptions<any> {\n\treturn Boolean(options && !!options.options);\n}\n\nfunction isFindRequest(options: any): options is ResourceFindRequest<any> {\n\treturn isFindOptions(options);\n}\n\nfunction isFindResponse(options: any): options is ResourceFindResponse<any> {\n\treturn Boolean(options && !!options.item);\n}\n\nfunction transformData(item: any, transformConfig: TransformConfig<any>) {\n\tlet transformedItem: any = {};\n\tlet sourceKeys: string[] = [];\n\tObject.keys(transformConfig).forEach((key: string) => {\n\t\tconst sourceKey = transformConfig[key as any];\n\t\ttransformedItem = {\n\t\t\t...transformedItem,\n\t\t\t[key]: item[sourceKey]\n\t\t};\n\t\tsourceKeys.push(sourceKey);\n\t});\n\tObject.keys(item)\n\t\t.filter((key) => sourceKeys.indexOf(key) === -1)\n\t\t.forEach((key) => {\n\t\t\ttransformedItem = {\n\t\t\t\t...transformedItem,\n\t\t\t\t[key]: item[key]\n\t\t\t};\n\t\t});\n\treturn transformedItem;\n}\n\nfunction transformQuery(query: ResourceQuery<any>, transformConfig: TransformConfig<any>) {\n\tconst queryKeys = Object.keys(query);\n\tlet transformedQuery: ResourceQuery<any> = {};\n\tfor (let i = 0; i < queryKeys.length; i++) {\n\t\tconst queryKey = queryKeys[i];\n\t\ttransformedQuery[transformConfig[queryKey] || queryKey] = query[queryKey];\n\t}\n\treturn transformedQuery;\n}\n\nfunction transformOptions<R extends ResourceOptions<any> | ResourceFindOptions<any>>(\n\toptions: R,\n\ttransformConfig?: TransformConfig<any>\n): R {\n\tif (transformConfig) {\n\t\tif (isFindOptions(options) && options.options.query) {\n\t\t\tconst query = transformQuery(options.options.query, transformConfig);\n\t\t\toptions.options = { ...options.options, query };\n\t\t}\n\t\tif (options.query && transformConfig) {\n\t\t\tconst query = transformQuery(options.query, transformConfig);\n\t\t\treturn { ...options, query };\n\t\t}\n\t}\n\treturn { ...options };\n}\n\nfunction isTemplateWithInit(value: any): value is ResourceTemplateWithInit<any> {\n\treturn Boolean(value && value.init);\n}\n\nfunction diffInitOptions(current: any, next: any) {\n\tconst keys = new Set([...Object.keys(current), ...Object.keys(next)]);\n\treturn [...keys].some((initKey) => auto(current[initKey], next[initKey], 1).changed);\n}\n\nfunction createResource<S = never, T extends ResourceInitOptions = ResourceInitOptions>(\n\ttemplate: ResourceTemplate<S> | ResourceTemplateWithInit<S>,\n\tinitOptions?: T\n): Resource<S> {\n\tconst dataMap = new Map<string, S[]>();\n\tconst metaMap = new Map<string, ResourceMeta>();\n\tconst statusMap = new Map<string, StatusType>();\n\tconst findMap = new Map<string, undefined | ResourceFindResult<S>>();\n\tconst requestPageMap = new Map<string, number[]>();\n\tconst invalidatorMaps: InvalidatorMaps = {\n\t\tread: new Map<string, Set<Invalidator>>(),\n\t\tfind: new Map<string, Set<Invalidator>>(),\n\t\tmeta: new Map<string, Set<Invalidator>>(),\n\t\tfailed: new Map<string, Set<Invalidator>>(),\n\t\tloading: new Map<string, Set<Invalidator>>()\n\t};\n\tconst { read, find } = template;\n\n\tfunction get(request: Partial<ResourceReadRequest<S>> = {}) {\n\t\tconst dataKey = getDataKey(request);\n\t\tconst data = dataMap.get(dataKey) || [];\n\t\treturn { data, total: data.length };\n\t}\n\n\tfunction put(response: ResourceReadResponse<S>, request: ResourceReadRequest<S>): void;\n\tfunction put(response: ResourceFindResponse<S> | undefined, request: ResourceFindRequest<S>): void;\n\tfunction put(\n\t\tresponse: ResourceReadResponse<S> | ResourceFindResponse<S> | undefined,\n\t\trequest: ResourceReadRequest<S> | ResourceFindRequest<S>\n\t) {\n\t\tif (isFindRequest(request) && (isFindResponse(response) || !response)) {\n\t\t\tsetFind(response, request);\n\t\t} else if (!isFindRequest(request) && !isFindResponse(response) && response) {\n\t\t\tsetData(response, request);\n\t\t}\n\t}\n\n\tif (isTemplateWithInit(template)) {\n\t\ttemplate.init(initOptions, { put, get });\n\t}\n\n\tfunction invalidate(type: SubscriptionType, key: string) {\n\t\tconst keyedInvalidatorMap = invalidatorMaps[type];\n\t\tconst invalidatorSet = keyedInvalidatorMap.get(key);\n\t\tif (invalidatorSet) {\n\t\t\t[...invalidatorSet].forEach((invalidator) => {\n\t\t\t\tinvalidator();\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction invalidateAll() {\n\t\tObject.keys(invalidatorMaps).forEach((key: string) => {\n\t\t\tconst map = invalidatorMaps[key as keyof InvalidatorMaps];\n\t\t\tmap.forEach((invalidatorSet) => {\n\t\t\t\tinvalidatorSet.forEach((invalidator) => {\n\t\t\t\t\tinvalidator();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction subscribe(type: SubscriptionType, invalidator: Invalidator, key: string): void {\n\t\tconst keyedInvalidatorMap = invalidatorMaps[type];\n\t\tconst invalidatorSet = keyedInvalidatorMap.get(key) || new Set<Invalidator>();\n\t\tinvalidatorSet.add(invalidator);\n\t\tkeyedInvalidatorMap.set(key, invalidatorSet);\n\t}\n\n\tfunction subscribeRead(invalidator: Invalidator, options: ResourceOptions<S>) {\n\t\tsubscribe('read', invalidator, getReadKey(options));\n\t}\n\n\tfunction subscribeMeta(invalidator: Invalidator, options: ResourceOptions<S>) {\n\t\tsubscribe('meta', invalidator, getReadKey(options));\n\t}\n\n\tfunction subscribeFind(invalidator: Invalidator, options: ResourceFindOptions<S>) {\n\t\tsubscribe('find', invalidator, getFindKey(options));\n\t}\n\n\tfunction subscribeLoading(invalidator: Invalidator, options: ResourceOptions<S> | ResourceFindOptions<S>) {\n\t\tif (isFindOptions(options)) {\n\t\t\tsubscribe('loading', invalidator, getFindKey(options));\n\t\t} else {\n\t\t\tsubscribe('loading', invalidator, getReadKey(options));\n\t\t}\n\t}\n\n\tfunction subscribeFailed(invalidator: Invalidator, options: ResourceOptions<S> | ResourceFindOptions<S>) {\n\t\tif (isFindOptions(options)) {\n\t\t\tsubscribe('failed', invalidator, getFindKey(options));\n\t\t} else {\n\t\t\tsubscribe('failed', invalidator, getReadKey(options));\n\t\t}\n\t}\n\n\tfunction unsubscribe(invalidator: Invalidator) {\n\t\tObject.keys(invalidatorMaps).forEach((type) => {\n\t\t\tconst keyedInvalidatorMap = invalidatorMaps[type as SubscriptionType];\n\t\t\tconst keys = keyedInvalidatorMap.keys();\n\t\t\t[...keys].forEach((key) => {\n\t\t\t\tconst invalidatorSet = keyedInvalidatorMap.get(key);\n\t\t\t\tif (invalidatorSet && invalidatorSet.has(invalidator)) {\n\t\t\t\t\tinvalidatorSet.delete(invalidator);\n\t\t\t\t\tif (invalidatorSet.size === 0) {\n\t\t\t\t\t\tkeyedInvalidatorMap.delete(key);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkeyedInvalidatorMap.set(key, invalidatorSet);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction releaseResource() {\n\t\tdataMap.clear();\n\t\tmetaMap.clear();\n\t\tstatusMap.clear();\n\t\trequestPageMap.clear();\n\t}\n\n\tfunction isStatus(statusType: StatusType, key: string) {\n\t\tconst status = statusMap.get(key);\n\t\tif (status) {\n\t\t\treturn status === statusType;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction setStatus(status: StatusType, key: string) {\n\t\tstatusMap.set(key, status);\n\t}\n\n\tfunction clearStatus(key: string) {\n\t\tstatusMap.delete(key);\n\t}\n\n\tfunction isLoading(options: ResourceOptions<S> | ResourceFindOptions<S>) {\n\t\tconst key = isFindOptions(options) ? getFindKey(options) : getReadKey(options);\n\t\treturn isStatus('LOADING', key);\n\t}\n\n\tfunction isFailed(options: ResourceOptions<S> | ResourceFindOptions<S>) {\n\t\tconst key = isFindOptions(options) ? getFindKey(options) : getReadKey(options);\n\t\treturn isStatus('FAILED', key);\n\t}\n\n\tfunction setMeta(options: ResourceOptions<S>, total: number) {\n\t\tconst metaKey = getMetaKey(options);\n\t\tlet meta = metaMap.get(metaKey);\n\t\tif (!meta) {\n\t\t\tmeta = { ...options, total };\n\t\t} else {\n\t\t\tif (!meta.total || total > meta.total) {\n\t\t\t\tmeta.total = total;\n\t\t\t}\n\t\t}\n\t\tinvalidate('meta', getMetaKey(options));\n\t\tmetaMap.set(metaKey, { ...meta });\n\t}\n\n\tfunction setData(response: ResourceReadResponse<S>, request: ResourceReadRequest<S>) {\n\t\tconst { data, total } = response;\n\t\tconst { size, offset, query } = request;\n\t\tconst dataKey = getDataKey(request);\n\t\tconst cachedData = dataMap.get(dataKey) || [];\n\t\tconst maxItem = total ? total : offset + data.length;\n\t\tfor (let i = offset; i < maxItem; i += 1) {\n\t\t\tif (data[i - offset] === undefined) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcachedData[i] = data[i - offset];\n\t\t}\n\t\tclearStatus(dataKey);\n\t\tdataMap.set(dataKey, cachedData);\n\t\tconst page = Math.floor(offset / size) + 1;\n\t\tsetMeta({ size, query, page }, total);\n\t\tinvalidate('read', getReadKey({ size, query, page }));\n\t\treturn cachedData.slice(offset, offset + size).filter(() => true);\n\t}\n\n\tfunction setFind(response: ResourceFindResponse<S> | undefined, request: ResourceFindRequest<S>) {\n\t\tconst { options } = request;\n\t\tconst { size } = options;\n\t\tconst key = getFindKey(request);\n\t\tif (!response) {\n\t\t\tfindMap.set(key, response);\n\t\t} else {\n\t\t\tfindMap.set(key, {\n\t\t\t\t...response,\n\t\t\t\tpage: Math.floor(response.index / size) + 1,\n\t\t\t\tpageIndex: response.index % size\n\t\t\t});\n\t\t}\n\t\tclearStatus(key);\n\t\tinvalidate('find', getFindKey(request));\n\t}\n\n\tfunction getCachedPageData(options: { page: number; size: number; query: ResourceQuery<S> }): S[] | undefined {\n\t\tconst { size, page } = options;\n\t\tconst metaKey = getMetaKey(options);\n\t\tconst dataKey = getDataKey(options);\n\t\tconst requestedPages = requestPageMap.get(metaKey) || [];\n\t\tconst cachedData = dataMap.get(dataKey);\n\t\tif (cachedData) {\n\t\t\tconst offset = (page - 1) * size;\n\t\t\tconst requestedCachedData = cachedData.slice(offset, offset + size).filter(() => true);\n\t\t\tsetMeta(options, cachedData.length);\n\t\t\tif (requestedCachedData.length === size || requestedPages.indexOf(page) !== -1) {\n\t\t\t\treturn requestedCachedData;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getOrRead(options: ResourceOptions<S>): (undefined | S[])[] {\n\t\tconst pages = Array.isArray(options.page) ? options.page : [options.page];\n\t\tconst { size, query } = options;\n\t\tconst getOrReadResponse: (undefined | S[])[] = [];\n\t\tconst requestKey = getReadKey(options);\n\t\tconst promises: Promise<any>[] = [];\n\n\t\tfor (let i = 0; i < pages.length; i++) {\n\t\t\tconst page = pages[i];\n\t\t\tconst offset = (page - 1) * size;\n\t\t\tconst statusKey = getReadKey({ page, size, query });\n\t\t\tconst metaKey = getMetaKey({ size, query, page });\n\t\t\tconst requestedPages = requestPageMap.get(metaKey) || [];\n\t\t\tif (isLoading({ page, size, query }) || isFailed({ page, size, query })) {\n\t\t\t\tgetOrReadResponse.push(undefined);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst cachedData = getCachedPageData({ size, query, page });\n\t\t\tif (cachedData) {\n\t\t\t\tgetOrReadResponse.push(cachedData);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\trequestedPages.push(page);\n\t\t\trequestPageMap.set(metaKey, requestedPages);\n\t\t\tconst response = read(\n\t\t\t\t{ offset, size, query },\n\t\t\t\t{\n\t\t\t\t\tget,\n\t\t\t\t\tput\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (isThenable<void>(response)) {\n\t\t\t\tpromises.push(response);\n\t\t\t\tgetOrReadResponse.push(undefined);\n\t\t\t\tsetStatus('LOADING', statusKey);\n\t\t\t\tinvalidate('loading', getReadKey({ size, page, query }));\n\t\t\t\tresponse\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tclearStatus(statusKey);\n\t\t\t\t\t\tinvalidate('read', getReadKey({ size, page, query }));\n\t\t\t\t\t\tinvalidate('loading', getReadKey({ size, page, query }));\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tsetStatus('FAILED', statusKey);\n\t\t\t\t\t\tinvalidate('loading', getReadKey({ size, page, query }));\n\t\t\t\t\t\tinvalidate('failed', getReadKey({ size, page, query }));\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgetOrReadResponse.push(getCachedPageData({ size, query, page }));\n\t\t\t}\n\t\t}\n\t\tif (promises.length) {\n\t\t\tsetStatus('LOADING', requestKey);\n\t\t\tPromise.all(promises)\n\t\t\t\t.then(() => {\n\t\t\t\t\tclearStatus(requestKey);\n\t\t\t\t\tinvalidate('read', getReadKey(options));\n\t\t\t\t\tinvalidate('loading', getReadKey(options));\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tsetStatus('FAILED', requestKey);\n\t\t\t\t\tinvalidate('loading', getReadKey(options));\n\t\t\t\t\tinvalidate('failed', getReadKey(options));\n\t\t\t\t});\n\t\t}\n\t\treturn getOrReadResponse;\n\t}\n\n\tfunction resourceFind(options: ResourceFindOptions<S>): ResourceFindResult<S> | undefined {\n\t\tconst key = getFindKey(getFindOptions(options));\n\t\tif (isStatus('LOADING', key) || isStatus('FAILED', key)) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (findMap.has(key)) {\n\t\t\treturn findMap.get(key);\n\t\t}\n\n\t\tconst response = find(getFindOptions(options), { put, get });\n\t\tif (isThenable(response)) {\n\t\t\tsetStatus('LOADING', key);\n\t\t\tinvalidate('loading', getFindKey(options));\n\t\t\tresponse.then(() => {\n\t\t\t\tclearStatus(key);\n\t\t\t\tinvalidate('find', getFindKey(options));\n\t\t\t\tinvalidate('loading', getFindKey(options));\n\t\t\t});\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\treturn findMap.get(key);\n\t\t}\n\t}\n\n\tfunction resourceInit(options: T, requireDiff = false) {\n\t\tif (isTemplateWithInit(template)) {\n\t\t\tlet reset = true;\n\t\t\tif (requireDiff) {\n\t\t\t\treset = diffInitOptions(initOptions, options);\n\t\t\t}\n\t\t\tif (reset) {\n\t\t\t\treleaseResource();\n\t\t\t\ttemplate.init(options, { put, get });\n\t\t\t\tinvalidateAll();\n\t\t\t}\n\t\t} else {\n\t\t\treleaseResource();\n\t\t}\n\t\tinitOptions = options;\n\t}\n\n\tfunction meta(options: ResourceOptions<S>, request = false) {\n\t\tif (request) {\n\t\t\tgetOrRead(options);\n\t\t}\n\t\treturn metaMap.get(getMetaKey(options));\n\t}\n\n\tfunction destroy(id: string) {\n\t\treleaseResource();\n\t\tObject.keys(invalidatorMaps).forEach((key) => {\n\t\t\tinvalidatorMaps[key as SubscriptionType].clear();\n\t\t});\n\t\tif (initOptions) {\n\t\t\tconst resourceMap = templateToResourceMap.get(template);\n\t\t\tif (resourceMap) {\n\t\t\t\tresourceMap.delete(`${id}/${initOptions.id}`);\n\t\t\t}\n\t\t}\n\t\ttemplateToResourceMap.get(template);\n\t}\n\n\treturn {\n\t\tfind: resourceFind,\n\t\tgetOrRead,\n\t\tinit: resourceInit,\n\t\tmeta,\n\t\tsubscribeMeta,\n\t\tsubscribeRead,\n\t\tsubscribeFind,\n\t\tsubscribeFailed,\n\t\tsubscribeLoading,\n\t\tunsubscribe,\n\t\tisLoading,\n\t\tisFailed,\n\t\tdestroy\n\t};\n}\n\nconst optionInvalidatorMap = new Map<any, Set<Invalidator>>();\nconst templateToResourceMap = new Map<ResourceTemplate<any>, Map<string, Resource<any>>>();\nconst idToResourceMap = new Map<string, Set<{ resource: Resource<any>; type: 'owner' | 'subscribed' }>>();\n\nfunction createOptionsWrapper(): Options<any> {\n\tlet options: ResourceOptions<any> = {\n\t\tpage: 1,\n\t\tsize: 30,\n\t\tquery: {}\n\t};\n\n\tfunction invalidate() {\n\t\tconst invalidatorSet = optionInvalidatorMap.get(setOptions) || [];\n\t\t[...invalidatorSet].forEach((invalidator) => {\n\t\t\tinvalidator();\n\t\t});\n\t}\n\n\tfunction setOptions(newOptions?: Partial<ResourceOptions<any>>): ResourceOptions<any> {\n\t\tif (newOptions) {\n\t\t\tconst calculatedOptions = { ...options, ...newOptions };\n\t\t\tconst { changed } = auto(options, calculatedOptions, 2);\n\t\t\tif (changed) {\n\t\t\t\toptions = calculatedOptions;\n\t\t\t\tinvalidate();\n\t\t\t}\n\t\t}\n\t\treturn options;\n\t}\n\tsetOptions.options = setOptions;\n\treturn setOptions;\n}\n\nfunction isTemplate(value: any): value is ResourceTemplate<any> {\n\treturn Boolean(value && typeof value.read === 'function');\n}\n\nfunction isResource(value: any): value is ResourceTemplateWrapper {\n\treturn Boolean(value && !!value.id);\n}\n\nfunction getResource(templateWrapper: ResourceTemplateWrapper, id: string): Resource<any>;\nfunction getResource(template: ResourceTemplate<any>, id: string, init?: any): Resource<any>;\nfunction getResource(\n\ttemplateOrWrapper: ResourceTemplateWrapper | ResourceTemplate<any>,\n\tid: string,\n\tinit?: any\n): Resource<any> {\n\tconst templateId = (isResource(templateOrWrapper) ? templateOrWrapper.id : init && `${id}/${init.id}`) || 'global';\n\tconst template = isResource(templateOrWrapper) ? templateOrWrapper.template : templateOrWrapper;\n\tconst initOptions = isResource(templateOrWrapper) ? templateOrWrapper.initOptions : init;\n\tconst resourceMap = templateToResourceMap.get(template) || new Map<string, Resource<any>>();\n\tlet resource = resourceMap.get(templateId);\n\tconst registeredResources =\n\t\tidToResourceMap.get(id) || new Set<{ resource: Resource<any>; type: 'owner' | 'subscribed' }>();\n\tif (!resource) {\n\t\tresource = createResource(template, initOptions);\n\t\tresourceMap.set(templateId, resource);\n\t\ttemplateToResourceMap.set(template, resourceMap);\n\t\tconst ownerId = templateId.substring(0, templateId.indexOf('/'));\n\t\tconst isOwner = ownerId === id;\n\t\tif (!isOwner) {\n\t\t\tconst ownerResources =\n\t\t\t\tidToResourceMap.get(ownerId) || new Set<{ resource: Resource<any>; type: 'owner' | 'subscribed' }>();\n\t\t\townerResources.add({ resource, type: 'owner' });\n\t\t\tidToResourceMap.set(ownerId, ownerResources);\n\t\t}\n\t\tregisteredResources.add({ resource, type: isOwner ? 'owner' : 'subscribed' });\n\t} else {\n\t\tif (init) {\n\t\t\tresource.init(init, true);\n\t\t}\n\t\tregisteredResources.add({ resource, type: 'subscribed' });\n\t}\n\tidToResourceMap.set(id, registeredResources);\n\treturn resource;\n}\n\nconst factory = create({ diffProperty, invalidator, destroy });\n\nconst resourceMiddlewareFactory = factory(\n\t({ id: middlewareId, middleware: { diffProperty, invalidator, destroy } }): ResourceMiddleware => {\n\t\tconst optionsMap = new Map<string, Options<any>>();\n\t\tdestroy(() => {\n\t\t\tconst resources = idToResourceMap.get(middlewareId);\n\t\t\tif (resources) {\n\t\t\t\tresources.forEach((resource) => {\n\t\t\t\t\tif (resource.type === 'subscribed') {\n\t\t\t\t\t\tresource.resource.unsubscribe(invalidator);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresource.resource.destroy(middlewareId);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tidToResourceMap.delete(middlewareId);\n\t\t});\n\t\tdiffProperty(\n\t\t\t'resource',\n\t\t\t(): ResourceMiddlewareProperties<any> => {\n\t\t\t\treturn {} as any;\n\t\t\t},\n\t\t\t({ resource: current }, { resource: next }) => {\n\t\t\t\tif (current && next) {\n\t\t\t\t\tconst id = next.template.id || 'global';\n\t\t\t\t\tconst {\n\t\t\t\t\t\ttemplate: { initOptions: currentInitOptions }\n\t\t\t\t\t} = current;\n\t\t\t\t\tconst {\n\t\t\t\t\t\ttemplate: { initOptions: nextInitOptions }\n\t\t\t\t\t} = next;\n\t\t\t\t\tif (nextInitOptions) {\n\t\t\t\t\t\tconst changed = diffInitOptions(currentInitOptions || {}, nextInitOptions);\n\t\t\t\t\t\tif (changed) {\n\t\t\t\t\t\t\tconst resourceMap = templateToResourceMap.get(next.template.template);\n\t\t\t\t\t\t\tif (resourceMap) {\n\t\t\t\t\t\t\t\tconst resource = resourceMap.get(id);\n\t\t\t\t\t\t\t\tif (resource) {\n\t\t\t\t\t\t\t\t\tresource.init(nextInitOptions);\n\t\t\t\t\t\t\t\t\tinvalidator();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst nextOptions = next.options;\n\t\t\t\t\tconst currOptions = current.options;\n\t\t\t\t\tif (currOptions && currOptions !== nextOptions) {\n\t\t\t\t\t\tconst invalidatorSet = optionInvalidatorMap.get(currOptions.options);\n\t\t\t\t\t\tif (invalidatorSet) {\n\t\t\t\t\t\t\tinvalidatorSet.delete(invalidator);\n\t\t\t\t\t\t\tinvalidator();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (next) {\n\t\t\t\t\tconst nextOptions = next.options;\n\t\t\t\t\tconst currOptions = current && current.options;\n\t\t\t\t\tif (nextOptions) {\n\t\t\t\t\t\tconst options: any = (options?: Partial<ResourceOptions<any>>) => {\n\t\t\t\t\t\t\tconst invalidatorSet = optionInvalidatorMap.get(nextOptions.options) || new Set();\n\t\t\t\t\t\t\tinvalidatorSet.add(invalidator);\n\t\t\t\t\t\t\toptionInvalidatorMap.set(nextOptions.options, invalidatorSet);\n\t\t\t\t\t\t\treturn nextOptions.options(options);\n\t\t\t\t\t\t};\n\t\t\t\t\t\toptions.options = nextOptions.options;\n\t\t\t\t\t\tif (!currOptions || currOptions.options !== nextOptions.options) {\n\t\t\t\t\t\t\tinvalidator();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\toptions,\n\t\t\t\t\t\t\ttemplate: next.template\n\t\t\t\t\t\t} as any;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tconst middleware = function(resource: any) {\n\t\t\tif (isTemplate(resource.template)) {\n\t\t\t\tlet { template, transform, initOptions, ...rest } = resource;\n\t\t\t\treturn {\n\t\t\t\t\ttemplate: {\n\t\t\t\t\t\ttemplate,\n\t\t\t\t\t\ttransform,\n\t\t\t\t\t\tid: initOptions ? `${middlewareId}/${initOptions.id}` : 'global',\n\t\t\t\t\t\tinitOptions\n\t\t\t\t\t},\n\t\t\t\t\t...rest\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn resource;\n\t\t};\n\t\tmiddleware.createOptions = (key: string): Options<any> => {\n\t\t\tconst options = optionsMap.get(key);\n\t\t\tif (options) {\n\t\t\t\treturn options;\n\t\t\t}\n\t\t\tconst optionsWrapper = createOptionsWrapper();\n\t\t\tfunction setOptions(options?: Partial<ResourceOptions<any>>) {\n\t\t\t\tconst invalidatorSet = optionInvalidatorMap.get(optionsWrapper.options) || new Set();\n\t\t\t\tinvalidatorSet.add(invalidator);\n\t\t\t\toptionInvalidatorMap.set(optionsWrapper.options, invalidatorSet);\n\t\t\t\treturn optionsWrapper(options);\n\t\t\t}\n\t\t\tsetOptions.options = optionsWrapper.options;\n\t\t\toptionsMap.set(key, setOptions);\n\t\t\treturn setOptions;\n\t\t};\n\t\tmiddleware.getOrRead = (template: any, options: any, init?: any) => {\n\t\t\tconst resource = getResource(template, middlewareId, init);\n\t\t\tconst transform = !isTemplate(template) && template.transform;\n\t\t\tconst resourceOptions = transformOptions(options, transform);\n\t\t\tresource.subscribeRead(invalidator, options);\n\t\t\tconst data = resource.getOrRead(resourceOptions);\n\t\t\tif (data && transform) {\n\t\t\t\treturn data.map((items: any) => {\n\t\t\t\t\tif (items) {\n\t\t\t\t\t\treturn items.map((item: any) => transformData(item, transform));\n\t\t\t\t\t}\n\t\t\t\t\treturn items;\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn data;\n\t\t};\n\t\tmiddleware.find = (template: any, options: any, init?: any) => {\n\t\t\tconst resource = getResource(template, middlewareId, init);\n\t\t\tconst transform = !isTemplate(template) && template.transform;\n\t\t\tconst findOptions = transformOptions(options, transform);\n\t\t\tresource.subscribeFind(invalidator, findOptions);\n\t\t\tconst result = resource.find(findOptions);\n\t\t\tif (result && result.item && transform) {\n\t\t\t\tresult.item = transformData(result.item, transform);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t\tmiddleware.meta = (template: any, options: any, request = false, init?: any) => {\n\t\t\tconst resource = getResource(template, middlewareId, init);\n\t\t\tconst transform = !isTemplate(template) && template.transform;\n\t\t\tconst resourceOptions = transformOptions(options, transform);\n\t\t\tresource.subscribeMeta(invalidator, resourceOptions);\n\t\t\tif (request) {\n\t\t\t\tresource.subscribeRead(invalidator, resourceOptions);\n\t\t\t}\n\t\t\treturn resource.meta(resourceOptions, request);\n\t\t};\n\t\tmiddleware.isLoading = (template: any, options: any, init?: any) => {\n\t\t\tconst resource = getResource(template, middlewareId, init);\n\t\t\tconst transform = !isTemplate(template) && template.transform;\n\t\t\tconst resourceOptions = transformOptions(options, transform);\n\t\t\tresource.subscribeLoading(invalidator, resourceOptions);\n\t\t\treturn resource.isLoading(resourceOptions);\n\t\t};\n\t\tmiddleware.isFailed = (template: any, options: any, init?: any) => {\n\t\t\tconst resource = getResource(template, middlewareId, init);\n\t\t\tconst transform = !isTemplate(template) && template.transform;\n\t\t\tconst resourceOptions = transformOptions(options, transform);\n\t\t\tresource.subscribeFailed(invalidator, resourceOptions);\n\t\t\treturn resource.isFailed(resourceOptions);\n\t\t};\n\t\treturn middleware;\n\t}\n);\n\nexport function createResourceMiddleware<MIDDLEWARE = void>() {\n\treturn resourceMiddlewareFactory.withType<\n\t\tResourceMiddleware<MIDDLEWARE>,\n\t\tMIDDLEWARE extends void ? {} : ResourceMiddlewareProperties<MIDDLEWARE>\n\t>();\n}\n","import { create, node, invalidator } from '../vdom';\n\nconst factory = create({ node, invalidator });\n\nexport const validity = factory(function({ middleware: { node, invalidator } }) {\n\treturn {\n\t\tget(key: string | number, value: string) {\n\t\t\tconst domNode = node.get(key) as HTMLFormElement | undefined;\n\n\t\t\tif (!domNode) {\n\t\t\t\treturn { valid: undefined, message: '' };\n\t\t\t}\n\n\t\t\tif (value !== domNode.value) {\n\t\t\t\tsetTimeout(() => invalidator());\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tvalid: domNode.validity.valid,\n\t\t\t\tmessage: domNode.validationMessage\n\t\t\t};\n\t\t}\n\t};\n});\n\nexport default validity;\n","import { create, node } from '../vdom';\nimport { DimensionResults } from '../meta/Dimensions';\n\nconst factory = create({ node });\n\nconst defaultDimensions = {\n\tclient: {\n\t\theight: 0,\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: 0\n\t},\n\toffset: {\n\t\theight: 0,\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: 0\n\t},\n\tposition: {\n\t\tbottom: 0,\n\t\tleft: 0,\n\t\tright: 0,\n\t\ttop: 0\n\t},\n\tscroll: {\n\t\theight: 0,\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: 0\n\t},\n\tsize: {\n\t\twidth: 0,\n\t\theight: 0\n\t}\n};\n\nexport const dimensions = factory(({ middleware: { node } }) => {\n\treturn {\n\t\tget(key: string | number): Readonly<DimensionResults> {\n\t\t\tconst domNode = node.get(key);\n\t\t\tif (!domNode) {\n\t\t\t\treturn {\n\t\t\t\t\tclient: { ...defaultDimensions.client },\n\t\t\t\t\toffset: { ...defaultDimensions.offset },\n\t\t\t\t\tposition: { ...defaultDimensions.position },\n\t\t\t\t\tscroll: { ...defaultDimensions.scroll },\n\t\t\t\t\tsize: { ...defaultDimensions.size }\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst boundingDimensions = domNode.getBoundingClientRect();\n\t\t\tconst result = {\n\t\t\t\tclient: {\n\t\t\t\t\theight: domNode.clientHeight,\n\t\t\t\t\tleft: domNode.clientLeft,\n\t\t\t\t\ttop: domNode.clientTop,\n\t\t\t\t\twidth: domNode.clientWidth\n\t\t\t\t},\n\t\t\t\toffset: {\n\t\t\t\t\theight: domNode.offsetHeight,\n\t\t\t\t\tleft: domNode.offsetLeft,\n\t\t\t\t\ttop: domNode.offsetTop,\n\t\t\t\t\twidth: domNode.offsetWidth\n\t\t\t\t},\n\t\t\t\tposition: {\n\t\t\t\t\tbottom: boundingDimensions.bottom,\n\t\t\t\t\tleft: boundingDimensions.left,\n\t\t\t\t\tright: boundingDimensions.right,\n\t\t\t\t\ttop: boundingDimensions.top\n\t\t\t\t},\n\t\t\t\tscroll: {\n\t\t\t\t\theight: domNode.scrollHeight,\n\t\t\t\t\tleft: domNode.scrollLeft,\n\t\t\t\t\ttop: domNode.scrollTop,\n\t\t\t\t\twidth: domNode.scrollWidth\n\t\t\t\t},\n\t\t\t\tsize: {\n\t\t\t\t\twidth: boundingDimensions.width,\n\t\t\t\t\theight: boundingDimensions.height\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn result;\n\t\t}\n\t};\n});\n\nexport default dimensions;\n","import global from './global';\nimport has from '../core/has';\n`!has('build-elide')`;\nimport * as Resize from 'resize-observer-polyfill';\nimport wrapper from './util/wrapper';\n\nexport interface DOMRectReadOnly {\n\treadonly x: number;\n\treadonly y: number;\n\treadonly width: number;\n\treadonly height: number;\n\treadonly top: number;\n\treadonly right: number;\n\treadonly bottom: number;\n\treadonly left: number;\n}\n\nexport interface ResizeObserverCallback {\n\t(entries: ResizeObserverEntry[], observer: ResizeObserver): void;\n}\n\nexport interface ResizeObserverEntry {\n\treadonly target: Element;\n\treadonly contentRect: DOMRectReadOnly;\n}\n\nexport interface ResizeObserver {\n\tobserve(target: Element): void;\n\tunobserve(target: Element): void;\n\tdisconnect(): void;\n}\n\ndeclare var ResizeObserver: {\n\tprototype: ResizeObserver;\n\tnew (callback: ResizeObserverCallback): ResizeObserver;\n};\n\nif (!has('build-elide')) {\n\tif (!global.ResizeObserver) {\n\t\t// default is undefined when UMD module is used\n\t\tglobal.ResizeObserver = Resize.default || Resize;\n\t}\n}\n\nexport default wrapper('ResizeObserver', true) as typeof ResizeObserver;\n","import ResizeObserver, { DOMRectReadOnly } from '../../shim/ResizeObserver';\nimport { create, node, destroy } from '../vdom';\nimport { icache } from './icache';\n\nconst factory = create({ node, destroy, icache });\n\nexport const resize = factory(({ middleware: { node, destroy, icache } }) => {\n\tconst keys: (string | number)[] = [];\n\tconst handles: Function[] = [];\n\tdestroy(() => {\n\t\tlet handle: any;\n\t\twhile ((handle = handles.pop())) {\n\t\t\thandle && handle();\n\t\t}\n\t});\n\treturn {\n\t\tget(key: string | number): DOMRectReadOnly | null {\n\t\t\tconst domNode = node.get(key);\n\t\t\tif (!domNode) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\tkeys.push(key);\n\t\t\t\tconst resizeObserver = new ResizeObserver(([entry]) => {\n\t\t\t\t\ticache.set(key, entry.contentRect);\n\t\t\t\t});\n\t\t\t\tresizeObserver.observe(domNode);\n\t\t\t\thandles.push(() => resizeObserver.disconnect());\n\t\t\t}\n\t\t\treturn icache.get<DOMRectReadOnly>(key) || null;\n\t\t}\n\t};\n});\n\nexport default resize;\n","import {tsx, create} from '@dojo/framework/core/vdom';\r\nimport Icon from '@dojo/widgets/icon';\r\nimport * as css from './style/IconCloseDialogHeader.m.css';\r\nimport icache from '@dojo/framework/core/middleware/icache';\r\n\r\n\r\n\r\ninterface IconEvent {\r\n    onclick: () => void;\r\n}\r\n\r\nconst factory = create({icache}).properties<IconEvent>();\r\n\r\n\r\nexport default factory(({properties, middleware:{icache}}) => {\r\n    const {onclick} = properties();\r\n    return <span classes={icache.getOrSet<string[]>(\"styles\",[css.root, css.onleave])}\r\n    onmouseenter={() => {\r\n        icache.set<string[]>('styles', [css.root, css.onenter])\r\n    }}\r\n    onmouseleave={() => {\r\n        icache.set<string[]>('styles', [css.root, css.onleave])\r\n    }}\r\n    onclick={() =>{\r\n        onclick()\r\n    }}\r\n    >\r\n        <Icon type = \"closeIcon\"/></span>\r\n    }\r\n);","import {create, invalidator, tsx} from '@dojo/framework/core/vdom'\r\nimport * as css from './styles/CustomDialog.m.css';\r\nimport dimensions from '@dojo/framework/core/middleware/dimensions';\r\nimport resize from '@dojo/framework/core/middleware/resize';\r\nimport IconCloseDialogHeader from '../icons/IconCloceDialogHeader';\r\nimport icache from \"@dojo/framework/core/middleware/icache\";\r\n\r\ninterface State {\r\n    state: boolean,\r\n    maxWidth: number,\r\n    headerTitle: string,\r\n    classesRoot ?: string,\r\n    classesHeader ?: string\r\n}\r\n\r\nfunction styleBoxPosition(reactiveDom: {width: number, height: number}, dialogDim:  {width: number, height: number}\r\n, maxWidth: number): string {\r\n    let offsetDialog = \"\";\r\n        if (reactiveDom.width > maxWidth) {\r\n            offsetDialog += \" left: \" + Math.round((reactiveDom.width - maxWidth) / 2) + \"px;\";\r\n            offsetDialog += \"width: \" + maxWidth +\"px;\";\r\n        } else {\r\n            offsetDialog += \" left: 0;\";\r\n            offsetDialog += \" width: \" + Math.round(reactiveDom.width) + \"px;\";\r\n            offsetDialog += \" min-width: 200px;\";\r\n        }\r\n        if (reactiveDom.height - dialogDim.height > 0)\r\n            offsetDialog += \" top: \" + Math.round((reactiveDom.height - dialogDim.height) / 2) +\"px;\";\r\n    return offsetDialog;\r\n}\r\n\r\nfunction openCloseDialogClasses(state: boolean, isDialogOpen: (boolean| undefined)): string[] {\r\n    if ((!isDialogOpen && state) || (isDialogOpen && !state))  return [css.wrapper];\r\n    else  return [css.wrapper, css.closedWrapper];\r\n}\r\n\r\nconst factory = create({invalidator, dimensions, resize, icache}).properties<State>().children();\r\n\r\nexport default factory(({children, properties, middleware: {invalidator, dimensions, resize, icache}}) => {\r\n    const {state, maxWidth, headerTitle, classesHeader, classesRoot} = properties();\r\n    icache.getOrSet<boolean>('isDialogOpen', true);\r\n    const myChildren = children();\r\n    let reactiveDom = resize.get('dialogCustomBackGround');\r\n    let dialogDim = dimensions.get(\"dialogCustom\");\r\n    let offsetDialog = \"\";\r\n    if (reactiveDom && dialogDim)\r\n    offsetDialog = styleBoxPosition({width:reactiveDom.width, height: reactiveDom.height}\r\n    , {width:dialogDim.client.width, height: dialogDim.client.height}, maxWidth);\r\n    let wrapperClass = openCloseDialogClasses(state, icache.get('isDialogOpen'));\r\n    //icache.get<boolean>('isDialogOpen'));\r\n    return (\r\n        <div classes={wrapperClass}>\r\n            <div classes={[css.root, classesRoot]} key=\"dialogCustom\" style={offsetDialog}>\r\n            <h2 classes={[css.header, classesHeader]}><span>{headerTitle}</span>\r\n                <IconCloseDialogHeader onclick={() => {\r\n                    icache.set('isDialogOpen',  !icache.get('isDialogOpen'));\r\n                    invalidator()\r\n                    //console.log(icache.get<boolean>('isDialogOpen'));\r\n                    //icache.set<boolean>('isDialogOpen', !icache.get<boolean>('isDialogOpen'));\r\n                }}/>\r\n            </h2>\r\n            <hr style=\"margin:0;\"/>\r\n                {myChildren.map(e => <div>{e}</div>)}\r\n            </div>\r\n            <div classes={css.background} key=\"dialogCustomBackGround\"/>\r\n        </div>)\r\n});","import {createResourceTemplate} from '@dojo/framework/core/middleware/resources';\r\n\r\nconst resourceAddressPost: string = \"http://localhost:9000/sql/execute\";\r\n\r\nexport interface History {\r\n    result: boolean,\r\n    statement: string,\r\n    exeDate: Date,\r\n    exeTime: number\r\n}\r\n\r\nexport interface HistoryBook {\r\n    items: History[]\r\n}\r\n\r\n\r\nexport const template = createResourceTemplate<History>({\r\n    read: async(request, controls) => {\r\n        const response = await fetch('http://localhost:9000/history', {method: 'GET'\r\n            , headers: new Headers({'Content-Type': 'application/json'})});\r\n        let tokens: History[] = [];\r\n        const data = {\r\n            data: tokens,\r\n            total: 0};\r\n        response.json().then(e => {\r\n            let list: any[] =  e.histroryTokenList.tokens;\r\n            for (let i = 0; i < list.length; i++) {\r\n                let history: History = {\r\n                    result:  list[i].executedSuccess,\r\n                exeDate: new Date(list[i].executionDate),\r\n                exeTime:  list[i].executionTime,\r\n                statement: list[i].statement\r\n                };\r\n                data.data.push(history);\r\n            }\r\n            data.total = data.data.length;\r\n            controls.put({ data: data.data, total: data.total }, request);\r\n        });\r\n        controls.put({ data: data.data, total: data.total }, request);\r\n    },\r\n    find: () => {}\r\n});\r\n\r\nasync function postQueryJson(queryString:string) {\r\n    let success = false;\r\n      let message: (JSON| string) = await fetch(resourceAddressPost, {method: 'POST'\r\n          , headers: {'Content-Type': 'text/plain'}, body: queryString}).then(\r\n        (response) =>\r\n            response.json()).then(j => {\r\n                console.log(j.errors , j.data);\r\n                console.log(j.errors.length);\r\n          if (j.errors && j.errors.length > 0) {\r\n              console.log(j.errors);\r\n          return j.errors;\r\n      } else {\r\n             success = true;\r\n             console.log(j.data);\r\n             return  j.data;\r\n         }\r\n      }).catch((error) => {\r\n        // console.log(error);\r\n        return  error.toString()\r\n      });\r\n      // console.log({message, result:success});\r\n      return {message, result:success};\r\n}\r\n\r\nexport async function postQuery(queryString: string): Promise<{message: (string| JSON), result: boolean}> {\r\n    return postQueryJson(queryString);\r\n}\r\n\r\n\r\n","import {create, tsx} from '@dojo/framework/core/vdom';\r\nimport * as css from \"./styles/CustomDialog.m.css\";\r\nimport TextInput from \"@dojo/widgets/text-input\";\r\nimport Button from \"@dojo/widgets/button\";\r\nimport Icon from \"@dojo/widgets/icon\";\r\nimport CustomDialog from \"./CustomDialog\";\r\nimport icache from \"@dojo/framework/core/middleware/icache\";\r\nimport {postQuery} from \"../resource/SQLHistoryResource\";\r\n\r\nconst buttonCss = {\r\n    '@dojo/widgets/button': {\r\n        root: [css.buttonRoot],\r\n        label: [css.buttonLabel]\r\n    },\r\n    '@dojo/widgets/icon': {\r\n        root: [css.iconHeader]\r\n    }\r\n};\r\n\r\ninterface DialogState {\r\n    state: boolean,\r\n    openResult: (message: (JSON| string), result: boolean) => void\r\n    query?: string;\r\n}\r\n\r\nconst helperText:string = \"Insert SQL Statement\";\r\n\r\nconst factory = create({ icache}).properties<DialogState>();\r\n\r\nlet questionPng = require('../icons/question.png');\r\nlet prevQuery: string|undefined = undefined;\r\n\r\nexport default factory(({properties, middleware:{ icache }}) => {\r\n    const {state, openResult, query} = properties();\r\n    if (prevQuery != query) {\r\n        prevQuery = query;\r\n        icache.set('value', query);\r\n    }\r\n    icache.getOrSet<boolean>('isDialogOpen', true);\r\n    return (\r\n        <CustomDialog maxWidth={550} headerTitle={\"New  SQL statement\"} state=\r\n            {(state && !icache.getOrSet<boolean>('isDialogOpen', true))\r\n            || (icache.getOrSet<boolean>('isDialogOpen', true) && !state)}>\r\n        <div classes={[css.content]}>\r\n            <img src={questionPng} alt=\"No\" classes={css.contentImg}/>\r\n            <div classes={css.contentText}>Please specify SQL statement to execute</div>\r\n            <TextInput placeholder={helperText} initialValue={query} onValue={(value) => {\r\n                icache.set('value', value);\r\n            }}/>\r\n            <div classes={css.buttonGroup}>\r\n                <Button classes={buttonCss} onClick={() => {\r\n                    icache.set('isDialogOpen',  !icache.get('isDialogOpen'));\r\n                }}><Icon type=\"closeIcon\" size=\"large\"/>Cancel</Button>\r\n                <Button classes={buttonCss} onClick={() => {\r\n                     let value =  icache.get('value');\r\n                     if (typeof value === 'string') {\r\n                        postQuery(value).then(\r\n                            ({message, result}) => {\r\n                                openResult(message, result);\r\n                                icache.set('isDialogOpen',  !icache.get('isDialogOpen'));\r\n                            });\r\n                     }\r\n                    }\r\n                }><Icon type=\"checkIcon\" size=\"large\"/>Confirm</Button>\r\n            </div>\r\n        </div>\r\n        </CustomDialog>\r\n    )\r\n})\r\n\r\n","import {tsx} from '@dojo/framework/core/vdom';\r\nimport WidgetBase from '@dojo/framework/core/WidgetBase';\r\nimport CustomDialog from \"./CustomDialog\";\r\n import * as css from './styles/SQLStateDialog.m.css';\r\nimport {DgridWrapper} from \"@dojo/interop/dgrid/DgridWrapper\";\r\n\r\ninterface DialogState {\r\n    state: boolean,\r\n    result: boolean,\r\n    message: {[key: string]: any}[]\r\n}\r\n\r\nenum Result {\r\n    Success,\r\n    Fail\r\n}\r\n\r\nexport default class StateDialog extends WidgetBase<DialogState> {\r\n\r\n    private resultHeader = ['Success', 'Error'];\r\n\r\n    private isDialogOpen = true;\r\n\r\n   private getCol() {\r\n       let columns:{[key: string]: string} = {};\r\n       if (this.properties.message[0]) {\r\n           let key: string[] = Object.keys(this.properties.message[0]);\r\n           for (let i = 0; i < key.length; i++) {\r\n               columns[key[i]] = key[i];\r\n           }\r\n       }\r\n       return columns;\r\n   }\r\n\r\n    protected render() {\r\n       let message = this.properties.result ?\r\n           <DgridWrapper data={this.properties.message} columns={this.getCol()}/>: <p>{this.properties.message}</p>;\r\n        return <CustomDialog state={\r\n            (!this.isDialogOpen && this.properties.state) || (this.isDialogOpen && !this.properties.state)\r\n        } headerTitle={this.properties.result? this.resultHeader[Result.Success]: this.resultHeader[Result.Fail]}\r\n                             maxWidth={300} classesHeader={this.properties.result? css.success: css.failed}>\r\n            <div classes={css.message}>{message}</div>\r\n        </CustomDialog>\r\n    }\r\n}","import {create,invalidator, w, v} from '@dojo/framework/core/vdom';\r\nimport {Column, DgridWrapper} from \"@dojo/interop/dgrid/DgridWrapper\";\r\nimport  arrow  from \"../icons/ArrowRight\";\r\nimport successScroll from \"../icons/SuccessScroll\";\r\nimport failedScroll from \"../icons/FailedScroll\";\r\nimport * as css from \"./styles/DGrid.m.css\";\r\nimport {rootCell, rootTh} from \"./styles/DGrid.m.css\";\r\nimport Button from '@dojo/widgets/button';\r\nimport successCircle from '../icons/SuccessCircle';\r\nimport failedCircle from '../icons/FailedCircle';\r\nimport plus from '../icons/Pluss';\r\nimport {createResourceMiddleware} from '@dojo/framework/core/middleware/resources'\r\nimport {History} from \"../resource/SQLHistoryResource\";\r\nimport { node } from '@dojo/framework/core/vdom';\r\nimport SQLPrepareDialog from \"./SQLPrepareDialog\";\r\nimport SQLStateDialog from \"./SQLStateDialog\";\r\nimport icache from \"@dojo/framework/core/middleware/icache\";\r\nimport {filter, filtterCount, HistoryRepresent} from '../services/History'\r\n\r\nconst buttonClassInActive = {\r\n    '@dojo/widgets/button': {\r\n        root: [css.buttonRoot],\r\n        label: [css.buttonLabel]\r\n    }\r\n};\r\n\r\n// registry.define('dialog', Dialog);\r\n\r\nconst buttonClassActive = {\r\n    '@dojo/widgets/button': {...buttonClassInActive['@dojo/widgets/button'], ...{\r\n        root: [...buttonClassInActive['@dojo/widgets/button']['root'], css.buttonPressed]\r\n    }}\r\n};\r\n\r\nlet choosenButtonIndex = 0;\r\n\r\nlet buttonsState = [buttonClassActive, buttonClassInActive, buttonClassInActive, buttonClassInActive];\r\n\r\nfunction createCustomColumn(label: string): Column {\r\n    return {\r\n        label,\r\n        renderHeaderCell(node: HTMLElement): HTMLElement | void {\r\n            node.setAttribute(\"class\", css.rootTh);\r\n            node.innerText = label;\r\n        },\r\n        className: css.rootCell\r\n    };\r\n}\r\n\r\nlet query:string|undefined;\r\n\r\nlet columnTitle = {\r\n    result: {\r\n        renderCell: (object: any, value: any, node: HTMLElement) => {\r\n            node.setAttribute(\"class\", css.rootThSmall + \" \" + rootCell);\r\n            let image;\r\n            if (value === true) {\r\n                image = successScroll.get();\r\n            } else {\r\n                image = failedScroll.get();\r\n            }\r\n            return image;\r\n        },\r\n        renderHeaderCell(node: HTMLElement) {\r\n            node.setAttribute(\"class\", css.rootThSmall + \" \" + rootTh);\r\n        }\r\n\r\n },\r\n    statement: createCustomColumn(\"Statement\"),\r\n    exeDate: createCustomColumn('Execution Date'),\r\n    exeTime: createCustomColumn('Execution Time'),\r\n    exeSQl: {\r\n        renderHeaderCell(node: HTMLElement) {\r\n            node.setAttribute(\"class\", css.rootThSmall + \" \" + css.rootTh);\r\n        },\r\n        renderCell(object: any, value: any, node: HTMLElement) {\r\n\r\n        }\r\n    }\r\n};\r\n\r\nlet data: History[] = [];\r\n\r\n\r\nlet deialogResultOpen = false;\r\nlet dialogOpen = false;\r\n\r\nconst resource = createResourceMiddleware<History>();\r\nconst factory = create({invalidator, resource, node, icache}).properties();\r\n\r\nfunction doFilter(index: number) {\r\n    buttonsState[choosenButtonIndex] = buttonClassInActive;\r\n    buttonsState[index] = buttonClassActive;\r\n    choosenButtonIndex = index;\r\n}\r\n\r\nexport default factory(({id, properties, middleware: {invalidator, resource, icache}}) => {\r\n    columnTitle.exeSQl.renderCell = (object: any, value: any, node: HTMLElement) => {\r\n        node.setAttribute(\"class\", css.rootThSmall + \" \" + css.rootCell);\r\n        let el =  arrow.get();\r\n        el.onclick = () => {\r\n            dialogOpen = !dialogOpen;\r\n            query = object.statement;\r\n            invalidator();\r\n        };\r\n        return el;\r\n    };\r\n    const {getOrRead, createOptions} = resource;\r\n    const {resource: {template, options = createOptions(id)}} = properties();\r\n    [data = []] = getOrRead(template, options({size: Number.MAX_VALUE}));\r\n    let {all, success, failed} = filtterCount(data);\r\n    let filteredData: HistoryRepresent[] =  filter(choosenButtonIndex, data);\r\n    return v(\"div\", {}, [\r\n        v('div', {classes:[css.buttonGroup]}, [\r\n            w(Button, {onClick:() => {\r\n                    doFilter(0);\r\n                    invalidator();\r\n                }, classes: buttonsState[0]}, [\r\n                    v('span', {classes: [css.buttonLabelText]}\r\n                    , ['All(', String(all), ')'])]),\r\n            w(Button, {onClick:() => {\r\n                doFilter(1);\r\n                invalidator();\r\n                }, classes: buttonsState[1]}, [\r\n                    v('span',{classes: css.buttonLabelImg}\r\n                    , [successCircle.vi()]),\r\n                v('span', {classes: [css.buttonLabelText]}, [\r\n                    ' Succeeded(', String(success), ')'])]),\r\n            w(Button, {onClick:() => {\r\n                doFilter(2);\r\n                invalidator();\r\n                }, classes: buttonsState[2]}, [\r\n                v('span',{classes: css.buttonLabelImg}\r\n                    , [failedCircle.vi()])\r\n                ,v('span', {classes: [css.buttonLabelText]}, [\r\n                    ' Failed(', String(failed), ')'])]),\r\n            w(Button, { classes: buttonsState[3], onClick:() => {\r\n                dialogOpen = !dialogOpen;\r\n                query = \"\";\r\n                invalidator();\r\n                }}, [\r\n                v('span',{classes: css.buttonLabelImg}\r\n                    , [plus.vi()]),\r\n                v('span', {classes: [css.buttonLabelText]}, [ ' Add new'])])]),\r\n        w(DgridWrapper, {\r\n            data: filteredData, columns: columnTitle}, []),\r\n        w(SQLPrepareDialog, {state: dialogOpen, openResult: (message, result) => {\r\n            deialogResultOpen = !deialogResultOpen;\r\n            icache.set('message', message);\r\n            icache.set('result', result);\r\n            }, query: query}),\r\n        w(SQLStateDialog, {state: deialogResultOpen, message: icache.getOrSet('message', [])\r\n            , result: icache.getOrSet('result', false)})\r\n])});","import {History} from \"../resource/SQLHistoryResource\";\r\n\r\nexport interface HistoryRepresent {\r\n    result: boolean,\r\n    statement: string,\r\n    exeDate: string,\r\n    exeTime: string\r\n\r\n}\r\n\r\nexport function filter(index: number, data: History[]): HistoryRepresent[] {\r\n    let filteredData: History[] = [];\r\n    switch (index) {\r\n        case(0): {\r\n            filteredData = [...data];\r\n            break;\r\n        }\r\n        case(1): {\r\n            filteredData = data.filter((item) => item['result']);\r\n            break;\r\n        }\r\n        case(2): {\r\n            filteredData = data.filter((item) => !item['result']);\r\n            break;\r\n        }\r\n        default: {\r\n            return [];\r\n        }\r\n    }\r\n    return  filteredData.map(item => {return {\r\n        result: item.result, statement: item.statement\r\n        , exeTime: item.exeTime + \" \" + \"ms\", exeDate:\r\n            (!isNaN(item.exeDate.getTime()))?\r\n            new Intl.DateTimeFormat(\r\n            'sv-SE', {year: 'numeric', month: 'numeric'\r\n                , day:'numeric', hour: 'numeric', minute:'numeric', second: 'numeric'}).format(item.exeDate).toString():\r\n                'Invalid Date'\r\n    }});\r\n}\r\n\r\nexport function filtterCount(data: History[]) {\r\n    let success = data.filter(e => e.result).length;\r\n    return {all:data.length, success, failed:data.length - success};\r\n}","import {create, w} from '@dojo/framework/core/vdom';\r\nimport TextInput from '@dojo/widgets/text-input';\r\n\r\ninterface CustomProperties {\r\n    disabledCustom: boolean\r\n    onValFunc?: ((value?: any| undefined) => void)| undefined\r\n    initValue?: string\r\n}\r\n\r\nconst factory = create().properties<CustomProperties>();\r\n\r\nexport default factory(({properties}) => {\r\n    const {disabledCustom, onValFunc, initValue} = properties();\r\n    let initialValue:string = \"\";\r\n    if (!disabledCustom) initialValue = \"Put your input here!\";\r\n    return w(TextInput, {disabled: disabledCustom, onValue: onValFunc,  placeholder: initialValue\r\n        , value: initValue})\r\n});","import { create, v, w} from '@dojo/framework/core/vdom';\r\nimport Button from '@dojo/widgets/button/index';\r\nimport * as css from './styles/CustomButton.m.css';\r\n\r\nconst extraClasses = {\r\n    '@dojo/widgets/button': {\r\n        root: [css.root],\r\n        label: [css.label]\r\n    }\r\n};\r\n\r\nconst factory = create().properties<{text: string, func: (() => void) | undefined}>();\r\n\r\nexport default factory(({properties}) =>\r\n{\r\n    const { text, func } = properties();\r\n    return v('div', [\r\n        w(Button, {classes: extraClasses, onClick: func}, [text])]);\r\n}\r\n);","import {create, tsx} from '@dojo/framework/core/vdom';\r\nimport CustomInput from \"./CustomInput\";\r\nimport CustomButton from \"./CustomButton\";\r\nimport * as css from \"../App.m.css\";\r\nimport icache from \"@dojo/framework/core/middleware/icache\";\r\n\r\nconst factory = create({icache});\r\n\r\nlet sentence:string = '';\r\n\r\nfunction setSentence(value: string) {\r\n    sentence = value;\r\n}\r\n\r\nexport default factory(({middleware:{icache}})=>\r\n{\r\n    icache.getOrSet('reverse', '');\r\n    return (<div classes={css.grid}>\r\n        <CustomInput disabledCustom={false} onValFunc={setSentence}/>\r\n        <CustomButton text={\"Reverse words\"} func={() =>\r\n            fetch('http://localhost:9000/text/reverse/' + sentence).then(e => e.text()).then(text => {\r\n            icache.set('reverse', text);\r\n        })}/>\r\n        <CustomInput disabledCustom={true} initValue={icache.get('reverse')}/>\r\n        </div>)\r\n});","import { create, v, w } from '@dojo/framework/core/vdom';\nimport theme from '@dojo/framework/core/middleware/theme';\nimport dojo from '@dojo/widgets/theme/dojo';\nimport Menu from './widgets/Menu';\nimport DGrid from \"./widgets/DGrid\";\nimport {createResourceMiddleware} from \"@dojo/framework/core/middleware/resources\";\nimport {template} from './resource/SQLHistoryResource'\nimport * as css from './App.m.css';\nimport CustomTextReverser from \"./widgets/CustomTextReverser\";\n\nconst resource = createResourceMiddleware();\nconst factory = create({ theme, resource });\n\nexport default factory(function App({ id, middleware: { theme, resource } }) {\n\tif (!theme.get()) {\n\t\ttheme.set(dojo);\n\t}\n\treturn v('div', { classes: [css.root] }, [\n\t\tw(Menu, {}),\n\t\tv('div', {classes: [css.main]}, [\n\t\tw(CustomTextReverser, {}),\n\t\tw(DGrid, {resource: resource({template})}, [])\n\t])]);\n});\n","import renderer, { w } from '@dojo/framework/core/vdom';\nimport App from './App';\n\nconst r = renderer(() => w(App, {}));\nconst  domNode =  document.getElementById('app') as HTMLElement;\nr.mount({domNode});\n","import global from '../global';\nimport has from '../../core/has';\n\nexport default function wrapper(nameOnGlobal: string, constructor = false, bind = false): any {\n\tif (has('test')) {\n\t\tif (constructor) {\n\t\t\treturn function(...args: any[]) {\n\t\t\t\treturn new global[nameOnGlobal](...args);\n\t\t\t};\n\t\t} else {\n\t\t\treturn function(...args: any[]) {\n\t\t\t\treturn global[nameOnGlobal](...args);\n\t\t\t};\n\t\t}\n\t}\n\n\treturn bind ? global[nameOnGlobal].bind(global) : global[nameOnGlobal];\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"alpha-prototype/DGrid\",\"rootCell\":\"DGrid-m__rootCell__e35968YuyR7\",\"rootTh\":\"DGrid-m__rootTh__e359682yl01\",\"rootThSmall\":\"DGrid-m__rootThSmall__e35968P0eNk\",\"tabRoot\":\"DGrid-m__tabRoot__e359682csky\",\"tabTab\":\"DGrid-m__tabTab__e359683Z0l8\",\"tabActive\":\"DGrid-m__tabActive__e359681BRO-\",\"buttonRoot\":\"DGrid-m__buttonRoot__e359682Wwgm\",\"buttonPressed\":\"DGrid-m__buttonPressed__e3596813j28\",\"buttonLabel\":\"DGrid-m__buttonLabel__e359683nnK9\",\"buttonLabelText\":\"DGrid-m__buttonLabelText__e359683oXwh\",\"buttonLabelImg\":\"DGrid-m__buttonLabelImg__e35968DX0i7\",\"buttonGroup\":\"DGrid-m__buttonGroup__e359682bg6c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"alpha-prototype/CustomDialog\",\"root\":\"CustomDialog-m__root__e359681Smx-\",\"content\":\"CustomDialog-m__content__e359682v--z\",\"background\":\"CustomDialog-m__background__e35968pntVi\",\"buttonRoot\":\"CustomDialog-m__buttonRoot__e359681x9gN\",\"buttonLabel\":\"CustomDialog-m__buttonLabel__e359681YnBN\",\"buttonGroup\":\"CustomDialog-m__buttonGroup__e359682Ckfz\",\"contentImg\":\"CustomDialog-m__contentImg__e359681XwjO\",\"contentText\":\"CustomDialog-m__contentText__e359682Z5kA\",\"header\":\"CustomDialog-m__header__e3596896Vix\",\"iconHeader\":\"CustomDialog-m__iconHeader__e359681WJah\",\"iconHeaderOnMove\":\"CustomDialog-m__iconHeaderOnMove__e359682Zznm\",\"wrapper\":\"CustomDialog-m__wrapper__e359682eS7q\",\"closedWrapper\":\"CustomDialog-m__closedWrapper__e359681RVyT\",\"iconHeaderOnLeave\":\"CustomDialog-m__iconHeaderOnLeave__e359683beeo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"alpha-prototype/App\",\"root\":\"App-m__root__e359681d1Ad\",\"grid\":\"App-m__grid__e359681Wu6R\",\"main\":\"App-m__main__e359681q5xs\"};","import * as accordionPane from './accordion.m.css';\nimport * as avatar from './avatar.m.css';\nimport * as breadcrumbGroup from './breadcrumb-group.m.css';\nimport * as button from './button.m.css';\nimport * as calendar from './calendar.m.css';\nimport * as card from './card.m.css';\nimport * as checkboxGroup from './checkbox-group.m.css';\nimport * as checkbox from './checkbox.m.css';\nimport * as chipTypeahead from './chip-typeahead.m.css';\nimport * as chip from './chip.m.css';\nimport * as dateInput from './date-input.m.css';\nimport * as dialog from './dialog.m.css';\nimport * as floatingActionButton from './floating-action-button.m.css';\nimport * as form from './form.m.css';\nimport * as gridBody from './grid-body.m.css';\nimport * as gridCell from './grid-cell.m.css';\nimport * as gridFooter from './grid-footer.m.css';\nimport * as gridHeader from './grid-header.m.css';\nimport * as gridPaginatedFooter from './grid-paginated-footer.m.css';\nimport * as gridPlaceholderRow from './grid-placeholder-row.m.css';\nimport * as gridRow from './grid-row.m.css';\nimport * as grid from './grid.m.css';\nimport * as headerCard from './header-card.m.css';\nimport * as header from './header.m.css';\nimport * as helperText from './helper-text.m.css';\nimport * as icon from './icon.m.css';\nimport * as label from './label.m.css';\nimport * as listItem from './list-item.m.css';\nimport * as list from './list.m.css';\nimport * as loadingIndicator from './loading-indicator.m.css';\nimport * as menuItem from './menu-item.m.css';\nimport * as nativeSelect from './native-select.m.css';\nimport * as outlinedButton from './outlined-button.m.css';\nimport * as pagination from './pagination.m.css';\nimport * as passwordInput from './password-input.m.css';\nimport * as popup from './popup.m.css';\nimport * as progress from './progress.m.css';\nimport * as radioGroup from './radio-group.m.css';\nimport * as radio from './radio.m.css';\nimport * as raisedButton from './raised-button.m.css';\nimport * as rangeSlider from './range-slider.m.css';\nimport * as result from './result.m.css';\nimport * as select from './select.m.css';\nimport * as slidePane from './slide-pane.m.css';\nimport * as slider from './slider.m.css';\nimport * as snackbar from './snackbar.m.css';\nimport * as speedDial from './speed-dial.m.css';\nimport * as switchControl from './switch.m.css';\nimport * as tabContainer from './tab-container.m.css';\nimport * as textArea from './text-area.m.css';\nimport * as textInput from './text-input.m.css';\nimport * as threeColumnLayout from './three-column-layout.m.css';\nimport * as timePicker from './time-picker.m.css';\nimport * as titlePane from './title-pane.m.css';\nimport * as tooltip from './tooltip.m.css';\nimport * as twoColumnLayout from './two-column-layout.m.css';\nimport * as typeahead from './typeahead.m.css';\nimport * as darkVariant from './variants/dark.m.css';\nimport * as defaultVariant from './variants/default.m.css';\n\nexport default {\n\ttheme: {\n\t\t'@dojo/widgets/accordion': accordionPane,\n\t\t'@dojo/widgets/avatar': avatar,\n\t\t'@dojo/widgets/breadcrumb-group': breadcrumbGroup,\n\t\t'@dojo/widgets/button': button,\n\t\t'@dojo/widgets/calendar': calendar,\n\t\t'@dojo/widgets/card': card,\n\t\t'@dojo/widgets/checkbox-group': checkboxGroup,\n\t\t'@dojo/widgets/checkbox': checkbox,\n\t\t'@dojo/widgets/chip': chip,\n\t\t'@dojo/widgets/date-input': dateInput,\n\t\t'@dojo/widgets/dialog': dialog,\n\t\t'@dojo/widgets/floating-action-button': floatingActionButton,\n\t\t'@dojo/widgets/form': form,\n\t\t'@dojo/widgets/grid-body': gridBody,\n\t\t'@dojo/widgets/grid-cell': gridCell,\n\t\t'@dojo/widgets/grid-footer': gridFooter,\n\t\t'@dojo/widgets/grid-header': gridHeader,\n\t\t'@dojo/widgets/grid-placeholder-row': gridPlaceholderRow,\n\t\t'@dojo/widgets/grid-paginated-footer': gridPaginatedFooter,\n\t\t'@dojo/widgets/grid-row': gridRow,\n\t\t'@dojo/widgets/grid': grid,\n\t\t'@dojo/widgets/header-card': headerCard,\n\t\t'@dojo/widgets/header': header,\n\t\t'@dojo/widgets/helper-text': helperText,\n\t\t'@dojo/widgets/icon': icon,\n\t\t'@dojo/widgets/label': label,\n\t\t'@dojo/widgets/list-item': listItem,\n\t\t'@dojo/widgets/loading-indicator': loadingIndicator,\n\t\t'@dojo/widgets/menu-item': menuItem,\n\t\t'@dojo/widgets/chip-typeahead': chipTypeahead,\n\t\t'@dojo/widgets/list': list,\n\t\t'@dojo/widgets/outlined-button': outlinedButton,\n\t\t'@dojo/widgets/native-select': nativeSelect,\n\t\t'@dojo/widgets/pagination': pagination,\n\t\t'@dojo/widgets/password-input': passwordInput,\n\t\t'@dojo/widgets/popup': popup,\n\t\t'@dojo/widgets/progress': progress,\n\t\t'@dojo/widgets/radio-group': radioGroup,\n\t\t'@dojo/widgets/radio': radio,\n\t\t'@dojo/widgets/raised-button': raisedButton,\n\t\t'@dojo/widgets/range-slider': rangeSlider,\n\t\t'@dojo/widgets/result': result,\n\t\t'@dojo/widgets/select': select,\n\t\t'@dojo/widgets/slide-pane': slidePane,\n\t\t'@dojo/widgets/slider': slider,\n\t\t'@dojo/widgets/snackbar': snackbar,\n\t\t'@dojo/widgets/speed-dial': speedDial,\n\t\t'@dojo/widgets/switch': switchControl,\n\t\t'@dojo/widgets/tab-container': tabContainer,\n\t\t'@dojo/widgets/text-area': textArea,\n\t\t'@dojo/widgets/text-input': textInput,\n\t\t'@dojo/widgets/three-column-layout': threeColumnLayout,\n\t\t'@dojo/widgets/time-picker': timePicker,\n\t\t'@dojo/widgets/title-pane': titlePane,\n\t\t'@dojo/widgets/tooltip': tooltip,\n\t\t'@dojo/widgets/two-column-layout': twoColumnLayout,\n\t\t'@dojo/widgets/typeahead': typeahead\n\t},\n\tvariants: {\n\t\tdefault: defaultVariant,\n\t\tdark: darkVariant\n\t}\n};\n","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/accordion.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/accordion\",\"root\":\"accordion-m__root__Rxs8b\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/avatar.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/avatar\",\"root\":\"avatar-m__root__1VkSv\",\"avatarColor\":\"avatar-m__avatarColor__3OmuK\",\"avatarColorSecondary\":\"avatar-m__avatarColorSecondary__vkqqN\",\"small\":\"avatar-m__small__2Tqpi\",\"medium\":\"avatar-m__medium__2_v9Q\",\"large\":\"avatar-m__large__1bumt\",\"circle\":\"avatar-m__circle__2IbnP\",\"square\":\"avatar-m__square__32U8B\",\"rounded\":\"avatar-m__rounded__dtC5b\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/breadcrumb-group.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/breadcrumb-group\",\"root\":\"breadcrumb-group-m__root__2c_G5\",\"listItem\":\"breadcrumb-group-m__listItem__3N7sj\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/button.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/button\",\"root\":\"button-m__root__28pvq\",\"pressed\":\"button-m__pressed__3sV_C\",\"disabled\":\"button-m__disabled__f4Azn\",\"label\":\"button-m__label__mkUVZ\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/calendar.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/calendar\",\"root\":\"calendar-m__root__1tLGM\",\"dateGrid\":\"calendar-m__dateGrid__3Deul\",\"weekday\":\"calendar-m__weekday__IVdDz\",\"date\":\"calendar-m__date__2HZ0l\",\"abbr\":\"calendar-m__abbr__NAXva\",\"todayDate\":\"calendar-m__todayDate__1X8CM\",\"inactiveDate\":\"calendar-m__inactiveDate__2Gk9b\",\"selectedDate\":\"calendar-m__selectedDate__2X9KT\",\"topMatter\":\"calendar-m__topMatter__3N546\",\"monthTrigger\":\"calendar-m__monthTrigger__3PjRC\",\"yearTrigger\":\"calendar-m__yearTrigger__iE25Z\",\"previous\":\"calendar-m__previous__ScgW3\",\"next\":\"calendar-m__next__3VwlS\",\"monthTriggerActive\":\"calendar-m__monthTriggerActive__17804\",\"yearTriggerActive\":\"calendar-m__yearTriggerActive__2SWmn\",\"calendarPagingIcon\":\"calendar-m__calendarPagingIcon__EmDza icon-m__icon__2JzPg\",\"monthGrid\":\"calendar-m__monthGrid__D5Viu\",\"yearGrid\":\"calendar-m__yearGrid__2btl0\",\"monthFields\":\"calendar-m__monthFields__25gUW\",\"yearFields\":\"calendar-m__yearFields__316-R\",\"monthRadio\":\"calendar-m__monthRadio__q9SIE\",\"yearRadio\":\"calendar-m__yearRadio__1KTig\",\"monthRadioLabel\":\"calendar-m__monthRadioLabel__1FkZH\",\"yearRadioLabel\":\"calendar-m__yearRadioLabel__16Ui_\",\"monthRadioChecked\":\"calendar-m__monthRadioChecked__3uX63\",\"yearRadioChecked\":\"calendar-m__yearRadioChecked__SkQUn\",\"monthRadioInput\":\"calendar-m__monthRadioInput__3p-Ha\",\"yearRadioInput\":\"calendar-m__yearRadioInput__1jypV\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/card.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/card\",\"root\":\"card-m__root__2O8hE\",\"actions\":\"card-m__actions__16a2H\",\"actionButtons\":\"card-m__actionButtons__I3DkN\",\"actionIcons\":\"card-m__actionIcons__1txrb\",\"primary\":\"card-m__primary__X0sgt\",\"content\":\"card-m__content__1yyco\",\"media\":\"card-m__media__2VVB0\",\"mediaSquare\":\"card-m__mediaSquare__1V7A9\",\"media16by9\":\"card-m__media16by9__2iLHJ\",\"header\":\"card-m__header__294wg\",\"titleWrapper\":\"card-m__titleWrapper__1vlU9\",\"contentWrapper\":\"card-m__contentWrapper__2XDys\",\"title\":\"card-m__title__1st_D\",\"subtitle\":\"card-m__subtitle__2a3KJ\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/checkbox-group.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/checkbox-group\",\"root\":\"checkbox-group-m__root__1BVCZ\",\"legend\":\"checkbox-group-m__legend__2lYxD label-m__root__2OY2Q\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/checkbox.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/checkbox\",\"root\":\"checkbox-m__root__25_UT\",\"input\":\"checkbox-m__input__k7une\",\"inputWrapper\":\"checkbox-m__inputWrapper__J_orM icon-m__checkIcon___SgNE icon-m__icon__2JzPg\",\"checked\":\"checkbox-m__checked__2GgYs\",\"focused\":\"checkbox-m__focused__1ox0Y\",\"onLabel\":\"checkbox-m__onLabel__2S2Uj\",\"offLabel\":\"checkbox-m__offLabel__3YMm8\",\"disabled\":\"checkbox-m__disabled__1rzbj\",\"readonly\":\"checkbox-m__readonly__1z_i8\",\"invalid\":\"checkbox-m__invalid__3uIrz\",\"valid\":\"checkbox-m__valid__3n96h\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/chip-typeahead.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/chip-typeahead\",\"root\":\"chip-typeahead-m__root__sjZeg\",\"value\":\"chip-typeahead-m__value__2uqjJ\",\"selectedIcon\":\"chip-typeahead-m__selectedIcon__3Y90y\",\"input\":\"chip-typeahead-m__input__2EPdN\",\"inputWrapper\":\"chip-typeahead-m__inputWrapper__2u6zp\",\"values\":\"chip-typeahead-m__values__ebPIz\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/chip.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/chip\",\"root\":\"chip-m__root__38BHL\",\"label\":\"chip-m__label__qUnxa\",\"closeIcon\":\"chip-m__closeIcon__1SV6f\",\"clickable\":\"chip-m__clickable__1N1eC\",\"disabled\":\"chip-m__disabled__2k7b5\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/date-input.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/date-input\",\"root\":\"date-input-m__root__2Yzvp\",\"input\":\"date-input-m__input__3TdOm\",\"toggleCalendarButton\":\"date-input-m__toggleCalendarButton__3qDqH\",\"popup\":\"date-input-m__popup__1ZIaA\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/dialog.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/dialog\",\"root\":\"dialog-m__root__NAZCT\",\"main\":\"dialog-m__main__3spJM\",\"underlayVisible\":\"dialog-m__underlayVisible__3Eqbz\",\"title\":\"dialog-m__title__1P-PZ\",\"content\":\"dialog-m__content__6tbsZ\",\"close\":\"dialog-m__close__2sN1M\",\"closeIcon\":\"dialog-m__closeIcon__3LrDH\",\"actions\":\"dialog-m__actions__sY9bD\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/floating-action-button.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/floating-action-button\",\"root\":\"floating-action-button-m__root__2piV7\",\"extended\":\"floating-action-button-m__extended__2XVgZ\",\"small\":\"floating-action-button-m__small__2P-SA\",\"pressed\":\"floating-action-button-m__pressed__2TjQj button-m__pressed__3sV_C\",\"label\":\"floating-action-button-m__label__2Cyv7 button-m__label__mkUVZ\",\"disabled\":\"floating-action-button-m__disabled__1eqKe\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/form.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/form\",\"groupRoot\":\"form-m__groupRoot__xOvIb\",\"column\":\"form-m__column__c4hQg\",\"fieldRoot\":\"form-m__fieldRoot__fLBSE\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/grid-body.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-body\",\"root\":\"grid-body-m__root__2zbEx\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/grid-cell.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-cell\",\"root\":\"grid-cell-m__root__34wXf\",\"input\":\"grid-cell-m__input__2g0he\",\"edit\":\"grid-cell-m__edit__3hH3_\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/grid-footer.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-footer\",\"root\":\"grid-footer-m__root__3p2-L\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/grid-header.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-header\",\"root\":\"grid-header-m__root__HYjsh\",\"cell\":\"grid-header-m__cell__2HBju\",\"sortable\":\"grid-header-m__sortable__Cdm4W\",\"sorted\":\"grid-header-m__sorted__280sg\",\"sort\":\"grid-header-m__sort__31J7s\",\"-webkit-filter\":\"grid-header-m__filter__2Yr-S\",\"filter\":\"grid-header-m__filter__2Yr-S\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/grid-paginated-footer.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-paginated-footer\",\"root\":\"grid-paginated-footer-m__root__23Cev\",\"details\":\"grid-paginated-footer-m__details__3Fazr\",\"more\":\"grid-paginated-footer-m__more__1mDXK\",\"pageNav\":\"grid-paginated-footer-m__pageNav__2afTM\",\"pageNumber\":\"grid-paginated-footer-m__pageNumber__2lhSZ\",\"active\":\"grid-paginated-footer-m__active__iaKed\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/grid-placeholder-row.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-placeholder-row\",\"root\":\"grid-placeholder-row-m__root__UivAF grid-row-m__root__NKTOq\",\"loading\":\"grid-placeholder-row-m__loading__2UpDv\",\"spin\":\"grid-placeholder-row-m__spin__11VRU\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/grid-row.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid-row\",\"root\":\"grid-row-m__root__NKTOq\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/grid.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/grid\",\"root\":\"grid-m__root__3e-Fb\",\"header\":\"grid-m__header__Xgbwh\",\"filterGroup\":\"grid-m__filterGroup__lccgY\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/header-card.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/header-card\",\"root\":\"header-card-m__root__l4KKu\",\"header\":\"header-card-m__header__3iFIG\",\"headerContent\":\"header-card-m__headerContent__2Kz4-\",\"avatar\":\"header-card-m__avatar__kU5oC\",\"title\":\"header-card-m__title__3M9XE\",\"subtitle\":\"header-card-m__subtitle__2o1Ge\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/header.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/header\",\"root\":\"header-m__root__1WDVi\",\"row\":\"header-m__row__3ZCgD\",\"primary\":\"header-m__primary__1cNeA\",\"secondary\":\"header-m__secondary__3uElU\",\"sticky\":\"header-m__sticky__1tiQe\",\"leading\":\"header-m__leading__1C73V\",\"title\":\"header-m__title__2xNxF\",\"actions\":\"header-m__actions__3hd87\",\"action\":\"header-m__action__3QPqq\",\"trailing\":\"header-m__trailing__r7k1p\",\"spacer\":\"header-m__spacer__1njcI\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/helper-text.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/helper-text\",\"root\":\"helper-text-m__root__2HclM\",\"text\":\"helper-text-m__text__2vI1Z\",\"valid\":\"helper-text-m__valid__Qigz0\",\"invalid\":\"helper-text-m__invalid__zjI0U\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/icon.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/icon\",\"icon\":\"icon-m__icon__2JzPg\",\"clockIcon\":\"icon-m__clockIcon__2S5I7\",\"eyeIcon\":\"icon-m__eyeIcon__2UFzR\",\"eyeSlashIcon\":\"icon-m__eyeSlashIcon__1-jQ3\",\"plusIcon\":\"icon-m__plusIcon__C2hAP\",\"minusIcon\":\"icon-m__minusIcon__3yz6D\",\"checkIcon\":\"icon-m__checkIcon___SgNE\",\"closeIcon\":\"icon-m__closeIcon__60eFq\",\"leftIcon\":\"icon-m__leftIcon__86k5d\",\"rightIcon\":\"icon-m__rightIcon__2jTr-\",\"upIcon\":\"icon-m__upIcon__C6vkW\",\"downIcon\":\"icon-m__downIcon__3YfxA\",\"upAltIcon\":\"icon-m__upAltIcon__2h5Ff\",\"downAltIcon\":\"icon-m__downAltIcon__1A_IX\",\"searchIcon\":\"icon-m__searchIcon__1GW-J\",\"barsIcon\":\"icon-m__barsIcon__33nJG\",\"settingsIcon\":\"icon-m__settingsIcon__mUrFB\",\"alertIcon\":\"icon-m__alertIcon__tXYqM\",\"helpIcon\":\"icon-m__helpIcon__AWIZ1\",\"infoIcon\":\"icon-m__infoIcon__2nM8O\",\"cancelIcon\":\"icon-m__cancelIcon__1gsBL\",\"checkedBoxIcon\":\"icon-m__checkedBoxIcon__31wsd\",\"phoneIcon\":\"icon-m__phoneIcon__2SYAN\",\"editIcon\":\"icon-m__editIcon__3z6EX\",\"dateIcon\":\"icon-m__dateIcon__2Olo4\",\"linkIcon\":\"icon-m__linkIcon__1NOjY\",\"locationIcon\":\"icon-m__locationIcon__2MwHF\",\"secureIcon\":\"icon-m__secureIcon__2AVyP\",\"mailIcon\":\"icon-m__mailIcon__10-91\",\"starIcon\":\"icon-m__starIcon__1FwGO\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/label.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/label\",\"root\":\"label-m__root__2OY2Q\",\"secondary\":\"label-m__secondary__2JgjM\",\"required\":\"label-m__required__2p83z\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/list-item.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/list-item\",\"root\":\"list-item-m__root__dUG_o\",\"active\":\"list-item-m__active__3tRcp\",\"selected\":\"list-item-m__selected__1sHW5\",\"disabled\":\"list-item-m__disabled__3VhQD\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/list.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/list\",\"root\":\"list-m__root__3ee5s\",\"menu\":\"list-m__menu___jE2c\",\"divider\":\"list-m__divider__2pf5q\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/loading-indicator.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/loading-indicator\",\"root\":\"loading-indicator-m__root__1S_Do\",\"buffer\":\"loading-indicator-m__buffer__2N8zx\",\"bar\":\"loading-indicator-m__bar__2QYHV\",\"primary\":\"loading-indicator-m__primary__1OxUO\",\"progress\":\"loading-indicator-m__progress__EoLqt\",\"inner\":\"loading-indicator-m__inner__3GTa2\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/menu-item.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/menu-item\",\"root\":\"menu-item-m__root__1HFs_\",\"active\":\"menu-item-m__active__2iRtR\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/native-select.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/native-select\",\"root\":\"native-select-m__root__2A2KN\",\"inputWrapper\":\"native-select-m__inputWrapper__3v5as\",\"select\":\"native-select-m__select__7f8t5\",\"arrow\":\"native-select-m__arrow__3m49y\",\"disabled\":\"native-select-m__disabled__1TaDk\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/outlined-button.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/outlined-button\",\"root\":\"outlined-button-m__root__1j7qa\",\"pressed\":\"outlined-button-m__pressed__2iuy5\",\"label\":\"outlined-button-m__label__SD9Eo\",\"disabled\":\"outlined-button-m__disabled__3POiK\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/pagination.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/pagination\",\"root\":\"pagination-m__root__L7VlA\",\"linksWrapper\":\"pagination-m__linksWrapper__2jtOw\",\"prev\":\"pagination-m__prev__vFB9g\",\"next\":\"pagination-m__next__xfQUm\",\"icon\":\"pagination-m__icon__31lQc\",\"label\":\"pagination-m__label__HE0yp\",\"link\":\"pagination-m__link__3db0U\",\"currentPage\":\"pagination-m__currentPage__InwXB\",\"selectWrapper\":\"pagination-m__selectWrapper__3vqQT\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/password-input.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/password-input\",\"root\":\"password-input-m__root__gH-Hk text-input-m__root__2yKLO\",\"toggleButton\":\"password-input-m__toggleButton__3vybc\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/popup.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/popup\",\"underlayVisible\":\"popup-m__underlayVisible__2xZrq\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/progress.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/progress\",\"root\":\"progress-m__root__2XHXH\",\"output\":\"progress-m__output__vKJw-\",\"bar\":\"progress-m__bar__sB2fc\",\"progress\":\"progress-m__progress__2V0hS\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/radio-group.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/radio-group\",\"root\":\"radio-group-m__root__3VCTl\",\"legend\":\"radio-group-m__legend__ZiCRP\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/radio.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/radio\",\"root\":\"radio-m__root__VefZS\",\"input\":\"radio-m__input__3HytW\",\"inputWrapper\":\"radio-m__inputWrapper__1Zous\",\"radioBackground\":\"radio-m__radioBackground__8HvZ0\",\"radioOuter\":\"radio-m__radioOuter__2v-Zg\",\"radioInner\":\"radio-m__radioInner__3f5tV\",\"focused\":\"radio-m__focused__3nJo1\",\"checked\":\"radio-m__checked__2yRzd\",\"disabled\":\"radio-m__disabled__B3g_v\",\"readonly\":\"radio-m__readonly__5rLlH\",\"invalid\":\"radio-m__invalid__EfJNI\",\"valid\":\"radio-m__valid__1-Pzb\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/raised-button.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/raised-button\",\"root\":\"raised-button-m__root__8rmm4\",\"pressed\":\"raised-button-m__pressed__3Yr5d\",\"label\":\"raised-button-m__label__3lT-j\",\"disabled\":\"raised-button-m__disabled__1M-Lp\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/range-slider.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/range-slider\",\"root\":\"range-slider-m__root__104A-\",\"inputWrapper\":\"range-slider-m__inputWrapper__lTUjE\",\"filled\":\"range-slider-m__filled__XRsjH\",\"thumb\":\"range-slider-m__thumb__qHz5U\",\"input\":\"range-slider-m__input__3dB_q\",\"focused\":\"range-slider-m__focused__355WG\",\"hasOutput\":\"range-slider-m__hasOutput__3mwgj\",\"outputTooltip\":\"range-slider-m__outputTooltip__2RQbx\",\"output\":\"range-slider-m__output__2IwRP\",\"disabled\":\"range-slider-m__disabled__3wxJ-\",\"readonly\":\"range-slider-m__readonly__2W81l\",\"invalid\":\"range-slider-m__invalid__3jnT9\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/result.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/result\",\"root\":\"result-m__root__1s4Al\",\"iconWrapper\":\"result-m__iconWrapper__1nmlS\",\"statusIcon\":\"result-m__statusIcon__3PF2C\",\"iconIcon\":\"result-m__iconIcon__Nu6vI icon-m__icon__2JzPg\",\"actions\":\"result-m__actions__22GMb\",\"actionButtons\":\"result-m__actionButtons__1epeV\",\"contentWrapper\":\"result-m__contentWrapper__2esbQ\",\"content\":\"result-m__content__3eBjD\",\"titleWrapper\":\"result-m__titleWrapper__EmGbs\",\"title\":\"result-m__title__1yfPE\",\"subtitle\":\"result-m__subtitle__3e_ij\",\"alert\":\"result-m__alert__3NSTh\",\"error\":\"result-m__error__1KZCT\",\"info\":\"result-m__info__2T1qW\",\"success\":\"result-m__success__3deJM\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/select.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/select\",\"root\":\"select-m__root__vSQDW\",\"trigger\":\"select-m__trigger__cQJRQ\",\"value\":\"select-m__value__9wfTg\",\"placeholder\":\"select-m__placeholder__2UlZ1\",\"arrow\":\"select-m__arrow__3p83i\",\"menuWrapper\":\"select-m__menuWrapper__OePaS\",\"disabled\":\"select-m__disabled__3zDEP\",\"readonly\":\"select-m__readonly__3yUii\",\"invalid\":\"select-m__invalid__2G3mI\",\"valid\":\"select-m__valid__3Kr6J\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/slide-pane.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/slide-pane\",\"root\":\"slide-pane-m__root__2TQzV\",\"underlayVisible\":\"slide-pane-m__underlayVisible__2dXLD\",\"pane\":\"slide-pane-m__pane__2_qpl\",\"open\":\"slide-pane-m__open__oroHt\",\"content\":\"slide-pane-m__content__3B7wz\",\"title\":\"slide-pane-m__title__2Dwsi\",\"close\":\"slide-pane-m__close__2Tp8H\",\"closeIcon\":\"slide-pane-m__closeIcon__2mfZI\",\"left\":\"slide-pane-m__left__3pSsl\",\"right\":\"slide-pane-m__right__1qBIY\",\"top\":\"slide-pane-m__top__2Ouqt\",\"bottom\":\"slide-pane-m__bottom__2Wm48\",\"slideIn\":\"slide-pane-m__slideIn__QKvGX\",\"slideOut\":\"slide-pane-m__slideOut__3C58O\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/slider.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/slider\",\"root\":\"slider-m__root__1fQ-Q\",\"inputWrapper\":\"slider-m__inputWrapper__1HBJS\",\"track\":\"slider-m__track__2DGhE\",\"fill\":\"slider-m__fill__4FdQ9\",\"thumb\":\"slider-m__thumb__26xCj\",\"input\":\"slider-m__input__2DrOc\",\"outputTooltip\":\"slider-m__outputTooltip__yLzFO\",\"output\":\"slider-m__output__KwPnR\",\"vertical\":\"slider-m__vertical__1lBx-\",\"disabled\":\"slider-m__disabled__LideH\",\"readonly\":\"slider-m__readonly__14OUb\",\"invalid\":\"slider-m__invalid__2uaAc\",\"valid\":\"slider-m__valid__1F6U5\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/snackbar.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/snackbar\",\"root\":\"snackbar-m__root__3DYwa\",\"content\":\"snackbar-m__content__2dPUv\",\"label\":\"snackbar-m__label__D1Lkn\",\"actions\":\"snackbar-m__actions__fQHb6\",\"open\":\"snackbar-m__open__1trii\",\"success\":\"snackbar-m__success__FTGZN\",\"error\":\"snackbar-m__error__1sGDA\",\"leading\":\"snackbar-m__leading__342U0\",\"stacked\":\"snackbar-m__stacked__1Wgqe\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/speed-dial.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/speed-dial\",\"root\":\"speed-dial-m__root__25wC2\",\"up\":\"speed-dial-m__up__1Xsxq\",\"actions\":\"speed-dial-m__actions__1Vkvy\",\"action\":\"speed-dial-m__action__5KwHg\",\"down\":\"speed-dial-m__down__3XH-V\",\"left\":\"speed-dial-m__left__t60Au\",\"right\":\"speed-dial-m__right__3uqbN\",\"open\":\"speed-dial-m__open__e_6NN\",\"actionTransition\":\"speed-dial-m__actionTransition__3Pc7W\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/switch.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/switch\",\"root\":\"switch-m__root__1GFoq\",\"inputWrapper\":\"switch-m__inputWrapper__37KNw\",\"label\":\"switch-m__label__2IMGM\",\"thumb\":\"switch-m__thumb__3xB-N\",\"track\":\"switch-m__track__1U4WH\",\"underlay\":\"switch-m__underlay__1_0bA\",\"nativeControl\":\"switch-m__nativeControl__3isSL\",\"checked\":\"switch-m__checked__o1Lvq\",\"disabled\":\"switch-m__disabled__1Mmee\",\"readonly\":\"switch-m__readonly__o78hN\",\"focused\":\"switch-m__focused__w-VpX\",\"offLabel\":\"switch-m__offLabel__2b7ED\",\"onLabel\":\"switch-m__onLabel__2nH4q\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/tab-container.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/tab-container\",\"root\":\"tab-container-m__root__3r_9I\",\"tabButtons\":\"tab-container-m__tabButtons__3D03V\",\"tabButton\":\"tab-container-m__tabButton__1Rtmj\",\"disabledTabButton\":\"tab-container-m__disabledTabButton__-3pyN\",\"activeTabButton\":\"tab-container-m__activeTabButton__3O1dt\",\"close\":\"tab-container-m__close__2R550\",\"closeable\":\"tab-container-m__closeable__2ZpGe\",\"tab\":\"tab-container-m__tab__14Gr-\",\"alignLeft\":\"tab-container-m__alignLeft__3uIbQ\",\"tabs\":\"tab-container-m__tabs__2dU3y\",\"alignRight\":\"tab-container-m__alignRight__NCc1f\",\"alignBottom\":\"tab-container-m__alignBottom__3hOao\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/text-area.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/text-area\",\"root\":\"text-area-m__root__2NVkd\",\"input\":\"text-area-m__input__Vx3AV\",\"disabled\":\"text-area-m__disabled__ZjqlP\",\"readonly\":\"text-area-m__readonly__3NoH6\",\"invalid\":\"text-area-m__invalid__3Z9ZA\",\"valid\":\"text-area-m__valid__2mAxH\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/text-input.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/text-input\",\"root\":\"text-input-m__root__2yKLO\",\"wrapper\":\"text-input-m__wrapper__2yH16\",\"input\":\"text-input-m__input__2OqON\",\"inputWrapper\":\"text-input-m__inputWrapper__Bf3IL\",\"focused\":\"text-input-m__focused__Bz5Ku\",\"disabled\":\"text-input-m__disabled__1KyyV\",\"readonly\":\"text-input-m__readonly__2dMQl\",\"invalid\":\"text-input-m__invalid__wejhD\",\"valid\":\"text-input-m__valid__2CP3A\",\"addonRoot\":\"text-input-m__addonRoot__DQCsb\",\"addonFilled\":\"text-input-m__addonFilled__18Yy8\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/three-column-layout.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/three-column-layout\",\"leading\":\"three-column-layout-m__leading__10E32\",\"trailing\":\"three-column-layout-m__trailing__1__Yd\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/time-picker.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/time-picker\",\"root\":\"time-picker-m__root__2uRZv\",\"input\":\"time-picker-m__input__3e4IV\",\"toggleMenuButton\":\"time-picker-m__toggleMenuButton__1eb2P\",\"popup\":\"time-picker-m__popup__3ANpm\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/title-pane.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/title-pane\",\"root\":\"title-pane-m__root__1cmLi\",\"titleButton\":\"title-pane-m__titleButton__hMwuO\",\"content\":\"title-pane-m__content__33Ft6\",\"contentTransition\":\"title-pane-m__contentTransition__1GWDf\",\"open\":\"title-pane-m__open__2GqTv\",\"arrow\":\"title-pane-m__arrow__1RFCq\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/tooltip.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/tooltip\",\"root\":\"tooltip-m__root__1j6Iv\",\"content\":\"tooltip-m__content__1N9s1\",\"bottom\":\"tooltip-m__bottom__2dGm7\",\"top\":\"tooltip-m__top__2QOyL\",\"left\":\"tooltip-m__left__2vQ3o\",\"right\":\"tooltip-m__right__j1o47\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/two-column-layout.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/two-column-layout\",\"root\":\"two-column-layout-m__root__cY11m\",\"small\":\"two-column-layout-m__small__2sTw2\",\"divider\":\"two-column-layout-m__divider__1OqrL\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/typeahead.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/typeahead\",\"root\":\"typeahead-m__root__2Em3D\",\"triggerWrapper\":\"typeahead-m__triggerWrapper__3ijZT\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/variants/dark.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/dark\",\"root\":\"dark-m__root__36GXf\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/dojo/variants/default.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/default\",\"root\":\"default-m__root__1h1rO\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/default/header.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/header\",\"root\":\"header-m__root__1Wu1d\",\"row\":\"header-m__row__3e0zv\",\"primary\":\"header-m__primary__2eL4c\",\"secondary\":\"header-m__secondary__keWQu\",\"sticky\":\"header-m__sticky__3Rxub\",\"leading\":\"header-m__leading__EGBZf\",\"title\":\"header-m__title__3AvG7\",\"actions\":\"header-m__actions__3MCfn\",\"action\":\"header-m__action__1tpKL\",\"trailing\":\"header-m__trailing__1qern\",\"spacer\":\"header-m__spacer__3HogK\"};;","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"alpha-prototype/Menu\",\"root\":\"Menu-m__root__e359681So0I\",\"link\":\"Menu-m__link__e35968rC9Fd\",\"title\":\"Menu-m__title__e359681Zo93\",\"selected\":\"Menu-m__selected__e359682Mg6q\"};","module.exports = __webpack_public_path__ + \"crervon-right.1EohcPG-.svg\";","module.exports = __webpack_public_path__ + \"success-scroll.2plyiMS_.png\";","module.exports = __webpack_public_path__ + \"failed-scroll.2nsNBS55.png\";","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/default/button.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/button\",\"root\":\"button-m__root__wCywK\",\"pressed\":\"button-m__pressed__2zyjz\",\"popup\":\"button-m__popup__2Fl0t\",\"disabled\":\"button-m__disabled__19w7M\",\"label\":\"button-m__label__3hxN8\"};;","module.exports = __webpack_public_path__ + \"success-circle.3bMqH_ma.svg\";","module.exports = __webpack_public_path__ + \"failed-circle.3SKOGIxe.svg\";","module.exports = __webpack_public_path__ + \"pluss.2SJwtalG.svg\";","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/default/helper-text.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/helper-text\",\"root\":\"helper-text-m__root__3s_po\",\"text\":\"helper-text-m__text__dNGJX\",\"valid\":\"helper-text-m__valid__18VWN\",\"invalid\":\"helper-text-m__invalid__1CrCV\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/common/styles/base.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/base\",\"visuallyHidden\":\"base-m__visuallyHidden__1AeWe\",\"focusable\":\"base-m__focusable__1_qAN\",\"hidden\":\"base-m__hidden__3QddU\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/default/label.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/label\",\"root\":\"label-m__root__3Kk7r\",\"readonly\":\"label-m__readonly__2pxUq\",\"invalid\":\"label-m__invalid__1CZyi\",\"valid\":\"label-m__valid__2hdFV\",\"required\":\"label-m__required__2WVo7\",\"disabled\":\"label-m__disabled__34MEb\",\"focused\":\"label-m__focused__ISy0H\",\"secondary\":\"label-m__secondary__37QWK\",\"active\":\"label-m__active__3MoIi\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/default/text-input.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/text-input\",\"input\":\"text-input-m__input__3AObE\",\"root\":\"text-input-m__root__1eiQw\",\"wrapper\":\"text-input-m__wrapper__3sXSt\",\"inputWrapper\":\"text-input-m__inputWrapper__3Usth\",\"inputWrapperFocused\":\"text-input-m__inputWrapperFocused__OjF-_\",\"disabled\":\"text-input-m__disabled__1U733\",\"focused\":\"text-input-m__focused__1nmLV\",\"readonly\":\"text-input-m__readonly__INN_p\",\"required\":\"text-input-m__required__2pLE4\",\"invalid\":\"text-input-m__invalid__12hBo\",\"addonRoot\":\"text-input-m__addonRoot__21n_v\",\"addonFilled\":\"text-input-m__addonFilled__azpzz\",\"hasLeading\":\"text-input-m__hasLeading__1vNgP\",\"hasTrailing\":\"text-input-m__hasTrailing__1levI\",\"noLabel\":\"text-input-m__noLabel__3dEz1\",\"label\":\"text-input-m__label__2oAFG\",\"helperText\":\"text-input-m__helperText__1hpcr\",\"valid\":\"text-input-m__valid__1LmDm\"};;","require('C:/Users/Dmitri/WebstormProjects/dojoprototype/alpha-prototype/node_modules/@dojo/widgets/theme/default/icon.m.css');\nmodule.exports = {\" _key\":\"@dojo/widgets/icon\",\"root\":\"icon-m__root__1eoV_\",\"medium\":\"icon-m__medium__3Xwur\",\"large\":\"icon-m__large__Ml3b4\",\"small\":\"icon-m__small__2BbOV\",\"icon\":\"icon-m__icon__UdYI1\",\"clockIcon\":\"icon-m__clockIcon__3GLpu\",\"downIcon\":\"icon-m__downIcon__2q5lh\",\"leftIcon\":\"icon-m__leftIcon__pBWIt\",\"rightIcon\":\"icon-m__rightIcon__18AW6\",\"closeIcon\":\"icon-m__closeIcon__21KIr\",\"plusIcon\":\"icon-m__plusIcon__2b4l_\",\"minusIcon\":\"icon-m__minusIcon__1DHfu\",\"checkIcon\":\"icon-m__checkIcon__2D3mV\",\"upIcon\":\"icon-m__upIcon__2Whg2\",\"upAltIcon\":\"icon-m__upAltIcon__2GXtu\",\"downAltIcon\":\"icon-m__downAltIcon__hm7FZ\",\"searchIcon\":\"icon-m__searchIcon__2HGOw\",\"barsIcon\":\"icon-m__barsIcon__2e0Qo\",\"settingsIcon\":\"icon-m__settingsIcon__2-UEA\",\"alertIcon\":\"icon-m__alertIcon__WjF2F\",\"helpIcon\":\"icon-m__helpIcon__3c7_4\",\"infoIcon\":\"icon-m__infoIcon__PXtvl\",\"cancelIcon\":\"icon-m__cancelIcon__2ey9p\",\"checkedBoxIcon\":\"icon-m__checkedBoxIcon__TSG-9\",\"phoneIcon\":\"icon-m__phoneIcon__2BO7g\",\"editIcon\":\"icon-m__editIcon__3j9QX\",\"dateIcon\":\"icon-m__dateIcon__3vXGn\",\"linkIcon\":\"icon-m__linkIcon__314xM\",\"locationIcon\":\"icon-m__locationIcon__1uwwo\",\"secureIcon\":\"icon-m__secureIcon__UXrMt\",\"mailIcon\":\"icon-m__mailIcon__3uh6Q\",\"eyeIcon\":\"icon-m__eyeIcon__2Cqqq\",\"eyeSlashIcon\":\"icon-m__eyeSlashIcon__17wRy\",\"starIcon\":\"icon-m__starIcon__r0lYz\"};;","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"alpha-prototype/IconCloseDialogHeader\",\"root\":\"IconCloseDialogHeader-m__root__e359682vGIY\",\"onenter\":\"IconCloseDialogHeader-m__onenter__e35968cEKJc\",\"onleave\":\"IconCloseDialogHeader-m__onleave__e35968hSpRc\"};","module.exports = __webpack_public_path__ + \"question.7eqzYel2.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"alpha-prototype/SQLStateDialog\",\"root\":\"SQLStateDialog-m__root__e359681_wZ8\",\"success\":\"SQLStateDialog-m__success__e359683Lec2\",\"failed\":\"SQLStateDialog-m__failed__e35968tXMuK\",\"message\":\"SQLStateDialog-m__message__e359682jr98\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\" _key\":\"alpha-prototype/CustomButton\",\"root\":\"CustomButton-m__root__e359683KJ-T\",\"label\":\"CustomButton-m__label__e359683ay-t\"};"],"sourceRoot":""}